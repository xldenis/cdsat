
module Cdsat_Trail_TrailIndex_Type
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  type t_trailindex  =
    | C_TrailIndex usize usize
  
  function any_l (_ : 'b) : 'a
  
  let rec t_trailindex (input:t_trailindex) (ret  (field_0:usize) (field_1:usize))= any
    [ good (field_0:usize) (field_1:usize)-> {C_TrailIndex field_0 field_1 = input} (! ret {field_0} {field_1})
    | bad (field_0:usize) (field_1:usize)-> {C_TrailIndex field_0 field_1 <> input} {false} any ]
    
  
  function trailindex_0 (self : t_trailindex) : usize =
    match self with
      | C_TrailIndex a _ -> a
      end
  
  function trailindex_1 (self : t_trailindex) : usize =
    match self with
      | C_TrailIndex _ a -> a
      end
end
module Cdsat_Trail_Reason_Type
  use Alloc_Alloc_Global_Type as Global'0
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  type t_reason  =
    | C_Justified (Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    | C_Decision
    | C_Input
  
  function any_l (_ : 'b) : 'a
  
  let rec justified (input:t_reason) (ret  (field_0:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)))= any
    [ good (field_0:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {C_Justified field_0 = input}
      (! ret {field_0})
    | bad (field_0:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {C_Justified field_0 <> input}
      {false}
      any ]
    
  
  let rec decision (input:t_reason) (ret  )= any
    [ good -> {C_Decision  = input} (! ret) | bad -> {C_Decision  <> input} {false} any ]
    
  
  let rec input (input:t_reason) (ret  )= any
    [ good -> {C_Input  = input} (! ret) | bad -> {C_Input  <> input} {false} any ]
    
end
module Cdsat_Trail_Assignment_Type
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  type t_assignment  =
    | C_Assignment (Term'0.t_term) (Value'0.t_value) (Reason'0.t_reason) usize
  
  function any_l (_ : 'b) : 'a
  
  let rec t_assignment (input:t_assignment) (ret  (term:Term'0.t_term) (val':Value'0.t_value) (reason:Reason'0.t_reason) (level:usize))= any
    [ good (term:Term'0.t_term) (val':Value'0.t_value) (reason:Reason'0.t_reason) (level:usize)-> {C_Assignment term val' reason level
      = input}
      (! ret {term} {val'} {reason} {level})
    | bad (term:Term'0.t_term) (val':Value'0.t_value) (reason:Reason'0.t_reason) (level:usize)-> {C_Assignment term val' reason level
      <> input}
      {false}
      any ]
    
  
  function assignment_term (self : t_assignment) : Term'0.t_term =
    match self with
      | C_Assignment a _ _ _ -> a
      end
  
  function assignment_val (self : t_assignment) : Value'0.t_value =
    match self with
      | C_Assignment _ a _ _ -> a
      end
  
  function assignment_reason (self : t_assignment) : Reason'0.t_reason =
    match self with
      | C_Assignment _ _ a _ -> a
      end
  
  function assignment_level (self : t_assignment) : usize =
    match self with
      | C_Assignment _ _ _ a -> a
      end
end
module Cdsat_Trail_Trail_Type
  use Cdsat_Theory_Trail_Type as Trail'0
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  type t_trail  =
    | C_Trail (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) usize (Snapshot.snap_ty (Trail'0.t_trail)) usize
  
  function any_l (_ : 'b) : 'a
  
  let rec t_trail (input:t_trail) (ret  (assignments:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (level:usize) (ghost':Snapshot.snap_ty (Trail'0.t_trail)) (num_assign:usize))= any
    [ good (assignments:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (level:usize) (ghost':Snapshot.snap_ty (Trail'0.t_trail)) (num_assign:usize)-> {C_Trail assignments level ghost' num_assign
      = input}
      (! ret {assignments} {level} {ghost'} {num_assign})
    | bad (assignments:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (level:usize) (ghost':Snapshot.snap_ty (Trail'0.t_trail)) (num_assign:usize)-> {C_Trail assignments level ghost' num_assign
      <> input}
      {false}
      any ]
    
  
  function trail_assignments (self : t_trail) : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)
    
   =
    match self with
      | C_Trail a _ _ _ -> a
      end
  
  function trail_ghost (self : t_trail) : Snapshot.snap_ty (Trail'0.t_trail) =
    match self with
      | C_Trail _ _ a _ -> a
      end
  
  function trail_level (self : t_trail) : usize =
    match self with
      | C_Trail _ a _ _ -> a
      end
end
module Cdsat_Trail_IndexIterator_Type
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use prelude.prelude.Borrow
  
  type t_indexiterator  =
    | C_IndexIterator (borrowed (Trail'0.t_trail)) (TrailIndex'0.t_trailindex)
  
  function any_l (_ : 'b) : 'a
  
  let rec t_indexiterator (input:t_indexiterator) (ret  (trail:borrowed (Trail'0.t_trail)) (cur_ix:TrailIndex'0.t_trailindex))= any
    [ good (trail:borrowed (Trail'0.t_trail)) (cur_ix:TrailIndex'0.t_trailindex)-> {C_IndexIterator trail cur_ix
      = input}
      (! ret {trail} {cur_ix})
    | bad (trail:borrowed (Trail'0.t_trail)) (cur_ix:TrailIndex'0.t_trailindex)-> {C_IndexIterator trail cur_ix
      <> input}
      {false}
      any ]
    
  
  function indexiterator_trail (self : t_indexiterator) : borrowed (Trail'0.t_trail) =
    match self with
      | C_IndexIterator a _ -> a
      end
end
module Cdsat_Trail_Remove_Impl
  type t
  
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  predicate invariant'1 (self : t)
  
  predicate inv'1 (_x : t)
  
  axiom inv'1 : forall x : t . inv'1 x = true
  
  use seq.Seq
  
  predicate invariant'0 (self : Seq.seq t)
  
  predicate inv'0 (_x : Seq.seq t)
  
  axiom inv'0 : forall x : Seq.seq t . inv'0 x = true
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  predicate contains'0 (self : Seq.seq t) (e : t) =
    [%#span9] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  constant s  : Seq.seq t
  
  constant e  : t
  
  function remove [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq t) (e : t) : Seq.seq t
  
  goal vc_remove : ([%#strail1] inv'1 e)
   -> ([%#strail0] inv'0 s)
   -> match s = (Seq.empty : Seq.seq t) with
    | True -> let result = Seq.empty : Seq.seq t in ([%#strail7] inv'0 result)
    && ([%#strail6] Seq.length result <= Seq.length s)
    && ([%#strail5] contains'0 s e  -> Seq.length result < Seq.length s)
    && ([%#strail4] forall t : t . inv'1 t  -> contains'0 result t  -> t <> e)
    && ([%#strail3] forall t : t . inv'1 t  -> contains'0 result t  -> contains'0 s t)
    && ([%#strail2] forall t : t . inv'1 t  -> contains'0 s t  -> e <> t  -> contains'0 result t)
    | False -> match Seq.get s (Seq.length s - 1) = e with
      | True -> ((([%#strail1] inv'1 e) && ([%#strail0] inv'0 (SeqExt.subsequence s 0 (Seq.length s - 1))))
      /\ 0 <= ([%#strail8] Seq.length s)
      /\ ([%#strail8] Seq.length (SeqExt.subsequence s 0 (Seq.length s - 1))) < ([%#strail8] Seq.length s))
      /\ (([%#strail7] inv'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e))
      && ([%#strail6] Seq.length (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e)
      <= Seq.length (SeqExt.subsequence s 0 (Seq.length s - 1)))
      && ([%#strail5] contains'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
       -> Seq.length (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e)
      < Seq.length (SeqExt.subsequence s 0 (Seq.length s - 1)))
      && ([%#strail4] forall t : t . inv'1 t
       -> contains'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) t  -> t <> e)
      && ([%#strail3] forall t : t . inv'1 t
       -> contains'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) t
       -> contains'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) t)
      && ([%#strail2] forall t : t . inv'1 t
       -> contains'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) t
       -> e <> t  -> contains'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) t)
       -> (let result = remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e in ([%#strail7] inv'0 result)
      && ([%#strail6] Seq.length result <= Seq.length s)
      && ([%#strail5] contains'0 s e  -> Seq.length result < Seq.length s)
      && ([%#strail4] forall t : t . inv'1 t  -> contains'0 result t  -> t <> e)
      && ([%#strail3] forall t : t . inv'1 t  -> contains'0 result t  -> contains'0 s t)
      && ([%#strail2] forall t : t . inv'1 t  -> contains'0 s t  -> e <> t  -> contains'0 result t)))
      | False -> ((([%#strail1] inv'1 e) && ([%#strail0] inv'0 (SeqExt.subsequence s 0 (Seq.length s - 1))))
      /\ 0 <= ([%#strail8] Seq.length s)
      /\ ([%#strail8] Seq.length (SeqExt.subsequence s 0 (Seq.length s - 1))) < ([%#strail8] Seq.length s))
      /\ (([%#strail7] inv'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e))
      && ([%#strail6] Seq.length (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e)
      <= Seq.length (SeqExt.subsequence s 0 (Seq.length s - 1)))
      && ([%#strail5] contains'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
       -> Seq.length (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e)
      < Seq.length (SeqExt.subsequence s 0 (Seq.length s - 1)))
      && ([%#strail4] forall t : t . inv'1 t
       -> contains'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) t  -> t <> e)
      && ([%#strail3] forall t : t . inv'1 t
       -> contains'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) t
       -> contains'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) t)
      && ([%#strail2] forall t : t . inv'1 t
       -> contains'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) t
       -> e <> t  -> contains'0 (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) t)
       -> (let result = Seq.snoc (remove (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s
      - 1)) in ([%#strail7] inv'0 result)
      && ([%#strail6] Seq.length result <= Seq.length s)
      && ([%#strail5] contains'0 s e  -> Seq.length result < Seq.length s)
      && ([%#strail4] forall t : t . inv'1 t  -> contains'0 result t  -> t <> e)
      && ([%#strail3] forall t : t . inv'1 t  -> contains'0 result t  -> contains'0 s t)
      && ([%#strail2] forall t : t . inv'1 t  -> contains'0 s t  -> e <> t  -> contains'0 result t)))
      end
    end
end
module Cdsat_Trail_Impl9_AbstractJustification_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span strail13 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span strail14 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span16 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'5 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span15] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span16] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span17] inv'4 self)
   -> ([%#span19] inv'5 (shallow_model'1 self))
  && ([%#span18] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'4 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span20] inv'5 (shallow_model'1 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'4 x = true
  
  predicate invariant'3 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span15] true
  
  predicate inv'3 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'3 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span17] inv'2 self)
   -> ([%#span19] inv'3 (shallow_model'0 self))
  && ([%#span18] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span20] inv'3 (shallow_model'0 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'2 x
  = true
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'1 (self : TrailIndex'0.t_trailindex) =
    [%#span15] true
  
  predicate inv'1 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'1 : forall x : TrailIndex'0.t_trailindex . inv'1 x = true
  
  predicate invariant'0 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span15] true
  
  predicate inv'0 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'0 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'0 x = true
  
  use set.Fset
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span21] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span22] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span23] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#strail6] inv'0 s)
   -> ([%#strail7] inv'1 e)
   -> ([%#strail13] inv'0 (remove'0 s e))
  && ([%#strail12] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#strail11] contains'2 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#strail10] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'2 (remove'0 s e) t  -> t <> e)
  && ([%#strail9] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'2 (remove'0 s e) t  -> contains'2 s t)
  && ([%#strail8] forall t : TrailIndex'0.t_trailindex . inv'1 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'0 s e) t)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span24] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span25] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span27] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span28] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span29] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span30] Fset.mem e self
  
  use set.Fset
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span31] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  constant self  : Trail'0.t_trail
  
  constant just  : Seq.seq (TrailIndex'0.t_trailindex)
  
  function abstract_justification [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  goal vc_abstract_justification : ([%#strail0] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'0 self (Seq.get just i))
   -> match Seq.length just > 0 with
    | True -> (([%#strail7] inv'1 (Seq.get just 0)) && ([%#strail6] inv'0 just))
    /\ (([%#strail13] inv'0 (remove'0 just (Seq.get just 0)))
    && ([%#strail12] Seq.length (remove'0 just (Seq.get just 0)) <= Seq.length just)
    && ([%#strail11] contains'2 just (Seq.get just 0)  -> Seq.length (remove'0 just (Seq.get just 0)) < Seq.length just)
    && ([%#strail10] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'2 (remove'0 just (Seq.get just 0)) t  -> t <> Seq.get just 0)
    && ([%#strail9] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'2 (remove'0 just (Seq.get just 0)) t  -> contains'2 just t)
    && ([%#strail8] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'2 just t  -> Seq.get just 0 <> t  -> contains'2 (remove'0 just (Seq.get just 0)) t)
     -> (([%#strail0] forall i : int . 0 <= i /\ i < Seq.length (remove'0 just (Seq.get just 0))
     -> contains'0 self (Seq.get (remove'0 just (Seq.get just 0)) i))
    /\ 0 <= ([%#strail5] Seq.length just)
    /\ ([%#strail5] Seq.length (remove'0 just (Seq.get just 0))) < ([%#strail5] Seq.length just))
    /\ (([%#strail4] forall i : int . 0 <= i /\ i < Seq.length (remove'0 just (Seq.get just 0))
     -> contains'1 (abstract_justification self (remove'0 just (Seq.get just 0))) (index_logic'0 self (Seq.get (remove'0 just (Seq.get just 0)) i)))
    && ([%#strail3] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification self (remove'0 just (Seq.get just 0))) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'2 (remove'0 just (Seq.get just 0)) ix
    /\ a = index_logic'0 self ix))
    && ([%#strail2] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification self (remove'0 just (Seq.get just 0))) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
    && ([%#strail1] Fset.cardinal (abstract_justification self (remove'0 just (Seq.get just 0)))
    <= Seq.length (remove'0 just (Seq.get just 0)))
     -> (let set = abstract_justification self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in let result = insert'0 set a in ([%#strail4] forall i : int . 0
    <= i
    /\ i < Seq.length just  -> contains'1 result (index_logic'0 self (Seq.get just i)))
    && ([%#strail3] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 result a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
    && ([%#strail2] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 result a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
    && ([%#strail1] Fset.cardinal result <= Seq.length just))))
    | False -> let result = Fset.empty : Fset.fset (Term'0.t_term, Value'0.t_value) in ([%#strail4] forall i : int . 0
    <= i
    /\ i < Seq.length just  -> contains'1 result (index_logic'0 self (Seq.get just i)))
    && ([%#strail3] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 result a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
    && ([%#strail2] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 result a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
    && ([%#strail1] Fset.cardinal result <= Seq.length just)
    end
end
module Cdsat_Trail_Impl9_Indices
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 652 56 652 57
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 652 59 652 60
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 650 14 650 34
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  use Cdsat_Trail_IndexIterator_Type as Cdsat_Trail_IndexIterator_Type
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Borrow
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  predicate resolve'0 (self : borrowed (Trail'0.t_trail)) =
    [%#span3]  ^ self =  * self
  
  use Cdsat_Trail_IndexIterator_Type as IndexIterator'0
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  let rec indices (self:borrowed (Trail'0.t_trail)) (return'  (ret:IndexIterator'0.t_indexiterator))= (! bb0
    [ bb0 = s0
      [ s0 = Borrow.borrow_final <Trail'0.t_trail> { * self} {Borrow.get_id self}
          (fun (_ret':borrowed (Trail'0.t_trail)) ->
             [ &_3 <- _ret' ] 
             [ &self <- { self with current = ( ^ _3) ; } ] 
            s1)
      | s1 =  [ &_4 <- TrailIndex'0.C_TrailIndex ([%#strail0] (0 : usize)) ([%#strail1] (0 : usize)) ] s2
      | s2 =  [ &_0 <- IndexIterator'0.C_IndexIterator _3 _4 ] 
        (any
        [ any_ (_any:borrowed (Trail'0.t_trail))-> (!  [ &_3 <- _any ] 
          (any [ any_ (_any:TrailIndex'0.t_trailindex)-> (!  [ &_4 <- _any ] s3) ] )) ]
        )
      | s3 = -{resolve'0 self}- s4
      | s4 = return' {_0} ]
       ]
    )
    [ & _0 : IndexIterator'0.t_indexiterator = any_l ()
    | & self : borrowed (Trail'0.t_trail) = self
    | & _3 : borrowed (Trail'0.t_trail) = any_l ()
    | & _4 : TrailIndex'0.t_trailindex = any_l () ]
    
    [ return' (result:IndexIterator'0.t_indexiterator)-> {[@expl:postcondition] [%#strail2] Cdsat_Trail_IndexIterator_Type.indexiterator_trail result
      = self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl10_Next
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 698 29 698 30
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 702 25 702 26
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 703 24 703 25
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 686 14 686 44
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 687 14 690 5
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span6 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span13 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2255 16 2255 20
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 78 26 78 48
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 122 20 122 37
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 115 20 115 37
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 156 27 156 46
  
  let%span span18 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 14 2906 18
  
  let%span span19 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 20 2906 25
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 157 26 157 54
  
  let%span span21 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 4 2906 46
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'6 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span5] true
  
  predicate inv'6 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'6 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'6 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span6] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'5 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'3 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'3_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span7] inv'5 self)
   -> ([%#span9] inv'6 (shallow_model'3 self))
  && ([%#span8] Seq.length (shallow_model'3 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span10] inv'6 (shallow_model'3 self)
  
  axiom inv'5 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'5 x = true
  
  predicate invariant'4 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span5] true
  
  predicate inv'4 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'4 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'4 x = true
  
  use seq.Seq
  
  predicate inv'3 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'2_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span7] inv'3 self)
   -> ([%#span9] inv'4 (shallow_model'2 self))
  && ([%#span8] Seq.length (shallow_model'2 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'3 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span10] inv'4 (shallow_model'2 self)
  
  axiom inv'3 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'3 x
  = true
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span5] true
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : usize) =
    [%#span5] true
  
  predicate inv'1 (_x : usize)
  
  axiom inv'1 : forall x : usize . inv'1 x = true
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span5] true
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span11] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'2 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'3 (Seq.get (shallow_model'2 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  use Cdsat_Trail_IndexIterator_Type as Cdsat_Trail_IndexIterator_Type
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Borrow
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
   =
    [%#span12] shallow_model'3 self
  
  let rec len'1 (self:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (return'  (ret:usize))= {[@expl:precondition] [%#span13] inv'2 self}
    any
    [ return' (result:usize)-> {[%#span14] UIntSize.to_int result = Seq.length (shallow_model'1 self)}
      (! return' {result}) ]
    
  
  use prelude.prelude.Slice
  
  predicate has_value'0 [@inline:trivial] (self : usize) (seq : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (out : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span15] Seq.get seq (UIntSize.to_int self) = out
  
  predicate in_bounds'0 [@inline:trivial] (self : usize) (seq : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
    
   =
    [%#span16] UIntSize.to_int self < Seq.length seq
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span12] shallow_model'2 self
  
  let rec index'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (index:usize) (return'  (ret:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))= {[@expl:precondition] [%#span19] inv'1 index}
    {[@expl:precondition] [%#span18] inv'0 self}
    {[@expl:precondition] [%#span17] in_bounds'0 index (shallow_model'0 self)}
    any
    [ return' (result:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))-> {[%#span21] inv'2 result}
      {[%#span20] has_value'0 index (shallow_model'0 self) result}
      (! return' {result}) ]
    
  
  use Core_Option_Option_Type as Option'0
  
  use Cdsat_Trail_IndexIterator_Type as IndexIterator'0
  
  predicate resolve'0 (self : borrowed (IndexIterator'0.t_indexiterator)) =
    [%#span22]  ^ self =  * self
  
  let rec len'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (return'  (ret:usize))= {[@expl:precondition] [%#span13] inv'0 self}
    any
    [ return' (result:usize)-> {[%#span14] UIntSize.to_int result = Seq.length (shallow_model'0 self)}
      (! return' {result}) ]
    
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use prelude.prelude.Snapshot
  
  let rec next (self:borrowed (IndexIterator'0.t_indexiterator)) (return'  (ret:Option'0.t_option (TrailIndex'0.t_trailindex)))= (! bb0
    [ bb0 = s0
      [ s0 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->
            Trail'0.t_trail { * rtrail'0}
              (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
                len'0 {rassignments'0} (fun (_ret':usize) ->  [ &_7 <- _ret' ] s1)))
      | s1 = bb1 ]
      
    | bb1 = s0
      [ s0 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->
            TrailIndex'0.t_trailindex {rcur_ix'0}
              (fun (r0'0:usize) (r1'0:usize) ->
                UIntSize.ge {r0'0} {_7}
                  (fun (_ret':bool) ->  [ &_5 <- _ret' ] (any [ any_ (_any:usize)-> (!  [ &_7 <- _any ] s1) ] ))))
      | s1 = any [ br0 -> {_5 = false} (! bb3) | br1 -> {_5} (! bb2) ]  ]
      
    | bb2 = s0 [ s0 = -{resolve'0 self}- s1 | s1 =  [ &_0 <- Option'0.C_None ] s2 | s2 = bb9 ] 
    | bb3 = s0
      [ s0 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->
            Trail'0.t_trail { * rtrail'0}
              (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
                IndexIterator'0.t_indexiterator { * self}
                  (fun (rtrail'1:borrowed (Trail'0.t_trail)) (rcur_ix'1:TrailIndex'0.t_trailindex) ->
                    TrailIndex'0.t_trailindex {rcur_ix'1}
                      (fun (r0'0:usize) (r1'0:usize) ->
                        index'0 {rassignments'0} {r0'0}
                          (fun (_ret':Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) ->
                             [ &_15 <- _ret' ] 
                            s1)))))
      | s1 = bb4 ]
      
    | bb4 = s0 [ s0 = len'1 {_15} (fun (_ret':usize) ->  [ &_13 <- _ret' ] s1) | s1 = bb5 ] 
    | bb5 = s0
      [ s0 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->
            TrailIndex'0.t_trailindex {rcur_ix'0}
              (fun (r0'0:usize) (r1'0:usize) ->
                UIntSize.lt {r1'0} {_13}
                  (fun (_ret':bool) ->  [ &_11 <- _ret' ] (any [ any_ (_any:usize)-> (!  [ &_13 <- _any ] s1) ] ))))
      | s1 = any [ br0 -> {_11 = false} (! bb7) | br1 -> {_11} (! bb6) ]  ]
      
    | bb6 = s0
      [ s0 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->  [ &res <- rcur_ix'0 ] s1)
      | s1 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'1:borrowed (Trail'0.t_trail)) (rcur_ix'1:TrailIndex'0.t_trailindex) ->
            TrailIndex'0.t_trailindex {rcur_ix'1}
              (fun (r0'0:usize) (r1'0:usize) ->
                UIntSize.add {r1'0} {[%#strail0] (1 : usize)}
                  (fun (_ret':usize) ->
                    IndexIterator'0.t_indexiterator { * self}
                      (fun (l_trail'0:borrowed (Trail'0.t_trail)) (l_cur_ix'0:TrailIndex'0.t_trailindex) ->
                        TrailIndex'0.t_trailindex {l_cur_ix'0}
                          (fun (l_0'0:usize) (l_1'0:usize) ->
                            
                            [ &self <- { self with current = IndexIterator'0.C_IndexIterator l_trail'0 (TrailIndex'0.C_TrailIndex l_0'0 _ret') ; } ]
                            
                            s2)))))
      | s2 = -{resolve'0 self}- s3
      | s3 =  [ &_0 <- Option'0.C_Some res ] s4
      | s4 = bb9 ]
      
    | bb7 = s0
      [ s0 = IndexIterator'0.t_indexiterator { * self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->
            TrailIndex'0.t_trailindex {rcur_ix'0}
              (fun (r0'0:usize) (r1'0:usize) ->
                UIntSize.add {r0'0} {[%#strail1] (1 : usize)}
                  (fun (_ret':usize) ->
                    IndexIterator'0.t_indexiterator { * self}
                      (fun (l_trail'0:borrowed (Trail'0.t_trail)) (l_cur_ix'0:TrailIndex'0.t_trailindex) ->
                        TrailIndex'0.t_trailindex {l_cur_ix'0}
                          (fun (l_0'0:usize) (l_1'0:usize) ->
                            
                            [ &self <- { self with current = IndexIterator'0.C_IndexIterator l_trail'0 (TrailIndex'0.C_TrailIndex _ret' l_1'0) ; } ]
                            
                            s1)))))
      | s1 = IndexIterator'0.t_indexiterator { * self}
          (fun (l_trail'1:borrowed (Trail'0.t_trail)) (l_cur_ix'1:TrailIndex'0.t_trailindex) ->
            TrailIndex'0.t_trailindex {l_cur_ix'1}
              (fun (l_0'1:usize) (l_1'1:usize) ->
                
                [ &self <- { self with current = IndexIterator'0.C_IndexIterator l_trail'1 (TrailIndex'0.C_TrailIndex l_0'1 ([%#strail2] (0 : usize))) ; } ]
                
                s2))
      | s2 = Borrow.borrow_final <IndexIterator'0.t_indexiterator> { * self} {Borrow.get_id self}
          (fun (_ret':borrowed (IndexIterator'0.t_indexiterator)) ->
             [ &_21 <- _ret' ] 
             [ &self <- { self with current = ( ^ _21) ; } ] 
            s3)
      | s3 = next {_21} (fun (_ret':Option'0.t_option (TrailIndex'0.t_trailindex)) ->  [ &_0 <- _ret' ] s4)
      | s4 = bb8 ]
      
    | bb8 = s0 [ s0 = -{resolve'0 self}- s1 | s1 = bb9 ] 
    | bb9 = return' {_0} ]
    )
    [ & _0 : Option'0.t_option (TrailIndex'0.t_trailindex) = any_l ()
    | & self : borrowed (IndexIterator'0.t_indexiterator) = self
    | & _5 : bool = any_l ()
    | & _7 : usize = any_l ()
    | & _11 : bool = any_l ()
    | & _13 : usize = any_l ()
    | & _15 : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l ()
    | & res : TrailIndex'0.t_trailindex = any_l ()
    | & _21 : borrowed (IndexIterator'0.t_indexiterator) = any_l () ]
    
    [ return' (result:Option'0.t_option (TrailIndex'0.t_trailindex))-> {[@expl:postcondition] [%#strail4] match result with
        | Option'0.C_Some ix -> contains'0 ( * Cdsat_Trail_IndexIterator_Type.indexiterator_trail ( * self)) ix
        | Option'0.C_None -> true
        end}
      {[@expl:postcondition] [%#strail3] Cdsat_Trail_IndexIterator_Type.indexiterator_trail ( ^ self)
      = Cdsat_Trail_IndexIterator_Type.indexiterator_trail ( * self)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl10_Trail
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 680 14 680 36
  
  use Cdsat_Trail_IndexIterator_Type as Cdsat_Trail_IndexIterator_Type
  
  use prelude.prelude.Intrinsic
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use prelude.prelude.Borrow
  
  use Cdsat_Trail_IndexIterator_Type as IndexIterator'0
  
  let rec trail (self:IndexIterator'0.t_indexiterator) (return'  (ret:Trail'0.t_trail))= (! bb0
    [ bb0 = s0
      [ s0 = IndexIterator'0.t_indexiterator {self}
          (fun (rtrail'0:borrowed (Trail'0.t_trail)) (rcur_ix'0:TrailIndex'0.t_trailindex) ->  [ &_3 <- rtrail'0 ] s1)
      | s1 =  [ &_0 <-  * _3 ] s2
      | s2 = return' {_0} ]
       ]
    )
    [ & _0 : Trail'0.t_trail = any_l ()
    | & self : IndexIterator'0.t_indexiterator = self
    | & _3 : borrowed (Trail'0.t_trail) = any_l () ]
    
    [ return' (result:Trail'0.t_trail)-> {[@expl:postcondition] [%#strail0] result
      =  * Cdsat_Trail_IndexIterator_Type.indexiterator_trail self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl11_Index
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 714 15 714 35
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 715 14 715 67
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span3 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span8 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 122 20 122 37
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 115 20 115 37
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 156 27 156 46
  
  let%span span13 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 14 2906 18
  
  let%span span14 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 20 2906 25
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 157 26 157 54
  
  let%span span16 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 4 2906 46
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'7 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span2] true
  
  predicate inv'7 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'7 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'7 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span3] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'6 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span4] inv'6 self)
   -> ([%#span6] inv'7 (shallow_model'1 self))
  && ([%#span5] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'6 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span7] inv'7 (shallow_model'1 self)
  
  axiom inv'6 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'6 x = true
  
  predicate invariant'5 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span2] true
  
  predicate inv'5 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'5 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'5 x = true
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span4] inv'4 self)
   -> ([%#span6] inv'5 (shallow_model'0 self))
  && ([%#span5] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'4 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span7] inv'5 (shallow_model'0 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'4 x
  = true
  
  predicate invariant'3 (self : Assignment'0.t_assignment) =
    [%#span2] true
  
  predicate inv'3 (_x : Assignment'0.t_assignment)
  
  axiom inv'3 : forall x : Assignment'0.t_assignment . inv'3 x = true
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span2] true
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : usize) =
    [%#span2] true
  
  predicate inv'1 (_x : usize)
  
  axiom inv'1 : forall x : usize . inv'1 x = true
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span2] true
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span8] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Slice
  
  use prelude.prelude.Borrow
  
  predicate has_value'1 [@inline:trivial] (self : usize) (seq : Seq.seq (Assignment'0.t_assignment)) (out : Assignment'0.t_assignment)
    
   =
    [%#span9] Seq.get seq (UIntSize.to_int self) = out
  
  predicate in_bounds'1 [@inline:trivial] (self : usize) (seq : Seq.seq (Assignment'0.t_assignment)) =
    [%#span10] UIntSize.to_int self < Seq.length seq
  
  function shallow_model'3 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
   =
    [%#span11] shallow_model'1 self
  
  let rec index'1 (self:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (index:usize) (return'  (ret:Assignment'0.t_assignment))= {[@expl:precondition] [%#span14] inv'1 index}
    {[@expl:precondition] [%#span13] inv'2 self}
    {[@expl:precondition] [%#span12] in_bounds'1 index (shallow_model'3 self)}
    any
    [ return' (result:Assignment'0.t_assignment)-> {[%#span16] inv'3 result}
      {[%#span15] has_value'1 index (shallow_model'3 self) result}
      (! return' {result}) ]
    
  
  predicate has_value'0 [@inline:trivial] (self : usize) (seq : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (out : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span9] Seq.get seq (UIntSize.to_int self) = out
  
  predicate in_bounds'0 [@inline:trivial] (self : usize) (seq : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
    
   =
    [%#span10] UIntSize.to_int self < Seq.length seq
  
  function shallow_model'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span11] shallow_model'0 self
  
  let rec index'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (index:usize) (return'  (ret:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))= {[@expl:precondition] [%#span14] inv'1 index}
    {[@expl:precondition] [%#span13] inv'0 self}
    {[@expl:precondition] [%#span12] in_bounds'0 index (shallow_model'2 self)}
    any
    [ return' (result:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))-> {[%#span16] inv'2 result}
      {[%#span15] has_value'0 index (shallow_model'2 self) result}
      (! return' {result}) ]
    
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use prelude.prelude.Snapshot
  
  let rec index (self:Trail'0.t_trail) (index:TrailIndex'0.t_trailindex) (return'  (ret:Assignment'0.t_assignment))= {[%#strail0] contains'0 self index}
    (! bb0
    [ bb0 = s0
      [ s0 = Trail'0.t_trail {self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            TrailIndex'0.t_trailindex {index}
              (fun (r0'0:usize) (r1'0:usize) ->
                index'0 {rassignments'0} {r0'0}
                  (fun (_ret':Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) ->  [ &_8 <- _ret' ] s1)))
      | s1 = bb1 ]
      
    | bb1 = s0
      [ s0 = TrailIndex'0.t_trailindex {index}
          (fun (r0'0:usize) (r1'0:usize) ->
            index'1 {_8} {r1'0} (fun (_ret':Assignment'0.t_assignment) ->  [ &_6 <- _ret' ] s1))
      | s1 = bb2 ]
      
    | bb2 = s0 [ s0 =  [ &_5 <- _6 ] s1 | s1 =  [ &_0 <- _5 ] s2 | s2 = return' {_0} ]  ]
    )
    [ & _0 : Assignment'0.t_assignment = any_l ()
    | & self : Trail'0.t_trail = self
    | & index : TrailIndex'0.t_trailindex = index
    | & _5 : Assignment'0.t_assignment = any_l ()
    | & _6 : Assignment'0.t_assignment = any_l ()
    | & _8 : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l () ]
    
    [ return' (result:Assignment'0.t_assignment)-> {[@expl:postcondition] [%#strail1] result
      = Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 index)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 index))}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_AbsJustExtend_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 363 4 363 84
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 364 4 364 72
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 365 4 365 129
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 362 14 362 24
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 360 4 360 12
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 360 4 360 12
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span7 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'5 (self : TrailIndex'0.t_trailindex) =
    [%#span6] true
  
  predicate inv'5 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'5 : forall x : TrailIndex'0.t_trailindex . inv'5 x = true
  
  use seq.Seq
  
  predicate invariant'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span6] true
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'3 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span6] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span7] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span8] inv'2 self)
   -> ([%#span10] inv'3 (shallow_model'1 self))
  && ([%#span9] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span11] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span6] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span8] inv'0 self)
   -> ([%#span10] inv'1 (shallow_model'0 self))
  && ([%#span9] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span11] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span12] Fset.mem e self
  
  use set.Fset
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span13] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span14] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span24] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span15] inv'4 s)
   -> ([%#span16] inv'5 e)
   -> ([%#span22] inv'4 (remove'0 s e))
  && ([%#span21] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span20] contains'1 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span19] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'1 (remove'0 s e) t  -> t <> e)
  && ([%#span18] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'1 (remove'0 s e) t  -> contains'1 s t)
  && ([%#span17] forall t : TrailIndex'0.t_trailindex . inv'5 t
   -> contains'1 s t  -> e <> t  -> contains'1 (remove'0 s e) t)
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span25] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span26] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span28] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span29] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span30] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span31] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span38] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span32] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span36] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span35] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'1 just ix /\ a = index_logic'0 self ix))
  && ([%#span34] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span33] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  constant self  : Trail'0.t_trail
  
  constant just  : Seq.seq (TrailIndex'0.t_trailindex)
  
  constant just2  : Seq.seq (TrailIndex'0.t_trailindex)
  
  function abs_just_extend [#"/Users/xavier/Code/cdsat/src/trail.rs" 366 4 366 79] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (just2 : Seq.seq (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_abs_just_extend : ([%#strail1] forall ix : TrailIndex'0.t_trailindex . contains'1 just ix
   -> contains'1 just2 ix)
   -> ([%#strail0] forall i : int . 0 <= i /\ i < Seq.length just2  -> contains'0 self (Seq.get just2 i))
   -> ([%#strail4] forall i : int . 0 <= i /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
  && (let _ = () in let _ = () in ([%#strail5] forall i : int . 0 <= i /\ i < Seq.length just2
   -> contains'0 self (Seq.get just2 i))
  && (let _ = () in let _ = () in [%#strail2] forall tv : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) tv
   -> contains'2 (abstract_justification'0 self just2) tv))
end
module Cdsat_Trail_Impl9_IndexOf
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 429 24 429 25
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 430 8 430 126
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 430 8 430 126
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 430 8 430 126
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 431 20 431 44
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 430 8 430 126
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 433 29 433 30
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 434 12 434 51
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 434 12 434 51
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 434 12 434 51
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 434 24 434 49
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 434 12 434 51
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 438 30 438 47
  
  let%span strail13 = "/Users/xavier/Code/cdsat/src/trail.rs" 444 26 444 27
  
  let%span strail14 = "/Users/xavier/Code/cdsat/src/trail.rs" 446 21 446 22
  
  let%span strail15 = "/Users/xavier/Code/cdsat/src/trail.rs" 440 34 440 58
  
  let%span strail16 = "/Users/xavier/Code/cdsat/src/trail.rs" 441 34 441 50
  
  let%span strail17 = "/Users/xavier/Code/cdsat/src/trail.rs" 424 14 427 5
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span19 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 21 19 25
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 17 14 17 41
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 18 14 18 42
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 4 19 50
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 43 8 43 31
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 91 19 91 23
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 89 14 89 41
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 90 4 90 82
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 91 4 91 35
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 399 12 399 66
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 410 15 410 32
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 411 15 411 32
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 413 31 413 33
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 413 61 413 63
  
  let%span span39 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 412 14 412 42
  
  let%span span40 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 408 4 408 10
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 405 14 405 45
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 403 4 403 10
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span45 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  let%span span46 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/cmp.rs" 1661 15 1661 19
  
  let%span span47 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/cmp.rs" 1661 21 1661 26
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/cmp.rs" 11 26 11 75
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 108 8 108 31
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 392 20 392 61
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/iter.rs" 95 26 98 17
  
  let%span span53 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/slice/iter/macros.rs" 154 12 154 47
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 205 20 205 34
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 199 20 199 24
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/iter.rs" 89 0 175 1
  
  let%span span57 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 3020 17 3020 21
  
  let%span span58 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span59 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span60 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span61 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span62 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use prelude.prelude.Slice
  
  predicate invariant'16 (self : slice (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'16 (_x : slice (Assignment'0.t_assignment))
  
  axiom inv'16 : forall x : slice (Assignment'0.t_assignment) . inv'16 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  predicate invariant'15 (self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'15 (_x : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'15 : forall x : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'15 x = true
  
  predicate invariant'14 (self : slice (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'14 (_x : slice (Assignment'0.t_assignment))
  
  axiom inv'14 : forall x : slice (Assignment'0.t_assignment) . inv'14 x = true
  
  use seq.Seq
  
  predicate invariant'13 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'13 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'13 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'13 x = true
  
  predicate invariant'12 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'12 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'12 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'12 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span19] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'11 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'4 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'4_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span20] inv'11 self)
   -> ([%#span22] inv'12 (shallow_model'4 self))
  && ([%#span21] Seq.length (shallow_model'4 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'11 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span23] inv'12 (shallow_model'4 self)
  
  axiom inv'11 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'11 x = true
  
  predicate invariant'10 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'10 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'10 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'10 x = true
  
  use seq.Seq
  
  predicate inv'9 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'3 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'3_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span20] inv'9 self)
   -> ([%#span22] inv'10 (shallow_model'3 self))
  && ([%#span21] Seq.length (shallow_model'3 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'9 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span23] inv'10 (shallow_model'3 self)
  
  axiom inv'9 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'9 x
  = true
  
  predicate invariant'8 (self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'8 (_x : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'8 : forall x : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'8 x = true
  
  predicate invariant'7 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'7 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'7 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'7 x = true
  
  use Cdsat_Term_Term_Type as Term'0
  
  predicate invariant'6 (self : Term'0.t_term) =
    [%#span18] true
  
  predicate inv'6 (_x : Term'0.t_term)
  
  axiom inv'6 : forall x : Term'0.t_term . inv'6 x = true
  
  use Core_Option_Option_Type as Option'0
  
  predicate invariant'5 (self : Option'0.t_option (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'5 (_x : Option'0.t_option (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Option'0.t_option (Assignment'0.t_assignment) . inv'5 x = true
  
  predicate invariant'4 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span18] true
  
  predicate inv'4 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  axiom inv'4 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'4 x = true
  
  predicate invariant'3 (self : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'3 (_x : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'3 : forall x : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'3 x
  = true
  
  predicate invariant'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span18] true
  
  predicate inv'2 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  axiom inv'2 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'2 x
  = true
  
  use prelude.prelude.Borrow
  
  use Core_Slice_Iter_Iter_Type as Iter'0
  
  use seq.Seq
  
  use seq.Seq
  
  use prelude.prelude.Slice
  
  function shallow_model'14 (self : slice (Assignment'0.t_assignment)) : Seq.seq (Assignment'0.t_assignment)
  
  axiom shallow_model'14_spec : forall self : slice (Assignment'0.t_assignment) . ([%#span24] inv'16 self)
   -> ([%#span27] inv'12 (shallow_model'14 self))
  && ([%#span26] shallow_model'14 self = Slice.id self)
  && ([%#span25] Seq.length (shallow_model'14 self) <= UIntSize.to_int (max'0 : usize))
  
  function index_logic'2 [@inline:trivial] (self : slice (Assignment'0.t_assignment)) (ix : int) : Assignment'0.t_assignment
    
   =
    [%#span28] Seq.get (shallow_model'14 self) ix
  
  use seq.Seq
  
  function shallow_model'12 (self : slice (Assignment'0.t_assignment)) : Seq.seq (Assignment'0.t_assignment) =
    [%#span29] shallow_model'14 self
  
  use seq.Seq
  
  function to_ref_seq'1 (self : slice (Assignment'0.t_assignment)) : Seq.seq (Assignment'0.t_assignment)
  
  axiom to_ref_seq'1_spec : forall self : slice (Assignment'0.t_assignment) . ([%#span30] inv'14 self)
   -> ([%#span33] inv'13 (to_ref_seq'1 self))
  && ([%#span32] forall i : int . 0 <= i /\ i < Seq.length (to_ref_seq'1 self)
   -> Seq.get (to_ref_seq'1 self) i = index_logic'2 self i)
  && ([%#span31] Seq.length (to_ref_seq'1 self) = Seq.length (shallow_model'12 self))
  
  function shallow_model'5 (self : Iter'0.t_iter (Assignment'0.t_assignment)) : slice (Assignment'0.t_assignment)
  
  predicate produces'1 (self : Iter'0.t_iter (Assignment'0.t_assignment)) (visited : Seq.seq (Assignment'0.t_assignment)) (tl : Iter'0.t_iter (Assignment'0.t_assignment))
    
   =
    [%#span34] to_ref_seq'1 (shallow_model'5 self) = Seq.(++) visited (to_ref_seq'1 (shallow_model'5 tl))
  
  function produces_trans'1 (a : Iter'0.t_iter (Assignment'0.t_assignment)) (ab : Seq.seq (Assignment'0.t_assignment)) (b : Iter'0.t_iter (Assignment'0.t_assignment)) (bc : Seq.seq (Assignment'0.t_assignment)) (c : Iter'0.t_iter (Assignment'0.t_assignment)) : ()
    
   =
    [%#span40] ()
  
  axiom produces_trans'1_spec : forall a : Iter'0.t_iter (Assignment'0.t_assignment), ab : Seq.seq (Assignment'0.t_assignment), b : Iter'0.t_iter (Assignment'0.t_assignment), bc : Seq.seq (Assignment'0.t_assignment), c : Iter'0.t_iter (Assignment'0.t_assignment) . ([%#span35] produces'1 a ab b)
   -> ([%#span36] produces'1 b bc c)
   -> ([%#span37] inv'13 ab)  -> ([%#span38] inv'13 bc)  -> ([%#span39] produces'1 a (Seq.(++) ab bc) c)
  
  use seq.Seq
  
  function produces_refl'1 (self : Iter'0.t_iter (Assignment'0.t_assignment)) : () =
    [%#span42] ()
  
  axiom produces_refl'1_spec : forall self : Iter'0.t_iter (Assignment'0.t_assignment) . [%#span41] produces'1 self (Seq.empty  : Seq.seq (Assignment'0.t_assignment)) self
  
  predicate invariant'1 (self : Iter'0.t_iter (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'1 (_x : Iter'0.t_iter (Assignment'0.t_assignment))
  
  axiom inv'1 : forall x : Iter'0.t_iter (Assignment'0.t_assignment) . inv'1 x = true
  
  use seq.Seq
  
  use seq.Seq
  
  use prelude.prelude.Slice
  
  function shallow_model'10 (self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'10_spec : forall self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . ([%#span24] inv'15 self)
   -> ([%#span27] inv'10 (shallow_model'10 self))
  && ([%#span26] shallow_model'10 self = Slice.id self)
  && ([%#span25] Seq.length (shallow_model'10 self) <= UIntSize.to_int (max'0 : usize))
  
  function index_logic'1 [@inline:trivial] (self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span28] Seq.get (shallow_model'10 self) ix
  
  use seq.Seq
  
  function shallow_model'7 (self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span29] shallow_model'10 self
  
  use seq.Seq
  
  function to_ref_seq'0 (self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom to_ref_seq'0_spec : forall self : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . ([%#span30] inv'8 self)
   -> ([%#span33] inv'7 (to_ref_seq'0 self))
  && ([%#span32] forall i : int . 0 <= i /\ i < Seq.length (to_ref_seq'0 self)
   -> Seq.get (to_ref_seq'0 self) i = index_logic'1 self i)
  && ([%#span31] Seq.length (to_ref_seq'0 self) = Seq.length (shallow_model'7 self))
  
  function shallow_model'2 (self : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  predicate produces'0 (self : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (visited : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (tl : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
    
   =
    [%#span34] to_ref_seq'0 (shallow_model'2 self) = Seq.(++) visited (to_ref_seq'0 (shallow_model'2 tl))
  
  function produces_trans'0 (a : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (ab : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (b : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (bc : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (c : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : ()
    
   =
    [%#span40] ()
  
  axiom produces_trans'0_spec : forall a : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)), ab : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)), b : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)), bc : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)), c : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . ([%#span35] produces'0 a ab b)
   -> ([%#span36] produces'0 b bc c)
   -> ([%#span37] inv'7 ab)  -> ([%#span38] inv'7 bc)  -> ([%#span39] produces'0 a (Seq.(++) ab bc) c)
  
  use seq.Seq
  
  function produces_refl'0 (self : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : () =
    [%#span42] ()
  
  axiom produces_refl'0_spec : forall self : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . [%#span41] produces'0 self (Seq.empty  : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) self
  
  predicate invariant'0 (self : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'0 (_x : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'0 : forall x : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'0 x = true
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Intrinsic
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Theory_Term_Type as Term'1
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'0.t_term) : Term'1.t_term
  
  function shallow_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'0.t_term) : Term'1.t_term
   =
    [%#span44] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'2 (self : Term'0.t_term) : Term'1.t_term =
    [%#span45] deep_model'1 self
  
  function deep_model'0 (self : Term'0.t_term) : Term'1.t_term =
    [%#span45] deep_model'2 self
  
  let rec eq'0 (self:Term'0.t_term) (other:Term'0.t_term) (return'  (ret:bool))= {[@expl:precondition] [%#span47] inv'6 other}
    {[@expl:precondition] [%#span46] inv'6 self}
    any [ return' (result:bool)-> {[%#span48] result = (deep_model'0 self = deep_model'0 other)} (! return' {result}) ] 
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use seq.Seq
  
  predicate resolve'1 (self : borrowed (Iter'0.t_iter (Assignment'0.t_assignment))) =
    [%#span49]  ^ self =  * self
  
  use seq.Seq
  
  function shallow_model'13 (self : borrowed (Iter'0.t_iter (Assignment'0.t_assignment))) : slice (Assignment'0.t_assignment)
    
   =
    [%#span50] shallow_model'5 ( * self)
  
  predicate completed'1 (self : borrowed (Iter'0.t_iter (Assignment'0.t_assignment))) =
    [%#span51] resolve'1 self
    /\ shallow_model'14 (shallow_model'13 self) = (Seq.empty  : Seq.seq (Assignment'0.t_assignment))
  
  let rec next'1 (self:borrowed (Iter'0.t_iter (Assignment'0.t_assignment))) (return'  (ret:Option'0.t_option (Assignment'0.t_assignment)))= any
    [ return' (result:Option'0.t_option (Assignment'0.t_assignment))-> {[%#span53] inv'5 result}
      {[%#span52] match result with
        | Option'0.C_None -> completed'1 self
        | Option'0.C_Some v -> produces'1 ( * self) (Seq.singleton v) ( ^ self)
        end}
      (! return' {result}) ]
    
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  function shallow_model'11 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
   =
    [%#span29] shallow_model'4 self
  
  predicate into_iter_post'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (res : Iter'0.t_iter (Assignment'0.t_assignment))
    
   =
    [%#span54] shallow_model'11 self = shallow_model'12 (shallow_model'5 res)
  
  predicate into_iter_pre'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span55] true
  
  let rec into_iter'1 (self:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (return'  (ret:Iter'0.t_iter (Assignment'0.t_assignment)))= {[@expl:precondition] [%#span57] inv'4 self}
    {[@expl:precondition] [%#span56] into_iter_pre'1 self}
    any
    [ return' (result:Iter'0.t_iter (Assignment'0.t_assignment))-> {[%#span56] into_iter_post'1 self result}
      (! return' {result}) ]
    
  
  use seq.Seq
  
  predicate resolve'0 (self : borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))) =
    [%#span49]  ^ self =  * self
  
  use seq.Seq
  
  function shallow_model'9 (self : borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))) : slice (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span50] shallow_model'2 ( * self)
  
  predicate completed'0 (self : borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))))
   =
    [%#span51] resolve'0 self
    /\ shallow_model'10 (shallow_model'9 self)
    = (Seq.empty  : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  let rec next'0 (self:borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))) (return'  (ret:Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))))= any
    [ return' (result:Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))-> {[%#span53] inv'3 result}
      {[%#span52] match result with
        | Option'0.C_None -> completed'0 self
        | Option'0.C_Some v -> produces'0 ( * self) (Seq.singleton v) ( ^ self)
        end}
      (! return' {result}) ]
    
  
  function shallow_model'0 (self : Term'0.t_term) : Term'1.t_term =
    [%#span29] shallow_model'1 self
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'4 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  use Cdsat_Theory_Value_Type as Value'1
  
  function deep_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span58] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'4 br)
      end
  
  function shallow_model'8 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span59] deep_model'3 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span60] (shallow_model'1 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'8 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span61] term_value'0 (Seq.get (shallow_model'4 (Seq.get (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span62] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'4 (Seq.get (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  function shallow_model'6 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span29] shallow_model'3 self
  
  predicate into_iter_post'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (res : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
    
   =
    [%#span54] shallow_model'6 self = shallow_model'7 (shallow_model'2 res)
  
  predicate into_iter_pre'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span55] true
  
  let rec into_iter'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (return'  (ret:Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))))= {[@expl:precondition] [%#span57] inv'2 self}
    {[@expl:precondition] [%#span56] into_iter_pre'0 self}
    any
    [ return' (result:Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))-> {[%#span56] into_iter_post'0 self result}
      (! return' {result}) ]
    
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  let rec index_of (self:Trail'0.t_trail) (a:Term'0.t_term) (return'  (ret:Option'0.t_option (TrailIndex'0.t_trailindex)))= (! bb0
    [ bb0 = s0
      [ s0 =  [ &level <- [%#strail0] (0 : usize) ] s1
      | s1 = Trail'0.t_trail {self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            into_iter'0 {rassignments'0}
              (fun (_ret':Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) ->
                 [ &iter <- _ret' ] 
                s2))
      | s2 = bb1 ]
      
    | bb1 = s0 [ s0 =  [ &iter_old <- [%#strail1] Snapshot.new iter ] s1 | s1 = bb2 ] 
    | bb2 = s0
      [ s0 = 
        [ &produced <- [%#strail2] Snapshot.new (Seq.empty  : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) ]
        
        s1
      | s1 = bb3 ]
      
    | bb3 = bb4
    | bb4 = bb4
      [ bb4 = {[@expl:loop invariant] [%#strail4] UIntSize.to_int level = Seq.length (Snapshot.inner produced)}
        {[@expl:loop invariant] [%#strail3] forall ix : TrailIndex'0.t_trailindex . 0
        <= UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
        /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix) < Seq.length (Snapshot.inner produced)
         -> contains'0 self ix  -> (let (a, _) = index_logic'0 self ix in a) <> shallow_model'0 a}
        {[@expl:loop invariant] [%#strail3] produces'0 (Snapshot.inner iter_old) (Snapshot.inner produced) iter}
        {[@expl:loop invariant] [%#strail3] inv'0 iter}
        (! s0) [ s0 = bb5 ] 
        [ bb5 = s0
          [ s0 = Borrow.borrow_mut <Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))> {iter}
              (fun (_ret':borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))) ->
                 [ &_19 <- _ret' ] 
                 [ &iter <-  ^ _19 ] 
                s1)
          | s1 = Borrow.borrow_final
              <Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))>
              { * _19}
              {Borrow.get_id _19}
              (fun (_ret':borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))) ->
                 [ &_18 <- _ret' ] 
                 [ &_19 <- { _19 with current = ( ^ _18) ; } ] 
                s2)
          | s2 = next'0 {_18}
              (fun (_ret':Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) ->
                 [ &_17 <- _ret' ] 
                s3)
          | s3 = bb6 ]
          
        | bb6 = s0
          [ s0 = -{resolve'0 _19}- s1
          | s1 = any
            [ br0 -> {_17 = Option'0.C_None } (! bb9)
            | br1 (a:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))-> {_17 = Option'0.C_Some a} (! bb8) ]
             ]
          
        | bb8 = bb10
        | bb10 = s0
          [ s0 = Option'0.some <Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)> {_17}
              (fun (r0'0:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) ->
                 [ &__creusot_proc_iter_elem <- r0'0 ] 
                s1)
          | s1 = 
            [ &_22 <- [%#strail5] Snapshot.new (Seq.(++) (Snapshot.inner produced) (Seq.singleton __creusot_proc_iter_elem)) ]
            
            s2
          | s2 = bb11 ]
          
        | bb11 = s0
          [ s0 =  [ &produced <- _22 ] 
            (any
            [ any_ (_any:Snapshot.snap_ty (Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))))-> (! 
              [ &_22 <- _any ]
              
              s1) ]
            )
          | s1 =  [ &assignments <- __creusot_proc_iter_elem ] s2
          | s2 =  [ &offset <- [%#strail6] (0 : usize) ] s3
          | s3 = into_iter'1 {assignments}
              (fun (_ret':Iter'0.t_iter (Assignment'0.t_assignment)) ->  [ &iter1 <- _ret' ] s4)
          | s4 = bb12 ]
          
        | bb12 = s0 [ s0 =  [ &iter_old1 <- [%#strail7] Snapshot.new iter1 ] s1 | s1 = bb13 ] 
        | bb13 = s0
          [ s0 =  [ &produced1 <- [%#strail8] Snapshot.new (Seq.empty  : Seq.seq (Assignment'0.t_assignment)) ] s1
          | s1 = bb14 ]
          
        | bb14 = bb15
        | bb15 = bb15
          [ bb15 = {[@expl:loop invariant] [%#strail9] forall ix : TrailIndex'0.t_trailindex . Cdsat_Trail_TrailIndex_Type.trailindex_0 ix
            = level
             -> Cdsat_Trail_TrailIndex_Type.trailindex_1 ix < offset
             -> contains'0 self ix  -> (let (a, _) = index_logic'0 self ix in a) <> shallow_model'0 a}
            {[@expl:loop invariant] [%#strail10] UIntSize.to_int offset = Seq.length (Snapshot.inner produced1)}
            {[@expl:loop invariant] [%#strail9] produces'1 (Snapshot.inner iter_old1) (Snapshot.inner produced1) iter1}
            {[@expl:loop invariant] [%#strail9] inv'1 iter1}
            (! s0) [ s0 = bb16 ] 
            [ bb16 = s0
              [ s0 = Borrow.borrow_mut <Iter'0.t_iter (Assignment'0.t_assignment)> {iter1}
                  (fun (_ret':borrowed (Iter'0.t_iter (Assignment'0.t_assignment))) ->
                     [ &_39 <- _ret' ] 
                     [ &iter1 <-  ^ _39 ] 
                    s1)
              | s1 = Borrow.borrow_final <Iter'0.t_iter (Assignment'0.t_assignment)> { * _39} {Borrow.get_id _39}
                  (fun (_ret':borrowed (Iter'0.t_iter (Assignment'0.t_assignment))) ->
                     [ &_38 <- _ret' ] 
                     [ &_39 <- { _39 with current = ( ^ _38) ; } ] 
                    s2)
              | s2 = next'1 {_38} (fun (_ret':Option'0.t_option (Assignment'0.t_assignment)) ->  [ &_37 <- _ret' ] s3)
              | s3 = bb17 ]
              
            | bb17 = s0
              [ s0 = -{resolve'1 _39}- s1
              | s1 = any
                [ br0 -> {_37 = Option'0.C_None } (! bb20)
                | br1 (a:Assignment'0.t_assignment)-> {_37 = Option'0.C_Some a} (! bb19) ]
                 ]
              
            | bb19 = bb21
            | bb21 = s0
              [ s0 = Option'0.some <Assignment'0.t_assignment> {_37}
                  (fun (r0'0:Assignment'0.t_assignment) ->  [ &__creusot_proc_iter_elem1 <- r0'0 ] s1)
              | s1 = 
                [ &_42 <- [%#strail11] Snapshot.new (Seq.(++) (Snapshot.inner produced1) (Seq.singleton __creusot_proc_iter_elem1)) ]
                
                s2
              | s2 = bb22 ]
              
            | bb22 = s0
              [ s0 =  [ &produced1 <- _42 ] 
                (any [ any_ (_any:Snapshot.snap_ty (Seq.seq (Assignment'0.t_assignment)))-> (!  [ &_42 <- _any ] s1) ] )
              | s1 =  [ &asgn <- __creusot_proc_iter_elem1 ] s2
              | s2 =  [ &ix <- TrailIndex'0.C_TrailIndex level offset ] s3
              | s3 = {[@expl:assertion] [%#strail12] contains'0 self ix} s4
              | s4 = Assignment'0.t_assignment {asgn}
                  (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
                    eq'0 {rterm'0} {a} (fun (_ret':bool) ->  [ &_51 <- _ret' ] s5))
              | s5 = bb23 ]
              
            | bb23 = any [ br0 -> {_51 = false} (! bb25) | br1 -> {_51} (! bb24) ] 
            | bb25 = s0
              [ s0 = UIntSize.add {offset} {[%#strail13] (1 : usize)} (fun (_ret':usize) ->  [ &offset <- _ret' ] s1)
              | s1 = bb15 ]
               ]
             ]
          
        | bb20 = s0
          [ s0 = UIntSize.add {level} {[%#strail14] (1 : usize)} (fun (_ret':usize) ->  [ &level <- _ret' ] s1)
          | s1 = bb4 ]
           ]
         ]
      
    | bb7 = {[%#strail3] false} any
    | bb18 = {[%#strail9] false} any
    | bb24 = s0
      [ s0 = {[@expl:assertion] [%#strail15] (let (a, _) = index_logic'0 self ix in a)
        = shallow_model'1 (Cdsat_Trail_Assignment_Type.assignment_term asgn)}
        s1
      | s1 = {[@expl:assertion] [%#strail16] shallow_model'1 (Cdsat_Trail_Assignment_Type.assignment_term asgn)
        = shallow_model'0 a}
        s2
      | s2 =  [ &_0 <- Option'0.C_Some ix ] s3
      | s3 = bb26 ]
      
    | bb9 = s0 [ s0 =  [ &_0 <- Option'0.C_None ] s1 | s1 = bb26 ] 
    | bb26 = return' {_0} ]
    )
    [ & _0 : Option'0.t_option (TrailIndex'0.t_trailindex) = any_l ()
    | & self : Trail'0.t_trail = self
    | & a : Term'0.t_term = a
    | & level : usize = any_l ()
    | & iter : Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) = any_l ()
    | & iter_old : Snapshot.snap_ty (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) = any_l ()
    | & produced : Snapshot.snap_ty (Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) = any_l ()
    | & _17 : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) = any_l ()
    | & _18 : borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) = any_l ()
    | & _19 : borrowed (Iter'0.t_iter (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) = any_l ()
    | & __creusot_proc_iter_elem : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l ()
    | & _22 : Snapshot.snap_ty (Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) = any_l ()
    | & assignments : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l ()
    | & offset : usize = any_l ()
    | & iter1 : Iter'0.t_iter (Assignment'0.t_assignment) = any_l ()
    | & iter_old1 : Snapshot.snap_ty (Iter'0.t_iter (Assignment'0.t_assignment)) = any_l ()
    | & produced1 : Snapshot.snap_ty (Seq.seq (Assignment'0.t_assignment)) = any_l ()
    | & _37 : Option'0.t_option (Assignment'0.t_assignment) = any_l ()
    | & _38 : borrowed (Iter'0.t_iter (Assignment'0.t_assignment)) = any_l ()
    | & _39 : borrowed (Iter'0.t_iter (Assignment'0.t_assignment)) = any_l ()
    | & __creusot_proc_iter_elem1 : Assignment'0.t_assignment = any_l ()
    | & _42 : Snapshot.snap_ty (Seq.seq (Assignment'0.t_assignment)) = any_l ()
    | & asgn : Assignment'0.t_assignment = any_l ()
    | & ix : TrailIndex'0.t_trailindex = any_l ()
    | & _51 : bool = any_l () ]
    
    [ return' (result:Option'0.t_option (TrailIndex'0.t_trailindex))-> {[@expl:postcondition] [%#strail17] match result with
        | Option'0.C_Some x -> contains'0 self x /\ (let (a, _) = index_logic'0 self x in a) = shallow_model'0 a
        | Option'0.C_None -> forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
         -> (let (a, _) = index_logic'0 self ix in a) <> shallow_model'0 a
        end}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl5_CmpLeLog_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'1 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'1 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'1 (_1 : usize) : ()
  
  function cmp_gt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'1 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span4] inv'0 x)
   -> ([%#span5] inv'0 y)  -> ([%#span6] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span7] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span8] inv'0 x)  -> ([%#span9] inv'0 y)  -> ([%#span10] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span11] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span12] inv'0 x)  -> ([%#span13] inv'0 y)  -> ([%#span14] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span15] cmp_log'0 x y
  = o)
   -> ([%#span16] cmp_log'0 y z = o)
   -> ([%#span17] inv'0 x)  -> ([%#span18] inv'0 y)  -> ([%#span19] inv'0 z)  -> ([%#span20] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span21] inv'0 x)
   -> ([%#span22] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span23] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span24] inv'0 x)
   -> ([%#span25] inv'0 y)  -> ([%#span26] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span27] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span28] inv'0 x)
   -> ([%#span29] inv'0 y)  -> ([%#span30] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span32] inv'0 x)
   -> ([%#span33] inv'0 y)  -> ([%#span34] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span36] inv'0 x)
   -> ([%#span37] inv'0 y)  -> ([%#span38] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function cmp_le_log [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_cmp_le_log : [%#strail0] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater)
end
module Cdsat_Trail_Impl5_CmpLtLog_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'1 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'1 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'1 (_1 : usize) : ()
  
  function cmp_gt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'1 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span4] inv'0 x)
   -> ([%#span5] inv'0 y)  -> ([%#span6] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span7] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span8] inv'0 x)  -> ([%#span9] inv'0 y)  -> ([%#span10] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span11] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span12] inv'0 x)  -> ([%#span13] inv'0 y)  -> ([%#span14] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span15] cmp_log'0 x y
  = o)
   -> ([%#span16] cmp_log'0 y z = o)
   -> ([%#span17] inv'0 x)  -> ([%#span18] inv'0 y)  -> ([%#span19] inv'0 z)  -> ([%#span20] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span21] inv'0 x)
   -> ([%#span22] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span23] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span24] inv'0 x)
   -> ([%#span25] inv'0 y)  -> ([%#span26] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span27] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span28] inv'0 x)
   -> ([%#span29] inv'0 y)  -> ([%#span30] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span32] inv'0 x)
   -> ([%#span33] inv'0 y)  -> ([%#span34] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span36] inv'0 x)
   -> ([%#span37] inv'0 y)  -> ([%#span38] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function cmp_lt_log [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_cmp_lt_log : [%#strail0] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less)
end
module Cdsat_Trail_Impl5_CmpGeLog_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'1 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'1 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'1 (_1 : usize) : ()
  
  function cmp_gt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'1 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span4] inv'0 x)
   -> ([%#span5] inv'0 y)  -> ([%#span6] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span7] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span8] inv'0 x)  -> ([%#span9] inv'0 y)  -> ([%#span10] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span11] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span12] inv'0 x)  -> ([%#span13] inv'0 y)  -> ([%#span14] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span15] cmp_log'0 x y
  = o)
   -> ([%#span16] cmp_log'0 y z = o)
   -> ([%#span17] inv'0 x)  -> ([%#span18] inv'0 y)  -> ([%#span19] inv'0 z)  -> ([%#span20] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span21] inv'0 x)
   -> ([%#span22] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span23] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span24] inv'0 x)
   -> ([%#span25] inv'0 y)  -> ([%#span26] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span27] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span28] inv'0 x)
   -> ([%#span29] inv'0 y)  -> ([%#span30] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span32] inv'0 x)
   -> ([%#span33] inv'0 y)  -> ([%#span34] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span36] inv'0 x)
   -> ([%#span37] inv'0 y)  -> ([%#span38] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function cmp_ge_log [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_cmp_ge_log : [%#strail0] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less)
end
module Cdsat_Trail_Impl5_CmpGtLog_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'1 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'1 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'1 (_1 : usize) : ()
  
  function cmp_gt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'1 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span4] inv'0 x)
   -> ([%#span5] inv'0 y)  -> ([%#span6] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span7] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span8] inv'0 x)  -> ([%#span9] inv'0 y)  -> ([%#span10] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span11] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span12] inv'0 x)  -> ([%#span13] inv'0 y)  -> ([%#span14] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span15] cmp_log'0 x y
  = o)
   -> ([%#span16] cmp_log'0 y z = o)
   -> ([%#span17] inv'0 x)  -> ([%#span18] inv'0 y)  -> ([%#span19] inv'0 z)  -> ([%#span20] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span21] inv'0 x)
   -> ([%#span22] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span23] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span24] inv'0 x)
   -> ([%#span25] inv'0 y)  -> ([%#span26] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span27] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span28] inv'0 x)
   -> ([%#span29] inv'0 y)  -> ([%#span30] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span32] inv'0 x)
   -> ([%#span33] inv'0 y)  -> ([%#span34] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span36] inv'0 x)
   -> ([%#span37] inv'0 y)  -> ([%#span38] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function cmp_gt_log [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_cmp_gt_log : [%#strail0] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater)
end
module Cdsat_Trail_Impl5_Refl_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'0 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'0 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'0 (_1 : usize) : ()
  
  function cmp_gt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'0 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span1] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span2] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  constant x  : TrailIndex'0.t_trailindex
  
  function refl [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : ()
  
  goal vc_refl : [%#strail0] cmp_log'0 x x = Ordering'0.C_Equal
end
module Cdsat_Trail_Impl5_Trans_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'0 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'0 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'0 (_1 : usize) : ()
  
  function cmp_gt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'0 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span3] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span4] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  constant z  : TrailIndex'0.t_trailindex
  
  constant o  : Ordering'0.t_ordering
  
  function trans [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  goal vc_trans : ([%#strail1] cmp_log'0 y z = o)
   -> ([%#strail0] cmp_log'0 x y = o)  -> ([%#strail2] cmp_log'0 x z = o)
end
module Cdsat_Trail_Impl5_Antisym1_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'0 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'0 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'0 (_1 : usize) : ()
  
  function cmp_gt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'0 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function antisym1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_antisym1 : ([%#strail0] cmp_log'0 x y = Ordering'0.C_Less)
   -> ([%#strail1] cmp_log'0 y x = Ordering'0.C_Greater)
end
module Cdsat_Trail_Impl5_Antisym2_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'0 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'0 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'0 (_1 : usize) : ()
  
  function cmp_gt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'0 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function antisym2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_antisym2 : ([%#strail0] cmp_log'0 x y = Ordering'0.C_Greater)
   -> ([%#strail1] cmp_log'0 y x = Ordering'0.C_Less)
end
module Cdsat_Trail_Impl5_EqCmp_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'0 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'0 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'0 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'0 (_1 : usize) : ()
  
  function cmp_gt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'0 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'0 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span1] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span2] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant y  : TrailIndex'0.t_trailindex
  
  function eq_cmp [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_eq_cmp : [%#strail0] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal)
end
module Cdsat_Trail_Impl9_AbsJustCons_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 373 15 373 34
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 374 4 374 82
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 375 14 375 144
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 372 14 372 24
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span5 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'5 (self : TrailIndex'0.t_trailindex) =
    [%#span4] true
  
  predicate inv'5 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'5 : forall x : TrailIndex'0.t_trailindex . inv'5 x = true
  
  use seq.Seq
  
  predicate invariant'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span4] true
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'3 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span4] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span5] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span6] inv'2 self)
   -> ([%#span8] inv'3 (shallow_model'1 self))
  && ([%#span7] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span9] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span4] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span6] inv'0 self)
   -> ([%#span8] inv'1 (shallow_model'0 self))
  && ([%#span7] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span9] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span10] Fset.add e self
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span11] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span12] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span14] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span15] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span16] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span17] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span27] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span18] inv'4 s)
   -> ([%#span19] inv'5 e)
   -> ([%#span25] inv'4 (remove'0 s e))
  && ([%#span24] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span23] contains'2 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span22] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'2 (remove'0 s e) t  -> t <> e)
  && ([%#span21] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'2 (remove'0 s e) t  -> contains'2 s t)
  && ([%#span20] forall t : TrailIndex'0.t_trailindex . inv'5 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'0 s e) t)
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span28] Fset.mem e self
  
  use set.Fset
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span29] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span36] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span30] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span34] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'1 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span33] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
  && ([%#span32] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span31] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use seq.Seq
  
  use seq.Seq
  
  constant self  : Trail'0.t_trail
  
  constant just  : Seq.seq (TrailIndex'0.t_trailindex)
  
  constant elem  : TrailIndex'0.t_trailindex
  
  function abs_just_cons [#"/Users/xavier/Code/cdsat/src/trail.rs" 376 4 376 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_abs_just_cons : ([%#strail1] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'0 self (Seq.get just i))
   -> ([%#strail0] contains'0 self elem)
   -> ([%#strail2] abstract_justification'0 self (Seq.(++) (Seq.singleton elem) just)
  = insert'0 (abstract_justification'0 self just) (index_logic'0 self elem))
end
module Cdsat_Trail_Impl9_AbsJustSnoc_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 382 15 382 34
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 383 4 383 82
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 384 14 384 126
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 381 14 381 24
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 373 15 373 34
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 374 4 374 82
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 375 14 375 144
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 372 14 372 24
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span9 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 377 8 377 10
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'5 (self : TrailIndex'0.t_trailindex) =
    [%#span8] true
  
  predicate inv'5 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'5 : forall x : TrailIndex'0.t_trailindex . inv'5 x = true
  
  use seq.Seq
  
  predicate invariant'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span8] true
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'3 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span8] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span9] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span10] inv'2 self)
   -> ([%#span12] inv'3 (shallow_model'1 self))
  && ([%#span11] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span13] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span8] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span10] inv'0 self)
   -> ([%#span12] inv'1 (shallow_model'0 self))
  && ([%#span11] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span13] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  use prelude.prelude.Borrow
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span14] Fset.add e self
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span15] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span16] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span18] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span19] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span20] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span21] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span31] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span22] inv'4 s)
   -> ([%#span23] inv'5 e)
   -> ([%#span29] inv'4 (remove'0 s e))
  && ([%#span28] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span27] contains'2 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span26] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'2 (remove'0 s e) t  -> t <> e)
  && ([%#span25] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'2 (remove'0 s e) t  -> contains'2 s t)
  && ([%#span24] forall t : TrailIndex'0.t_trailindex . inv'5 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'0 s e) t)
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span32] Fset.mem e self
  
  use set.Fset
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span33] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span40] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span34] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span38] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'1 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span37] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
  && ([%#span36] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span35] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  function abs_just_cons'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 376 4 376 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  axiom abs_just_cons'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . abs_just_cons'0 self just elem
  = ([%#span41] ())
  
  axiom abs_just_cons'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . ([%#strail4] contains'0 self elem)
   -> ([%#strail5] forall i : int . 0 <= i /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#strail6] abstract_justification'0 self (Seq.(++) (Seq.singleton elem) just)
  = insert'0 (abstract_justification'0 self just) (index_logic'0 self elem))
  
  constant self  : Trail'0.t_trail
  
  constant just  : Seq.seq (TrailIndex'0.t_trailindex)
  
  constant elem  : TrailIndex'0.t_trailindex
  
  function abs_just_snoc [#"/Users/xavier/Code/cdsat/src/trail.rs" 385 4 385 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  goal vc_abs_just_snoc : ([%#strail1] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'0 self (Seq.get just i))
   -> ([%#strail0] contains'0 self elem)
   -> match just = (Seq.empty : Seq.seq (TrailIndex'0.t_trailindex)) with
    | True -> [%#strail2] abstract_justification'0 self (Seq.snoc just elem)
    = insert'0 (abstract_justification'0 self just) (index_logic'0 self elem)
    | False -> let j = Seq.snoc just elem in (([%#strail5] forall i : int . 0 <= i
    /\ i < Seq.length (SeqExt.subsequence j 1 (Seq.length j))
     -> contains'0 self (Seq.get (SeqExt.subsequence j 1 (Seq.length j)) i))
    && ([%#strail4] contains'0 self (Seq.get j 0)))
    /\ (([%#strail6] abstract_justification'0 self (Seq.(++) (Seq.singleton (Seq.get j 0)) (SeqExt.subsequence j 1 (Seq.length j)))
    = insert'0 (abstract_justification'0 self (SeqExt.subsequence j 1 (Seq.length j))) (index_logic'0 self (Seq.get j 0)))
     -> (let _ = abs_just_cons'0 self (SeqExt.subsequence j 1 (Seq.length j)) (Seq.get j 0) in ((([%#strail1] forall i : int . 0
    <= i
    /\ i < Seq.length (SeqExt.subsequence just 1 (Seq.length just))
     -> contains'0 self (Seq.get (SeqExt.subsequence just 1 (Seq.length just)) i))
    && ([%#strail0] contains'0 self elem))
    /\ 0 <= ([%#strail3] Seq.length just)
    /\ ([%#strail3] Seq.length (SeqExt.subsequence just 1 (Seq.length just))) < ([%#strail3] Seq.length just))
    /\ (([%#strail2] abstract_justification'0 self (Seq.snoc (SeqExt.subsequence just 1 (Seq.length just)) elem)
    = insert'0 (abstract_justification'0 self (SeqExt.subsequence just 1 (Seq.length just))) (index_logic'0 self elem))
     -> ([%#strail2] abstract_justification'0 self (Seq.snoc just elem)
    = insert'0 (abstract_justification'0 self just) (index_logic'0 self elem)))))
    end
end
module Cdsat_Trail_AbstractJustificationInsert_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 899 11 899 24
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 900 11 900 24
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 901 0 901 58
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 902 10 902 101
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 898 10 898 17
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 382 15 382 34
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 383 4 383 82
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 384 14 384 126
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 381 14 381 24
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span10 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span37 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span39 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span40 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span43 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span45 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span73 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span74 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span77 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span78 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span79 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span80 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span81 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span82 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span83 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span84 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span87 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span92 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span94 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/trail.rs" 373 15 373 34
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/trail.rs" 374 4 374 82
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/trail.rs" 375 14 375 144
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/trail.rs" 372 14 372 24
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/trail.rs" 377 8 377 10
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/trail.rs" 380 4 380 12
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span145 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span165 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span168 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span9] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span10] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span12] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span11] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span15] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span13] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span14] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span18] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span16] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span17] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span22] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span19] cmp_log'0 x y
  = o)  -> ([%#span20] cmp_log'0 y z = o)  -> ([%#span21] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span24] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span23] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span25] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span27] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span26] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span28] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span30] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span29] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span33] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span32] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span34] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span36] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span35] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use seq.Seq
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span37] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'7 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'4 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'4_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span38] inv'7 self)
   -> ([%#span40] inv'4 (shallow_model'4 self))
  && ([%#span39] Seq.length (shallow_model'4 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'10 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span41] inv'4 (shallow_model'4 self)
  
  axiom inv'7 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'7 x = true
  
  predicate inv'5 (_x : TrailIndex'0.t_trailindex)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span42] inv'5 x)
   -> ([%#span43] inv'5 y)  -> ([%#span44] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span45] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span46] inv'5 x)  -> ([%#span47] inv'5 y)  -> ([%#span48] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span49] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span50] inv'5 x)  -> ([%#span51] inv'5 y)  -> ([%#span52] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span53] cmp_log'0 x y
  = o)
   -> ([%#span54] cmp_log'0 y z = o)
   -> ([%#span55] inv'5 x)  -> ([%#span56] inv'5 y)  -> ([%#span57] inv'5 z)  -> ([%#span58] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span59] inv'5 x)
   -> ([%#span60] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span61] inv'5 x)
   -> ([%#span62] inv'5 y)  -> ([%#span63] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span64] inv'5 x)
   -> ([%#span65] inv'5 y)  -> ([%#span66] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span67] inv'5 x)
   -> ([%#span68] inv'5 y)  -> ([%#span69] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span70] inv'5 x)
   -> ([%#span71] inv'5 y)  -> ([%#span72] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span73] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'9 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span74] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'6 (_x : Model'0.t_model)
  
  axiom inv'6 : forall x : Model'0.t_model . inv'6 x
  = (invariant'9 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  predicate invariant'8 (self : TrailIndex'0.t_trailindex) =
    [%#span75] true
  
  axiom inv'5 : forall x : TrailIndex'0.t_trailindex . inv'5 x = true
  
  predicate invariant'7 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span75] true
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'6 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span75] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span38] inv'2 self)
   -> ([%#span40] inv'3 (shallow_model'1 self))
  && ([%#span39] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span41] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'4 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span75] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span38] inv'0 self)
   -> ([%#span40] inv'1 (shallow_model'0 self))
  && ([%#span39] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'3 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span41] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use seq.Seq
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  use prelude.prelude.Borrow
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span76] Fset.add e self
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span77] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span78] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span80] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span81] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span82] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  predicate contains'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span83] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span93] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span84] inv'4 s)
   -> ([%#span85] inv'5 e)
   -> ([%#span91] inv'4 (remove'0 s e))
  && ([%#span90] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span89] contains'1 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span88] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'1 (remove'0 s e) t  -> t <> e)
  && ([%#span87] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'1 (remove'0 s e) t  -> contains'1 s t)
  && ([%#span86] forall t : TrailIndex'0.t_trailindex . inv'5 t
   -> contains'1 s t  -> e <> t  -> contains'1 (remove'0 s e) t)
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span94] Fset.mem e self
  
  use set.Fset
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span95] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span102] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span96] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span100] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span99] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'1 just ix /\ a = index_logic'0 self ix))
  && ([%#span98] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span97] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use seq.Seq
  
  use seq.Seq
  
  function abs_just_cons'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 376 4 376 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  axiom abs_just_cons'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . abs_just_cons'0 self just elem
  = ([%#span107] ())
  
  axiom abs_just_cons'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . ([%#span103] contains'0 self elem)
   -> ([%#span104] forall i : int . 0 <= i /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span105] abstract_justification'0 self (Seq.(++) (Seq.singleton elem) just)
  = insert'0 (abstract_justification'0 self just) (index_logic'0 self elem))
  
  function abs_just_snoc'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 385 4 385 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  axiom abs_just_snoc'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . abs_just_snoc'0 self just elem
  = ([%#span108] if just = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    ()
  else
    let j = Seq.snoc just elem in let _ = abs_just_cons'0 self (SeqExt.subsequence j 1 (Seq.length j)) (Seq.get j 0) in abs_just_snoc'0 self (SeqExt.subsequence just 1 (Seq.length just)) elem
  )
  
  axiom abs_just_snoc'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . ([%#strail5] contains'0 self elem)
   -> ([%#strail6] forall i : int . 0 <= i /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#strail7] abstract_justification'0 self (Seq.snoc just elem)
  = insert'0 (abstract_justification'0 self just) (index_logic'0 self elem))
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span109] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span110] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span111] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span112] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'2 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span113] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span116] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span115] level'0 self <= len'0 self)
  && ([%#span114] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span117] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span118] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span122] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span121] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span120] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span119] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span125] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span123] inv'6 self)
   -> ([%#span124] invariant'9 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span126] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span127] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span128] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'6 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span130] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'3_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span129] invariant_assign'0 self
   -> contains'3 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span131] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span132] sound'0 self)
   -> ([%#span133] contains'3 self kv)
   -> ([%#span134] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span135] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span136] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span137] invariant'9 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span138] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span139] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span142] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span140] is_bool'0 self)
   -> ([%#span141] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span143] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'3 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'3 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span144] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'2 j a  -> contains'3 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span145] Fset.remove a self
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span148] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span146] invariant_nonneg'0 self)
   -> ([%#span147] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span149] invariant_nonneg'0 self)
   -> ([%#span154] set_level'0 self s <= level'0 self)
  && ([%#span153] set_level'0 self s >= 0)
  && ([%#span152] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span151] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'2 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span150] forall i : (Term'0.t_term, Value'0.t_value) . contains'2 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span156] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span157] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span158] invariant'1 self)
   -> ([%#span159] is_justified'0 self d)
   -> ([%#span160] sound'0 self)
   -> ([%#span163] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span162] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span161] forall m : Model'0.t_model . inv'6 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span164] (forall i : TrailIndex'0.t_trailindex . contains'1 (shallow_model'4 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'4 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span165] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span165] Seq.get (shallow_model'0 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span166] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'3 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span167] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span168] Seq.get (shallow_model'0 self) ix
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span169] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span170] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span171] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'1 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  constant t  : Trail'0.t_trail
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant s  : Seq.seq (TrailIndex'0.t_trailindex)
  
  function abstract_justification_insert [#"/Users/xavier/Code/cdsat/src/trail.rs" 903 0 903 88] (t : Trail'0.t_trail) (x : TrailIndex'0.t_trailindex) (s : Seq.seq (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_abstract_justification_insert : ([%#strail2] forall i : TrailIndex'0.t_trailindex . contains'1 s i
   -> contains'0 t i)
   -> ([%#strail1] contains'0 t x)
   -> ([%#strail0] invariant'0 t)
   -> (([%#strail6] forall i : int . 0 <= i /\ i < Seq.length s  -> contains'0 t (Seq.get s i))
  && ([%#strail5] contains'0 t x))
  /\ (([%#strail7] abstract_justification'0 t (Seq.snoc s x)
  = insert'0 (abstract_justification'0 t s) (index_logic'0 t x))
   -> ([%#strail3] abstract_justification'0 t (Seq.snoc s x)
  = insert'0 (abstract_justification'0 t s) (index_logic'0 t x)))
end
module Cdsat_Trail_Impl9_Len
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 218 14 218 50
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span8 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2255 16 2255 20
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 78 26 78 48
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use seq.Seq
  
  predicate invariant'2 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span1] true
  
  predicate inv'2 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'2 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'2 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'1 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span3] inv'1 self)
   -> ([%#span5] inv'2 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'1 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span6] inv'2 (shallow_model'0 self)
  
  axiom inv'1 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'1 x
  = true
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span1] true
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  function shallow_model'1 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span7] shallow_model'0 self
  
  let rec len'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (return'  (ret:usize))= {[@expl:precondition] [%#span8] inv'0 self}
    any
    [ return' (result:usize)-> {[%#span9] UIntSize.to_int result = Seq.length (shallow_model'1 self)}
      (! return' {result}) ]
    
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use prelude.prelude.Snapshot
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  let rec len (self:Trail'0.t_trail) (return'  (ret:usize))= (! bb0
    [ bb0 = s0
      [ s0 = Trail'0.t_trail {self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            len'0 {rassignments'0} (fun (_ret':usize) ->  [ &_0 <- _ret' ] s1))
      | s1 = bb1 ]
      
    | bb1 = return' {_0} ]
    ) [ & _0 : usize = any_l () | & self : Trail'0.t_trail = self ] 
    [ return' (result:usize)-> {[@expl:postcondition] [%#strail0] UIntSize.to_int result
      = Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_MaxLevel
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 617 22 617 23
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 618 24 618 48
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 619 8 619 55
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 619 8 619 55
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 619 8 619 55
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 619 20 619 53
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 620 20 620 102
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 619 8 619 55
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 622 12 622 104
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 623 12 623 57
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 624 23 624 72
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 625 26 625 61
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 628 30 628 69
  
  let%span strail13 = "/Users/xavier/Code/cdsat/src/trail.rs" 629 16 629 72
  
  let%span strail14 = "/Users/xavier/Code/cdsat/src/trail.rs" 631 30 631 40
  
  let%span strail15 = "/Users/xavier/Code/cdsat/src/trail.rs" 632 16 632 72
  
  let%span strail16 = "/Users/xavier/Code/cdsat/src/trail.rs" 635 20 635 48
  
  let%span strail17 = "/Users/xavier/Code/cdsat/src/trail.rs" 636 26 636 63
  
  let%span strail18 = "/Users/xavier/Code/cdsat/src/trail.rs" 638 22 638 48
  
  let%span strail19 = "/Users/xavier/Code/cdsat/src/trail.rs" 613 15 613 31
  
  let%span strail20 = "/Users/xavier/Code/cdsat/src/trail.rs" 614 4 614 97
  
  let%span strail21 = "/Users/xavier/Code/cdsat/src/trail.rs" 615 14 615 88
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span46 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span49 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span50 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span77 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span81 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span82 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span83 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span84 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span85 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span87 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span88 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span89 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 21 19 25
  
  let%span span90 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 17 14 17 41
  
  let%span span91 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 18 14 18 42
  
  let%span span92 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 4 19 50
  
  let%span span93 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 43 8 43 31
  
  let%span span94 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span95 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 91 19 91 23
  
  let%span span96 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 89 14 89 41
  
  let%span span97 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 90 4 90 82
  
  let%span span98 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 91 4 91 35
  
  let%span span99 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 399 12 399 66
  
  let%span span100 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 410 15 410 32
  
  let%span span101 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 411 15 411 32
  
  let%span span102 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 413 31 413 33
  
  let%span span103 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 413 61 413 63
  
  let%span span104 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 412 14 412 42
  
  let%span span105 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 408 4 408 10
  
  let%span span106 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 405 14 405 45
  
  let%span span107 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 403 4 403 10
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span111 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span112 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span129 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span171 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span173 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span174 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span175 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span176 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span177 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span178 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span179 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span180 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span181 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span182 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span183 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span184 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span185 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span186 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span187 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span188 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span189 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span190 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span191 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span192 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span193 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span194 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span195 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span196 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span197 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  let%span span198 = "/Users/xavier/Code/cdsat/src/theory.rs" 313 15 313 38
  
  let%span span199 = "/Users/xavier/Code/cdsat/src/theory.rs" 314 15 314 56
  
  let%span span200 = "/Users/xavier/Code/cdsat/src/theory.rs" 315 14 315 69
  
  let%span span201 = "/Users/xavier/Code/cdsat/src/theory.rs" 305 15 305 38
  
  let%span span202 = "/Users/xavier/Code/cdsat/src/theory.rs" 306 15 306 57
  
  let%span span203 = "/Users/xavier/Code/cdsat/src/theory.rs" 308 14 308 69
  
  let%span span204 = "/Users/xavier/Code/cdsat/src/trail.rs" 373 15 373 34
  
  let%span span205 = "/Users/xavier/Code/cdsat/src/trail.rs" 374 4 374 82
  
  let%span span206 = "/Users/xavier/Code/cdsat/src/trail.rs" 375 14 375 144
  
  let%span span207 = "/Users/xavier/Code/cdsat/src/trail.rs" 372 14 372 24
  
  let%span span208 = "/Users/xavier/Code/cdsat/src/trail.rs" 377 8 377 10
  
  let%span span209 = "/Users/xavier/Code/cdsat/src/trail.rs" 382 15 382 34
  
  let%span span210 = "/Users/xavier/Code/cdsat/src/trail.rs" 383 4 383 82
  
  let%span span211 = "/Users/xavier/Code/cdsat/src/trail.rs" 384 14 384 126
  
  let%span span212 = "/Users/xavier/Code/cdsat/src/trail.rs" 381 14 381 24
  
  let%span span213 = "/Users/xavier/Code/cdsat/src/trail.rs" 380 4 380 12
  
  let%span span214 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 87 8 87 33
  
  let%span span215 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  let%span span216 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 108 8 108 31
  
  let%span span217 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 392 20 392 61
  
  let%span span218 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/iter.rs" 95 26 98 17
  
  let%span span219 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/slice/iter/macros.rs" 154 12 154 47
  
  let%span span220 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 359 20 359 32
  
  let%span span221 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 353 20 353 24
  
  let%span span222 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/iter.rs" 89 0 175 1
  
  let%span span223 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/slice/iter.rs" 24 17 24 21
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span22] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span23] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span25] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span24] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span28] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span26] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span27] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span31] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span29] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span30] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span35] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span32] cmp_log'0 x y
  = o)  -> ([%#span33] cmp_log'0 y z = o)  -> ([%#span34] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span37] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span36] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span38] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span40] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span39] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span41] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span43] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span42] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span44] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span46] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span45] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span47] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span49] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span48] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use seq.Seq
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span50] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'12 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'8 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'8_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span51] inv'12 self)
   -> ([%#span53] inv'4 (shallow_model'8 self))
  && ([%#span52] Seq.length (shallow_model'8 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'15 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span54] inv'4 (shallow_model'8 self)
  
  axiom inv'12 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'12 x = true
  
  predicate inv'5 (_x : TrailIndex'0.t_trailindex)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span55] inv'5 x)
   -> ([%#span56] inv'5 y)  -> ([%#span57] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span58] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span59] inv'5 x)  -> ([%#span60] inv'5 y)  -> ([%#span61] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span62] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span63] inv'5 x)  -> ([%#span64] inv'5 y)  -> ([%#span65] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span66] cmp_log'0 x y
  = o)
   -> ([%#span67] cmp_log'0 y z = o)
   -> ([%#span68] inv'5 x)  -> ([%#span69] inv'5 y)  -> ([%#span70] inv'5 z)  -> ([%#span71] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span72] inv'5 x)
   -> ([%#span73] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span74] inv'5 x)
   -> ([%#span75] inv'5 y)  -> ([%#span76] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span77] inv'5 x)
   -> ([%#span78] inv'5 y)  -> ([%#span79] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span80] inv'5 x)
   -> ([%#span81] inv'5 y)  -> ([%#span82] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span83] inv'5 x)
   -> ([%#span84] inv'5 y)  -> ([%#span85] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span86] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'14 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span87] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'11 (_x : Model'0.t_model)
  
  axiom inv'11 : forall x : Model'0.t_model . inv'11 x
  = (invariant'14 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'13 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span88] true
  
  predicate inv'10 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'10 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'10 x = true
  
  use seq.Seq
  
  predicate inv'9 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'4 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'4_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span51] inv'9 self)
   -> ([%#span53] inv'10 (shallow_model'4 self))
  && ([%#span52] Seq.length (shallow_model'4 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'12 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span54] inv'10 (shallow_model'4 self)
  
  axiom inv'9 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'9 x = true
  
  predicate invariant'11 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span88] true
  
  predicate inv'8 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'8 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'8 x = true
  
  use seq.Seq
  
  predicate inv'7 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'3 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'3_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span51] inv'7 self)
   -> ([%#span53] inv'8 (shallow_model'3 self))
  && ([%#span52] Seq.length (shallow_model'3 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'10 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span54] inv'8 (shallow_model'3 self)
  
  axiom inv'7 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'7 x
  = true
  
  use prelude.prelude.Slice
  
  predicate invariant'9 (self : slice (TrailIndex'0.t_trailindex)) =
    [%#span88] true
  
  predicate inv'6 (_x : slice (TrailIndex'0.t_trailindex))
  
  axiom inv'6 : forall x : slice (TrailIndex'0.t_trailindex) . inv'6 x = true
  
  predicate invariant'8 (self : TrailIndex'0.t_trailindex) =
    [%#span88] true
  
  axiom inv'5 : forall x : TrailIndex'0.t_trailindex . inv'5 x = true
  
  predicate invariant'7 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span88] true
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  predicate invariant'6 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span88] true
  
  predicate inv'3 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'3 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'3 x = true
  
  use Core_Option_Option_Type as Option'0
  
  predicate invariant'4 (self : Option'0.t_option (TrailIndex'0.t_trailindex)) =
    [%#span88] true
  
  predicate inv'2 (_x : Option'0.t_option (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Option'0.t_option (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  predicate invariant'3 (self : slice (TrailIndex'0.t_trailindex)) =
    [%#span88] true
  
  predicate inv'1 (_x : slice (TrailIndex'0.t_trailindex))
  
  axiom inv'1 : forall x : slice (TrailIndex'0.t_trailindex) . inv'1 x = true
  
  use prelude.prelude.Borrow
  
  use Core_Slice_Iter_Iter_Type as Iter'0
  
  use seq.Seq
  
  use seq.Seq
  
  use prelude.prelude.Slice
  
  function shallow_model'2 (self : slice (TrailIndex'0.t_trailindex)) : Seq.seq (TrailIndex'0.t_trailindex)
  
  axiom shallow_model'2_spec : forall self : slice (TrailIndex'0.t_trailindex) . ([%#span89] inv'6 self)
   -> ([%#span92] inv'4 (shallow_model'2 self))
  && ([%#span91] shallow_model'2 self = Slice.id self)
  && ([%#span90] Seq.length (shallow_model'2 self) <= UIntSize.to_int (max'0 : usize))
  
  function index_logic'0 [@inline:trivial] (self : slice (TrailIndex'0.t_trailindex)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span93] Seq.get (shallow_model'2 self) ix
  
  use seq.Seq
  
  function shallow_model'0 (self : slice (TrailIndex'0.t_trailindex)) : Seq.seq (TrailIndex'0.t_trailindex) =
    [%#span94] shallow_model'2 self
  
  use seq.Seq
  
  function to_ref_seq'0 (self : slice (TrailIndex'0.t_trailindex)) : Seq.seq (TrailIndex'0.t_trailindex)
  
  axiom to_ref_seq'0_spec : forall self : slice (TrailIndex'0.t_trailindex) . ([%#span95] inv'1 self)
   -> ([%#span98] inv'3 (to_ref_seq'0 self))
  && ([%#span97] forall i : int . 0 <= i /\ i < Seq.length (to_ref_seq'0 self)
   -> Seq.get (to_ref_seq'0 self) i = index_logic'0 self i)
  && ([%#span96] Seq.length (to_ref_seq'0 self) = Seq.length (shallow_model'0 self))
  
  function shallow_model'1 (self : Iter'0.t_iter (TrailIndex'0.t_trailindex)) : slice (TrailIndex'0.t_trailindex)
  
  predicate produces'0 (self : Iter'0.t_iter (TrailIndex'0.t_trailindex)) (visited : Seq.seq (TrailIndex'0.t_trailindex)) (tl : Iter'0.t_iter (TrailIndex'0.t_trailindex))
    
   =
    [%#span99] to_ref_seq'0 (shallow_model'1 self) = Seq.(++) visited (to_ref_seq'0 (shallow_model'1 tl))
  
  function produces_trans'0 (a : Iter'0.t_iter (TrailIndex'0.t_trailindex)) (ab : Seq.seq (TrailIndex'0.t_trailindex)) (b : Iter'0.t_iter (TrailIndex'0.t_trailindex)) (bc : Seq.seq (TrailIndex'0.t_trailindex)) (c : Iter'0.t_iter (TrailIndex'0.t_trailindex)) : ()
    
   =
    [%#span105] ()
  
  axiom produces_trans'0_spec : forall a : Iter'0.t_iter (TrailIndex'0.t_trailindex), ab : Seq.seq (TrailIndex'0.t_trailindex), b : Iter'0.t_iter (TrailIndex'0.t_trailindex), bc : Seq.seq (TrailIndex'0.t_trailindex), c : Iter'0.t_iter (TrailIndex'0.t_trailindex) . ([%#span100] produces'0 a ab b)
   -> ([%#span101] produces'0 b bc c)
   -> ([%#span102] inv'3 ab)  -> ([%#span103] inv'3 bc)  -> ([%#span104] produces'0 a (Seq.(++) ab bc) c)
  
  use seq.Seq
  
  function produces_refl'0 (self : Iter'0.t_iter (TrailIndex'0.t_trailindex)) : () =
    [%#span107] ()
  
  axiom produces_refl'0_spec : forall self : Iter'0.t_iter (TrailIndex'0.t_trailindex) . [%#span106] produces'0 self (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) self
  
  predicate invariant'2 (self : Iter'0.t_iter (TrailIndex'0.t_trailindex)) =
    [%#span88] true
  
  predicate inv'0 (_x : Iter'0.t_iter (TrailIndex'0.t_trailindex))
  
  axiom inv'0 : forall x : Iter'0.t_iter (TrailIndex'0.t_trailindex) . inv'0 x = true
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span108] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'4 (Seq.get (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span109] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span110] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span111] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span112] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span122] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span113] inv'4 s)
   -> ([%#span114] inv'5 e)
   -> ([%#span120] inv'4 (remove'0 s e))
  && ([%#span119] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span118] contains'2 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span117] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'2 (remove'0 s e) t  -> t <> e)
  && ([%#span116] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'2 (remove'0 s e) t  -> contains'2 s t)
  && ([%#span115] forall t : TrailIndex'0.t_trailindex . inv'5 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'0 s e) t)
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span123] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'7 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span124] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'6 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span126] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span127] (shallow_model'6 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'7 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  function index_logic'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span128] term_value'0 (Seq.get (shallow_model'4 (Seq.get (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span129] Fset.mem e self
  
  use set.Fset
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span136] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'2 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span130] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span134] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'1 (abstract_justification'0 self just) (index_logic'2 self (Seq.get just i)))
  && ([%#span133] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'2 self ix))
  && ([%#span132] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'2 self ix))
  && ([%#span131] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'5 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span137] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span138] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'5 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span139] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span142] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span141] level'0 self <= len'0 self)
  && ([%#span140] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span143] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span144] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span148] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span147] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span146] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span145] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span151] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span149] inv'11 self)
   -> ([%#span150] invariant'14 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span152] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span153] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span154] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'11 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span156] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'3_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span155] invariant_assign'0 self
   -> contains'3 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span157] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span158] sound'0 self)
   -> ([%#span159] contains'3 self kv)
   -> ([%#span160] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span161] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span162] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span163] invariant'14 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span164] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span165] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span168] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span166] is_bool'0 self)
   -> ([%#span167] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span169] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'3 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'3 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span170] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'1 j a  -> contains'3 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span171] Fset.remove a self
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span174] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span172] invariant_nonneg'0 self)
   -> ([%#span173] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span175] invariant_nonneg'0 self)
   -> ([%#span180] set_level'0 self s <= level'0 self)
  && ([%#span179] set_level'0 self s >= 0)
  && ([%#span178] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span177] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'1 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span176] forall i : (Term'0.t_term, Value'0.t_value) . contains'1 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span182] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span183] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span184] invariant'1 self)
   -> ([%#span185] is_justified'0 self d)
   -> ([%#span186] sound'0 self)
   -> ([%#span189] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span188] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span187] forall m : Model'0.t_model . inv'11 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span190] (forall i : TrailIndex'0.t_trailindex . contains'2 (shallow_model'8 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix)
    = abstract_justification'0 self (shallow_model'8 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'5 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span191] Seq.get (shallow_model'4 self) (UIntSize.to_int ix)
  
  function index_logic'4 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span191] Seq.get (shallow_model'3 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span192] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'5 (index_logic'4 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span193] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span194] Seq.get (shallow_model'3 self) ix
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span195] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span196] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'2 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span197] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'3 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'4 (index_logic'3 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'2 self i <> index_logic'2 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'2 self ix in a))
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Intrinsic
  
  use seq.Seq
  
  function set_level_min'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 316 4 316 77] (self : Trail'1.t_trail) (set : Fset.fset (Term'0.t_term, Value'0.t_value)) (elem : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom set_level_min'0_spec : forall self : Trail'1.t_trail, set : Fset.fset (Term'0.t_term, Value'0.t_value), elem : (Term'0.t_term, Value'0.t_value) . ([%#span198] invariant_nonneg'0 self)
   -> ([%#span199] level_of'0 self elem < set_level'0 self set)
   -> ([%#span200] set_level'0 self (insert'0 set elem) = set_level'0 self set)
  
  function set_level_max'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 309 4 309 77] (self : Trail'1.t_trail) (set : Fset.fset (Term'0.t_term, Value'0.t_value)) (elem : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom set_level_max'0_spec : forall self : Trail'1.t_trail, set : Fset.fset (Term'0.t_term, Value'0.t_value), elem : (Term'0.t_term, Value'0.t_value) . ([%#span201] invariant_nonneg'0 self)
   -> ([%#span202] set_level'0 self set <= level_of'0 self elem)
   -> ([%#span203] set_level'0 self (insert'0 set elem) = level_of'0 self elem)
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use seq.Seq
  
  use seq.Seq
  
  function abs_just_cons'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 376 4 376 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  axiom abs_just_cons'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . abs_just_cons'0 self just elem
  = ([%#span208] ())
  
  axiom abs_just_cons'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . ([%#span204] contains'0 self elem)
   -> ([%#span205] forall i : int . 0 <= i /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span206] abstract_justification'0 self (Seq.(++) (Seq.singleton elem) just)
  = insert'0 (abstract_justification'0 self just) (index_logic'2 self elem))
  
  function abs_just_snoc'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 385 4 385 67] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) (elem : TrailIndex'0.t_trailindex) : ()
    
  
  axiom abs_just_snoc'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . abs_just_snoc'0 self just elem
  = ([%#span213] if just = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    ()
  else
    let j = Seq.snoc just elem in let _ = abs_just_cons'0 self (SeqExt.subsequence j 1 (Seq.length j)) (Seq.get j 0) in abs_just_snoc'0 self (SeqExt.subsequence just 1 (Seq.length just)) elem
  )
  
  axiom abs_just_snoc'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex), elem : TrailIndex'0.t_trailindex . ([%#span209] contains'0 self elem)
   -> ([%#span210] forall i : int . 0 <= i /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span211] abstract_justification'0 self (Seq.snoc just elem)
  = insert'0 (abstract_justification'0 self just) (index_logic'2 self elem))
  
  use prelude.prelude.Snapshot
  
  function index_logic'1 [@inline:trivial] (self : Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex))) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span214] Seq.get (Snapshot.inner self) ix
  
  use seq.Seq
  
  predicate resolve'0 (self : borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex))) =
    [%#span215]  ^ self =  * self
  
  function shallow_model'5 (self : borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex))) : slice (TrailIndex'0.t_trailindex)
    
   =
    [%#span216] shallow_model'1 ( * self)
  
  predicate completed'0 (self : borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex))) =
    [%#span217] resolve'0 self
    /\ shallow_model'2 (shallow_model'5 self) = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex))
  
  let rec next'0 (self:borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex))) (return'  (ret:Option'0.t_option (TrailIndex'0.t_trailindex)))= any
    [ return' (result:Option'0.t_option (TrailIndex'0.t_trailindex))-> {[%#span219] inv'2 result}
      {[%#span218] match result with
        | Option'0.C_None -> completed'0 self
        | Option'0.C_Some v -> produces'0 ( * self) (Seq.singleton v) ( ^ self)
        end}
      (! return' {result}) ]
    
  
  use prelude.prelude.Seq
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  predicate into_iter_post'0 (self : slice (TrailIndex'0.t_trailindex)) (res : Iter'0.t_iter (TrailIndex'0.t_trailindex))
    
   =
    [%#span220] self = shallow_model'1 res
  
  predicate into_iter_pre'0 (self : slice (TrailIndex'0.t_trailindex)) =
    [%#span221] true
  
  let rec into_iter'0 (self:slice (TrailIndex'0.t_trailindex)) (return'  (ret:Iter'0.t_iter (TrailIndex'0.t_trailindex)))= {[@expl:precondition] [%#span223] inv'1 self}
    {[@expl:precondition] [%#span222] into_iter_pre'0 self}
    any
    [ return' (result:Iter'0.t_iter (TrailIndex'0.t_trailindex))-> {[%#span222] into_iter_post'0 self result}
      (! return' {result}) ]
    
  
  use prelude.prelude.Snapshot
  
  let rec max_level (self:Trail'0.t_trail) (assignments:slice (TrailIndex'0.t_trailindex)) (return'  (ret:usize))= {[%#strail20] forall i : int . 0
    <= i
    /\ i < Seq.length (shallow_model'0 assignments)  -> contains'0 self (index_logic'0 assignments i)}
    {[%#strail19] invariant'0 self}
    (! bb0
    [ bb0 = s0
      [ s0 =  [ &max <- [%#strail0] (0 : usize) ] s1
      | s1 =  [ &other <- [%#strail1] Snapshot.new (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) ] s2
      | s2 = bb1 ]
      
    | bb1 = s0
      [ s0 = into_iter'0 {assignments} (fun (_ret':Iter'0.t_iter (TrailIndex'0.t_trailindex)) ->  [ &iter <- _ret' ] s1)
      | s1 = bb2 ]
      
    | bb2 = s0 [ s0 =  [ &iter_old <- [%#strail2] Snapshot.new iter ] s1 | s1 = bb3 ] 
    | bb3 = s0
      [ s0 =  [ &produced <- [%#strail3] Snapshot.new (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) ] s1
      | s1 = bb4 ]
      
    | bb4 = bb5
    | bb5 = bb5
      [ bb5 = {[@expl:loop invariant] [%#strail6] set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (abstract_justification'0 self (Seq.to_owned (Snapshot.inner produced)))
        = UIntSize.to_int max}
        {[@expl:loop invariant] [%#strail5] Snapshot.inner other = Seq.to_owned (Snapshot.inner produced)}
        {[@expl:loop invariant] [%#strail4] produces'0 (Snapshot.inner iter_old) (Snapshot.inner produced) iter}
        {[@expl:loop invariant] [%#strail4] inv'0 iter}
        (! s0) [ s0 = bb6 ] 
        [ bb6 = s0
          [ s0 = Borrow.borrow_mut <Iter'0.t_iter (TrailIndex'0.t_trailindex)> {iter}
              (fun (_ret':borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex))) ->
                 [ &_23 <- _ret' ] 
                 [ &iter <-  ^ _23 ] 
                s1)
          | s1 = Borrow.borrow_final <Iter'0.t_iter (TrailIndex'0.t_trailindex)> { * _23} {Borrow.get_id _23}
              (fun (_ret':borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex))) ->
                 [ &_22 <- _ret' ] 
                 [ &_23 <- { _23 with current = ( ^ _22) ; } ] 
                s2)
          | s2 = next'0 {_22} (fun (_ret':Option'0.t_option (TrailIndex'0.t_trailindex)) ->  [ &_21 <- _ret' ] s3)
          | s3 = bb7 ]
          
        | bb7 = s0
          [ s0 = -{resolve'0 _23}- s1
          | s1 = any
            [ br0 -> {_21 = Option'0.C_None } (! bb10)
            | br1 (a:TrailIndex'0.t_trailindex)-> {_21 = Option'0.C_Some a} (! bb9) ]
             ]
          
        | bb9 = bb11
        | bb11 = s0
          [ s0 = Option'0.some <TrailIndex'0.t_trailindex> {_21}
              (fun (r0'0:TrailIndex'0.t_trailindex) ->  [ &__creusot_proc_iter_elem <- r0'0 ] s1)
          | s1 = 
            [ &_26 <- [%#strail7] Snapshot.new (Seq.(++) (Snapshot.inner produced) (Seq.singleton __creusot_proc_iter_elem)) ]
            
            s2
          | s2 = bb12 ]
          
        | bb12 = s0
          [ s0 =  [ &produced <- _26 ] 
            (any [ any_ (_any:Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex)))-> (!  [ &_26 <- _any ] s1) ] )
          | s1 =  [ &ix <- __creusot_proc_iter_elem ] s2
          | s2 = {[@expl:assertion] [%#strail8] forall i : int . 0 <= i /\ i < Seq.length (Snapshot.inner produced)
             -> index_logic'0 assignments i = index_logic'1 produced i}
            s3
          | s3 =  [ &_31 <- [%#strail9] Snapshot.new (abs_just_snoc'0 self (Snapshot.inner other) ix) ] s4
          | s4 = bb13 ]
          
        | bb13 = s0
          [ s0 =  [ &just <- [%#strail10] Snapshot.new (abstract_justification'0 self (Snapshot.inner other)) ] s1
          | s1 = bb14 ]
          
        | bb14 = s0
          [ s0 = {[@expl:assertion] [%#strail11] set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (Snapshot.inner just)
            = UIntSize.to_int max}
            s1
          | s1 = TrailIndex'0.t_trailindex {ix}
              (fun (r0'0:usize) (r1'0:usize) -> UIntSize.ge {r0'0} {max} (fun (_ret':bool) ->  [ &_38 <- _ret' ] s2))
          | s2 = any [ br0 -> {_38 = false} (! bb17) | br1 -> {_38} (! bb15) ]  ]
          
        | bb15 = s0
          [ s0 = TrailIndex'0.t_trailindex {ix} (fun (r0'0:usize) (r1'0:usize) ->  [ &max <- r0'0 ] s1)
          | s1 = {[@expl:assertion] [%#strail12] level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'2 self ix)
            = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)}
            s2
          | s2 = 
            [ &_44 <- [%#strail13] Snapshot.new (set_level_max'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (Snapshot.inner just) (index_logic'2 self ix)) ]
            
            s3
          | s3 = bb16 ]
          
        | bb16 = bb19
        | bb17 = s0
          [ s0 = {[@expl:assertion] [%#strail14] Cdsat_Trail_TrailIndex_Type.trailindex_0 ix < max} s1
          | s1 = 
            [ &_48 <- [%#strail15] Snapshot.new (set_level_min'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (Snapshot.inner just) (index_logic'2 self ix)) ]
            
            s2
          | s2 = bb18 ]
          
        | bb18 = bb19
        | bb19 = s0 [ s0 =  [ &_50 <- [%#strail16] Snapshot.new (Seq.snoc (Snapshot.inner other) ix) ] s1 | s1 = bb20 ] 
        | bb20 = s0
          [ s0 =  [ &other <- _50 ] 
            (any [ any_ (_any:Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex)))-> (!  [ &_50 <- _any ] s1) ] )
          | s1 = {[@expl:assertion] [%#strail17] Seq.(==) (Snapshot.inner other) (Seq.to_owned (Snapshot.inner produced))}
            s2
          | s2 = bb5 ]
           ]
         ]
      
    | bb8 = {[%#strail4] false} any
    | bb10 = s0
      [ s0 = {[@expl:assertion] [%#strail18] Seq.(==) (Snapshot.inner other) (shallow_model'0 assignments)} s1
      | s1 =  [ &_0 <- max ] s2
      | s2 = return' {_0} ]
       ]
    )
    [ & _0 : usize = any_l ()
    | & self : Trail'0.t_trail = self
    | & assignments : slice (TrailIndex'0.t_trailindex) = assignments
    | & max : usize = any_l ()
    | & other : Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex)) = any_l ()
    | & iter : Iter'0.t_iter (TrailIndex'0.t_trailindex) = any_l ()
    | & iter_old : Snapshot.snap_ty (Iter'0.t_iter (TrailIndex'0.t_trailindex)) = any_l ()
    | & produced : Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex)) = any_l ()
    | & _21 : Option'0.t_option (TrailIndex'0.t_trailindex) = any_l ()
    | & _22 : borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex)) = any_l ()
    | & _23 : borrowed (Iter'0.t_iter (TrailIndex'0.t_trailindex)) = any_l ()
    | & __creusot_proc_iter_elem : TrailIndex'0.t_trailindex = any_l ()
    | & _26 : Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex)) = any_l ()
    | & ix : TrailIndex'0.t_trailindex = any_l ()
    | & _31 : Snapshot.snap_ty () = any_l ()
    | & just : Snapshot.snap_ty (Fset.fset (Term'0.t_term, Value'0.t_value)) = any_l ()
    | & _38 : bool = any_l ()
    | & _44 : Snapshot.snap_ty () = any_l ()
    | & _48 : Snapshot.snap_ty () = any_l ()
    | & _50 : Snapshot.snap_ty (Seq.seq (TrailIndex'0.t_trailindex)) = any_l () ]
    
    [ return' (result:usize)-> {[@expl:postcondition] [%#strail21] set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (abstract_justification'0 self (shallow_model'0 assignments))
      = UIntSize.to_int result}
      (! return' {result}) ]
    
end
module Cdsat_Trail_IxToAbs_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 779 0 779 79
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 780 0 780 102
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 778 10 778 17
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span4 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'3 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span3] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span4] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span5] inv'2 self)
   -> ([%#span7] inv'3 (shallow_model'1 self))
  && ([%#span6] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span8] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span3] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span5] inv'0 self)
   -> ([%#span7] inv'1 (shallow_model'0 self))
  && ([%#span6] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span8] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span9] Fset.add e self
  
  use set.Fset
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  function remove'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (a : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span10] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span11] Fset.mem e self
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span12] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span13] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span15] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span16] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span17] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex)
   =
    [%#span11] Fset.mem e self
  
  constant t  : Trail'0.t_trail
  
  constant s  : Fset.fset (TrailIndex'0.t_trailindex)
  
  function ix_to_abs [#"/Users/xavier/Code/cdsat/src/trail.rs" 781 0 781 93] (t : Trail'0.t_trail) (s : Fset.fset (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  goal vc_ix_to_abs : match s = (Fset.empty : Fset.fset (TrailIndex'0.t_trailindex)) with
    | True -> let result = Fset.empty : Fset.fset (Term'0.t_term, Value'0.t_value) in ([%#strail1] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 result a
     -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'0 s ix))
    && ([%#strail0] forall ix : TrailIndex'0.t_trailindex . contains'0 s ix  -> contains'1 result (index_logic'0 t ix))
    | False -> let a = Fset.pick s in (0 <= ([%#strail2] Fset.cardinal s)
    /\ ([%#strail2] Fset.cardinal (remove'0 s a)) < ([%#strail2] Fset.cardinal s))
    /\ (([%#strail1] forall a' : (Term'0.t_term, Value'0.t_value) . contains'1 (ix_to_abs t (remove'0 s a)) a'
     -> (exists ix : TrailIndex'0.t_trailindex . a' = index_logic'0 t ix /\ contains'0 (remove'0 s a) ix))
    && ([%#strail0] forall ix : TrailIndex'0.t_trailindex . contains'0 (remove'0 s a) ix
     -> contains'1 (ix_to_abs t (remove'0 s a)) (index_logic'0 t ix))
     -> (let result = insert'0 (ix_to_abs t (remove'0 s a)) (index_logic'0 t a) in ([%#strail1] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 result a
     -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'0 s ix))
    && ([%#strail0] forall ix : TrailIndex'0.t_trailindex . contains'0 s ix
     -> contains'1 result (index_logic'0 t ix))))
    end
end
module Cdsat_Trail_SetMax_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 833 11 833 24
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 835 10 835 28
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 836 0 836 56
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 834 10 834 17
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span6 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span7 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span8 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span9 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span10 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span39 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span40 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span43 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span45 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span4] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span5] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span6] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span8] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span7] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span11] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span9] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span10] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span14] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span12] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span13] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span18] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span15] cmp_log'0 x y
  = o)  -> ([%#span16] cmp_log'0 y z = o)  -> ([%#span17] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span20] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span19] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span21] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span23] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span22] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span24] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span26] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span25] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span27] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span29] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span28] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span30] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span32] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span31] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span33] inv'0 x)
   -> ([%#span34] inv'0 y)  -> ([%#span35] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span36] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span37] inv'0 x)  -> ([%#span38] inv'0 y)  -> ([%#span39] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span40] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span41] inv'0 x)  -> ([%#span42] inv'0 y)  -> ([%#span43] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span44] cmp_log'0 x y
  = o)
   -> ([%#span45] cmp_log'0 y z = o)
   -> ([%#span46] inv'0 x)  -> ([%#span47] inv'0 y)  -> ([%#span48] inv'0 z)  -> ([%#span49] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span50] inv'0 x)
   -> ([%#span51] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span52] inv'0 x)
   -> ([%#span53] inv'0 y)  -> ([%#span54] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span55] inv'0 x)
   -> ([%#span56] inv'0 y)  -> ([%#span57] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span58] inv'0 x)
   -> ([%#span59] inv'0 y)  -> ([%#span60] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span61] inv'0 x)
   -> ([%#span62] inv'0 y)  -> ([%#span63] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use set.Fset
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (a : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span64] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex)
   =
    [%#span65] Fset.mem e self
  
  use set.Fset
  
  constant s  : Fset.fset (TrailIndex'0.t_trailindex)
  
  function set_max [#"/Users/xavier/Code/cdsat/src/trail.rs" 837 0 837 56] (s : Fset.fset (TrailIndex'0.t_trailindex)) : TrailIndex'0.t_trailindex
    
  
  goal vc_set_max : ([%#strail0] not Fset.is_empty s)
   -> (let x = Fset.pick s in let s = remove'0 s x in match Fset.is_empty s with
    | True -> let result = x in ([%#strail2] forall o : TrailIndex'0.t_trailindex . contains'0 s o
     -> le_log'0 o result)
    && ([%#strail1] contains'0 s result)
    | False -> (([%#strail0] not Fset.is_empty s)
    /\ 0 <= ([%#strail3] Fset.cardinal s) /\ ([%#strail3] Fset.cardinal s) < ([%#strail3] Fset.cardinal s))
    /\ (([%#strail2] forall o : TrailIndex'0.t_trailindex . contains'0 s o  -> le_log'0 o (set_max s))
    && ([%#strail1] contains'0 s (set_max s))
     -> (let rec' = set_max s in match ge_log'0 x rec' with
      | True -> let result = x in ([%#strail2] forall o : TrailIndex'0.t_trailindex . contains'0 s o
       -> le_log'0 o result)
      && ([%#strail1] contains'0 s result)
      | False -> let result = rec' in ([%#strail2] forall o : TrailIndex'0.t_trailindex . contains'0 s o
       -> le_log'0 o result)
      && ([%#strail1] contains'0 s result)
      end))
    end)
end
module Cdsat_Trail_IxToAbsLevel_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 855 11 855 24
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 857 0 857 57
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 858 0 858 90
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 859 0 859 68
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 856 10 856 17
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 833 11 833 24
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 835 10 835 28
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 836 0 836 56
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 834 10 834 17
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 779 0 779 79
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 780 0 780 102
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 778 10 778 17
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 853 0 853 8
  
  let%span stheory13 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span stheory14 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span strail15 = "/Users/xavier/Code/cdsat/src/trail.rs" 853 0 853 8
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span17 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span40 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span43 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span47 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span50 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span51 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span77 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span81 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span82 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span83 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span84 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span87 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span92 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span97 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span105 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/trail.rs" 831 0 831 8
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span114 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/trail.rs" 776 0 776 8
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span118 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span167 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span170 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'10 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span16] true
  
  predicate inv'7 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'7 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'7 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span17] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'6 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'4 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'4_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span18] inv'6 self)
   -> ([%#span20] inv'7 (shallow_model'4 self))
  && ([%#span19] Seq.length (shallow_model'4 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'9 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span21] inv'7 (shallow_model'4 self)
  
  axiom inv'6 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'6 x = true
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span22] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'8 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span23] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'5 (_x : Model'0.t_model)
  
  axiom inv'5 : forall x : Model'0.t_model . inv'5 x
  = (invariant'8 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  predicate invariant'7 (self : TrailIndex'0.t_trailindex) =
    [%#span16] true
  
  predicate inv'4 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'4 : forall x : TrailIndex'0.t_trailindex . inv'4 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'6 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span16] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span18] inv'2 self)
   -> ([%#span20] inv'3 (shallow_model'1 self))
  && ([%#span19] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span21] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'4 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span16] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span18] inv'0 self)
   -> ([%#span20] inv'1 (shallow_model'0 self))
  && ([%#span19] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'3 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span21] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span24] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span25] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span27] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span26] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span30] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span28] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span29] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span33] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span31] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span32] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span37] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span34] cmp_log'0 x y
  = o)  -> ([%#span35] cmp_log'0 y z = o)  -> ([%#span36] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span39] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span38] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span40] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span42] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span41] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span43] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span45] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span44] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span46] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span48] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span47] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span49] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span51] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span50] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span52] inv'4 x)
   -> ([%#span53] inv'4 y)  -> ([%#span54] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span55] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span56] inv'4 x)  -> ([%#span57] inv'4 y)  -> ([%#span58] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span59] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span60] inv'4 x)  -> ([%#span61] inv'4 y)  -> ([%#span62] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span63] cmp_log'0 x y
  = o)
   -> ([%#span64] cmp_log'0 y z = o)
   -> ([%#span65] inv'4 x)  -> ([%#span66] inv'4 y)  -> ([%#span67] inv'4 z)  -> ([%#span68] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span69] inv'4 x)
   -> ([%#span70] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span71] inv'4 x)
   -> ([%#span72] inv'4 y)  -> ([%#span73] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span74] inv'4 x)
   -> ([%#span75] inv'4 y)  -> ([%#span76] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span77] inv'4 x)
   -> ([%#span78] inv'4 y)  -> ([%#span79] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span80] inv'4 x)
   -> ([%#span81] inv'4 y)  -> ([%#span82] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span83] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span86] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span85] level'0 self <= len'0 self)
  && ([%#span84] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span87] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Term_Type as Term'0
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span88] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span89] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span90] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'2 a
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span91] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span95] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span94] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span93] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span92] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span96] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#stheory13] invariant_nonneg'0 self)
   -> ([%#stheory14] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Borrow
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span97] Fset.mem e self
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span98] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span99] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span101] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span102] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span103] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span104] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (a : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span105] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex)
   =
    [%#span97] Fset.mem e self
  
  use set.Fset
  
  function set_max'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 837 0 837 56] (s : Fset.fset (TrailIndex'0.t_trailindex)) : TrailIndex'0.t_trailindex
    
  
  axiom set_max'0_def : forall s : Fset.fset (TrailIndex'0.t_trailindex) . set_max'0 s
  = ([%#span106] let x = Fset.pick s in let s = remove'0 s x in if Fset.is_empty s then
    x
  else
    let rec' = set_max'0 s in if ge_log'0 x rec' then x else rec'
  )
  
  axiom set_max'0_spec : forall s : Fset.fset (TrailIndex'0.t_trailindex) . ([%#strail5] not Fset.is_empty s)
   -> ([%#strail7] forall o : TrailIndex'0.t_trailindex . contains'0 s o  -> le_log'0 o (set_max'0 s))
  && ([%#strail6] contains'0 s (set_max'0 s))
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span105] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span107] invariant_nonneg'0 self)
   -> ([%#span112] set_level'0 self s <= level'0 self)
  && ([%#span111] set_level'0 self s >= 0)
  && ([%#span110] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span109] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'2 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span108] forall i : (Term'0.t_term, Value'0.t_value) . contains'2 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span114] Fset.add e self
  
  use set.Fset
  
  function ix_to_abs'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 781 0 781 93] (t : Trail'0.t_trail) (s : Fset.fset (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom ix_to_abs'0_def : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ix_to_abs'0 t s
  = ([%#span115] if s = (Fset.empty  : Fset.fset (TrailIndex'0.t_trailindex)) then
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  else
    let a = Fset.pick s in insert'0 (ix_to_abs'0 t (remove'0 s a)) (index_logic'0 t a)
  )
  
  axiom ix_to_abs'0_spec : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ([%#strail10] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t s) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'0 s ix))
  && ([%#strail9] forall ix : TrailIndex'0.t_trailindex . contains'0 s ix
   -> contains'2 (ix_to_abs'0 t s) (index_logic'0 t ix))
  
  use prelude.prelude.Snapshot
  
  predicate contains'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span116] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span117] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span118] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'2_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'2 s e
  = ([%#span128] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'2 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'2 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'2_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span119] inv'7 s)
   -> ([%#span120] inv'4 e)
   -> ([%#span126] inv'7 (remove'2 s e))
  && ([%#span125] Seq.length (remove'2 s e) <= Seq.length s)
  && ([%#span124] contains'4 s e  -> Seq.length (remove'2 s e) < Seq.length s)
  && ([%#span123] forall t : TrailIndex'0.t_trailindex . inv'4 t  -> contains'4 (remove'2 s e) t  -> t <> e)
  && ([%#span122] forall t : TrailIndex'0.t_trailindex . inv'4 t  -> contains'4 (remove'2 s e) t  -> contains'4 s t)
  && ([%#span121] forall t : TrailIndex'0.t_trailindex . inv'4 t
   -> contains'4 s t  -> e <> t  -> contains'4 (remove'2 s e) t)
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span135] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'2 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span129] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'1 self (Seq.get just i))
   -> ([%#span133] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span132] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'4 just ix /\ a = index_logic'0 self ix))
  && ([%#span131] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'1 self ix /\ a = index_logic'0 self ix))
  && ([%#span130] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span138] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span136] inv'5 self)
   -> ([%#span137] invariant'8 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span139] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span140] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span141] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'5 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span143] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'3_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span142] invariant_assign'0 self
   -> contains'3 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span144] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span145] sound'0 self)
   -> ([%#span146] contains'3 self kv)
   -> ([%#span147] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span148] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span149] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span150] invariant'8 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span151] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span152] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span155] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span153] is_bool'0 self)
   -> ([%#span154] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span156] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'3 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'3 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span157] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'2 j a  -> contains'3 tl a
        | _ -> true
        end
      end
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span158] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span159] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span160] invariant'1 self)
   -> ([%#span161] is_justified'0 self d)
   -> ([%#span162] sound'0 self)
   -> ([%#span165] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span164] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span163] forall m : Model'0.t_model . inv'5 m  -> entails'0 m (justification'0 self d) d)
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span166] (forall i : TrailIndex'0.t_trailindex . contains'4 (shallow_model'4 j) i
     -> lt_log'0 i ix /\ contains'1 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'4 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span167] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span167] Seq.get (shallow_model'0 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span168] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'3 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span169] forall ix : TrailIndex'0.t_trailindex . contains'1 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span170] Seq.get (shallow_model'0 self) ix
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span171] (forall ix : TrailIndex'0.t_trailindex . contains'1 self ix
     -> contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'1 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'1 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span172] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'1 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'1 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'1 self i
     -> contains'1 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'1 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  constant t  : Trail'0.t_trail
  
  constant s  : Fset.fset (TrailIndex'0.t_trailindex)
  
  function ix_to_abs_level [#"/Users/xavier/Code/cdsat/src/trail.rs" 860 0 860 60] (t : Trail'0.t_trail) (s : Fset.fset (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_ix_to_abs_level : ([%#strail1] forall i : TrailIndex'0.t_trailindex . contains'0 s i  -> contains'1 t i)
   -> ([%#strail0] invariant'0 t)
   -> match Fset.is_empty s with
    | True -> ([%#strail3] Fset.is_empty s
     -> set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) (ix_to_abs'0 t s) = 0)
    && ([%#strail2] not Fset.is_empty s
     -> set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) (ix_to_abs'0 t s)
    = level_log'0 (set_max'0 s))
    | False -> ([%#strail5] not Fset.is_empty s)
    /\ (([%#strail7] forall o : TrailIndex'0.t_trailindex . contains'0 s o  -> le_log'0 o (set_max'0 s))
    && ([%#strail6] contains'0 s (set_max'0 s))
     -> (let max_elem = set_max'0 s in let max_asgn = index_logic'0 t max_elem in ([%#strail10] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t s) a
     -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'0 s ix))
    && ([%#strail9] forall ix : TrailIndex'0.t_trailindex . contains'0 s ix
     -> contains'2 (ix_to_abs'0 t s) (index_logic'0 t ix))
     -> (let ghost_set = ix_to_abs'0 t s in ([%#strail12] forall i : TrailIndex'0.t_trailindex . contains'0 s i
     -> level_log'0 i <= level_log'0 max_elem)
    && (let _ = () in let _ = () in (forall a : (Term'0.t_term, Value'0.t_value) . if contains'2 ghost_set a then
      ([%#stheory13] invariant_nonneg'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)))
      /\ (([%#stheory14] level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) a >= 0
      /\ level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) a
      <= level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)))
       -> ([%#stheory13] invariant_nonneg'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t))))
    else
      true
    )
    /\ ([%#strail15] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 ghost_set a
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) a
    <= level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) max_asgn)
    && (let _ = () in let _ = () in ([%#strail3] Fset.is_empty s
     -> set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) (ix_to_abs'0 t s) = 0)
    && ([%#strail2] not Fset.is_empty s
     -> set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost t)) (ix_to_abs'0 t s)
    = level_log'0 (set_max'0 s)))))))
    end
end
module Cdsat_Theory_Impl5_TrailPlausible_Impl
  let%span stheory0 = "/Users/xavier/Code/cdsat/src/theory.rs" 787 15 787 31
  
  let%span stheory1 = "/Users/xavier/Code/cdsat/src/theory.rs" 788 15 788 31
  
  let%span stheory2 = "/Users/xavier/Code/cdsat/src/theory.rs" 789 4 789 30
  
  let%span stheory3 = "/Users/xavier/Code/cdsat/src/theory.rs" 790 14 790 49
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span5 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span6 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span7 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span8 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span9 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span10 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/theory.rs" 612 8 615 9
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/theory.rs" 278 4 278 12
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span4] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Cdsat_Theory_Trail_Type as Trail'0
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span5] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span6] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span9] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span7] is_bool'0 self)
   -> ([%#span8] is_bool'0 (negate'0 self))
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span10] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span11] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'0.t_trail) =
    [%#span12] match self with
      | Trail'0.C_Empty -> true
      | Trail'0.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'1 a
      end
  
  use prelude.prelude.Int
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'0.t_trail) : int =
    [%#span14] match self with
      | Trail'0.C_Empty -> 0
      | Trail'0.C_Assign _ _ tl -> len'0 tl + 1
      end
  
  axiom len'0_spec : forall self : Trail'0.t_trail . [%#span13] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'0.t_trail) : int =
    [%#span17] match self with
      | Trail'0.C_Empty -> 0
      | Trail'0.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'0.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'0.t_trail . ([%#span16] level'0 self <= len'0 self)
  && ([%#span15] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'0.t_trail) =
    [%#span18] match self with
      | Trail'0.C_Empty -> true
      | Trail'0.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'0.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span22] match self with
      | Trail'0.C_Empty -> Option'0.C_None
      | Trail'0.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'0.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span21] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span20] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span19] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'0.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span24] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'0_spec : forall self : Trail'0.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span23] invariant_assign'0 self
   -> contains'0 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'0.t_trail) =
    [%#span25] match self with
      | Trail'0.C_Empty -> true
      | Trail'0.C_Assign a l tl -> let ap = to_pair'0 a in not contains'0 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'0 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span26] Fset.mem e self
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'0.t_trail) =
    [%#span27] match self with
      | Trail'0.C_Empty -> true
      | Trail'0.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'1 j a  -> contains'0 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span28] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'0.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span31] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'0.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span29] invariant_nonneg'0 self)
   -> ([%#span30] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'0.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_def : forall self : Trail'0.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . set_level'0 self s
  = ([%#span39] if Fset.cardinal s = 0 then
    0
  else
    if Fset.cardinal s = 1 then
      level_of'0 self (Fset.pick s)
    else
      let a = Fset.pick s in let rec' = set_level'0 self (remove'0 s a) in if level_of'0 self a >= rec' then
        level_of'0 self a
      else
        rec'
      
    
  )
  
  axiom set_level'0_spec : forall self : Trail'0.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span32] invariant_nonneg'0 self)
   -> ([%#span37] set_level'0 self s <= level'0 self)
  && ([%#span36] set_level'0 self s >= 0)
  && ([%#span35] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span34] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'1 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span33] forall i : (Term'0.t_term, Value'0.t_value) . contains'1 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'0.t_trail) =
    [%#span40] match self with
      | Trail'0.C_Empty -> true
      | Trail'0.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'0.t_trail) =
    [%#span41] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  constant self  : Trail'0.t_trail
  
  constant d  : (Term'0.t_term, Value'0.t_value)
  
  function trail_plausible [#"/Users/xavier/Code/cdsat/src/theory.rs" 791 4 791 50] (self : Trail'0.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  goal vc_trail_plausible : ([%#stheory2] is_bool'0 (let (_, a) = d in a))
   -> ([%#stheory1] contains'0 self d)
   -> ([%#stheory0] invariant'0 self)
   -> match self with
    | Trail'0.C_Empty -> [%#stheory3] not contains'0 self ((let (a, _) = d in a), negate'0 (let (_, a) = d in a))
    | Trail'0.C_Assign a l tl -> match to_pair'0 a = d with
      | True -> [%#stheory3] not contains'0 self ((let (a, _) = d in a), negate'0 (let (_, a) = d in a))
      | False -> (([%#stheory2] is_bool'0 (let (_, a) = d in a))
      && ([%#stheory1] contains'0 tl d) && ([%#stheory0] invariant'0 tl))
      /\ (([%#stheory3] not contains'0 tl ((let (a, _) = d in a), negate'0 (let (_, a) = d in a)))
       -> (let _ = trail_plausible tl d in [%#stheory3] not contains'0 self ((let (a, _) = d in a), negate'0 (let (_, a) = d in a))))
      end
    end
end
module Cdsat_Trail_Impl9_AbsJustEquiv_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 540 4 540 136
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 541 14 541 85
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span3 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span10 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'5 (self : TrailIndex'0.t_trailindex) =
    [%#span2] true
  
  predicate inv'5 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'5 : forall x : TrailIndex'0.t_trailindex . inv'5 x = true
  
  use seq.Seq
  
  predicate invariant'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span2] true
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'3 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span2] true
  
  predicate inv'3 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'3 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'3 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span3] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span4] inv'2 self)
   -> ([%#span6] inv'3 (shallow_model'1 self))
  && ([%#span5] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span7] inv'3 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'1 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span2] true
  
  predicate inv'1 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span4] inv'0 self)
   -> ([%#span6] inv'1 (shallow_model'0 self))
  && ([%#span5] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span7] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span8] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'0 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span9] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span19] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span10] inv'4 s)
   -> ([%#span11] inv'5 e)
   -> ([%#span17] inv'4 (remove'0 s e))
  && ([%#span16] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span15] contains'0 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span14] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'0 (remove'0 s e) t  -> t <> e)
  && ([%#span13] forall t : TrailIndex'0.t_trailindex . inv'5 t  -> contains'0 (remove'0 s e) t  -> contains'0 s t)
  && ([%#span12] forall t : TrailIndex'0.t_trailindex . inv'5 t
   -> contains'0 s t  -> e <> t  -> contains'0 (remove'0 s e) t)
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span20] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span21] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span23] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span24] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span25] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span26] Fset.mem e self
  
  use set.Fset
  
  predicate contains'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span27] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span34] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span28] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'1 self (Seq.get just i))
   -> ([%#span32] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span31] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 just ix /\ a = index_logic'0 self ix))
  && ([%#span30] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'1 self ix /\ a = index_logic'0 self ix))
  && ([%#span29] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  constant self  : Trail'0.t_trail
  
  constant other  : Trail'0.t_trail
  
  constant just  : Seq.seq (TrailIndex'0.t_trailindex)
  
  function abs_just_equiv [#"/Users/xavier/Code/cdsat/src/trail.rs" 542 4 542 67] (self : Trail'0.t_trail) (other : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_abs_just_equiv : ([%#strail0] forall j : TrailIndex'0.t_trailindex . contains'0 just j
   -> contains'1 self j /\ contains'1 other j /\ index_logic'0 self j = index_logic'0 other j)
   -> ([%#strail1] abstract_justification'0 self just = abstract_justification'0 other just)
end
module Cdsat_Trail_Impl22_Eq
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 67 22 67 38
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 16 66 25
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/num.rs" 22 16 22 35
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/cmp.rs" 11 26 11 75
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  function deep_model'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span2] self
  
  use prelude.prelude.Borrow
  
  function deep_model'0 (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex =
    [%#span3] deep_model'2 self
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Int
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use prelude.prelude.UIntSize
  
  function deep_model'3 (self : usize) : int =
    [%#span4] UIntSize.to_int self
  
  function deep_model'1 (self : usize) : int =
    [%#span3] deep_model'3 self
  
  let rec eq'0 (self:usize) (other:usize) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span5] result = (deep_model'1 self = deep_model'1 other)} (! return' {result}) ]
    
  
  let rec eq (self:TrailIndex'0.t_trailindex) (rhs:TrailIndex'0.t_trailindex) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 = TrailIndex'0.t_trailindex {rhs} (fun (r0'0:usize) (r1'0:usize) ->  [ &_7 <- r0'0 ] s1)
      | s1 = TrailIndex'0.t_trailindex {self}
          (fun (r0'1:usize) (r1'1:usize) -> eq'0 {r0'1} {_7} (fun (_ret':bool) ->  [ &_4 <- _ret' ] s2))
      | s2 = bb1 ]
      
    | bb1 = any [ br0 -> {_4 = false} (! bb3) | br1 -> {_4} (! bb2) ] 
    | bb2 = s0
      [ s0 = TrailIndex'0.t_trailindex {rhs} (fun (r0'0:usize) (r1'0:usize) ->  [ &_10 <- r1'0 ] s1)
      | s1 = TrailIndex'0.t_trailindex {self}
          (fun (r0'1:usize) (r1'1:usize) -> eq'0 {r1'1} {_10} (fun (_ret':bool) ->  [ &_0 <- _ret' ] s2))
      | s2 = bb4 ]
      
    | bb4 = bb5
    | bb3 = s0 [ s0 =  [ &_0 <- [%#strail0] false ] s1 | s1 = bb5 ] 
    | bb5 = return' {_0} ]
    )
    [ & _0 : bool = any_l ()
    | & self : TrailIndex'0.t_trailindex = self
    | & rhs : TrailIndex'0.t_trailindex = rhs
    | & _4 : bool = any_l ()
    | & _7 : usize = any_l ()
    | & _10 : usize = any_l () ]
    
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail1] result = (deep_model'0 self = deep_model'0 rhs)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl8_Level
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 173 14 173 30
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  let rec level (self:TrailIndex'0.t_trailindex) (return'  (ret:usize))= (! bb0
    [ bb0 = s0
      [ s0 = TrailIndex'0.t_trailindex {self} (fun (r0'0:usize) (r1'0:usize) ->  [ &_0 <- r0'0 ] s1)
      | s1 = return' {_0} ]
       ]
    ) [ & _0 : usize = any_l () | & self : TrailIndex'0.t_trailindex = self ] 
    [ return' (result:usize)-> {[@expl:postcondition] [%#strail0] result
      = Cdsat_Trail_TrailIndex_Type.trailindex_0 self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl17_Clone
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 9 48 14
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2836 14 2836 18
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/clone.rs" 7 0 20 1
  
  let%span span9 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2836 4 2836 27
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span1] true
  
  predicate inv'2 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span3] inv'1 self)
   -> ([%#span5] inv'2 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'1 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span6] inv'2 (shallow_model'0 self)
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  predicate invariant'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span1] true
  
  predicate inv'0 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  axiom inv'0 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'0 x = true
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  let rec clone'0 (self:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (return'  (ret:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)))= {[@expl:precondition] [%#span7] inv'0 self}
    any
    [ return' (result:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {[%#span9] inv'1 result}
      {[%#span8] result = self}
      (! return' {result}) ]
    
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  let rec clone' (self:Reason'0.t_reason) (return'  (ret:Reason'0.t_reason))= (! bb0
    [ bb0 = any
      [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {self = Reason'0.C_Justified a} (! bb2)
      | br1 -> {self = Reason'0.C_Decision } (! bb3)
      | br2 -> {self = Reason'0.C_Input } (! bb4) ]
      
    | bb1 = {[%#strail0] false} any
    | bb4 = s0 [ s0 =  [ &_0 <- Reason'0.C_Input ] s1 | s1 = bb9 ] 
    | bb3 = bb8
    | bb8 = s0 [ s0 =  [ &_0 <- Reason'0.C_Decision ] s1 | s1 = bb9 ] 
    | bb2 = bb5
    | bb5 = s0
      [ s0 = Reason'0.justified {self}
          (fun (r0'0:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &v0_1 <- r0'0 ] s1)
      | s1 =  [ &_7 <- v0_1 ] s2
      | s2 = clone'0 {_7}
          (fun (_ret':Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &_5 <- _ret' ] s3)
      | s3 = bb6 ]
      
    | bb6 = s0
      [ s0 =  [ &_0 <- Reason'0.C_Justified _5 ] 
        (any [ any_ (_any:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> (!  [ &_5 <- _any ] s1) ] )
      | s1 = bb7 ]
      
    | bb7 = bb9
    | bb9 = return' {_0} ]
    )
    [ & _0 : Reason'0.t_reason = any_l ()
    | & self : Reason'0.t_reason = self
    | & v0_1 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & _5 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & _7 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l () ]
     [ return' (result:Reason'0.t_reason)-> {[@expl:postcondition] [%#strail0] result = self} (! return' {result}) ] 
end
module Cdsat_Trail_Impl13_Clone
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 16 9 16 14
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/clone.rs" 7 0 20 1
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 9 48 14
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/term.rs" 225 9 225 14
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/term.rs" 33 9 33 14
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  let rec clone'3 (self:usize) (return'  (ret:usize))= any
    [ return' (result:usize)-> {[%#span1] result = self} (! return' {result}) ]
    
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  let rec clone'2 (self:Reason'0.t_reason) (return'  (ret:Reason'0.t_reason))= any
    [ return' (result:Reason'0.t_reason)-> {[%#span2] result = self} (! return' {result}) ]
    
  
  use Cdsat_Term_Value_Type as Value'0
  
  let rec clone'1 (self:Value'0.t_value) (return'  (ret:Value'0.t_value))= any
    [ return' (result:Value'0.t_value)-> {[%#span3] result = self} (! return' {result}) ]
    
  
  use Cdsat_Term_Term_Type as Term'0
  
  let rec clone'0 (self:Term'0.t_term) (return'  (ret:Term'0.t_term))= any
    [ return' (result:Term'0.t_term)-> {[%#span4] result = self} (! return' {result}) ]
    
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec clone' (self:Assignment'0.t_assignment) (return'  (ret:Assignment'0.t_assignment))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_5 <- rterm'0 ] 
            s1)
      | s1 = clone'0 {_5} (fun (_ret':Term'0.t_term) ->  [ &_3 <- _ret' ] s2)
      | s2 = bb1 ]
      
    | bb1 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_8 <- rval'0 ] 
            s1)
      | s1 = clone'1 {_8} (fun (_ret':Value'0.t_value) ->  [ &_6 <- _ret' ] s2)
      | s2 = bb2 ]
      
    | bb2 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_11 <- rreason'0 ] 
            s1)
      | s1 = clone'2 {_11} (fun (_ret':Reason'0.t_reason) ->  [ &_9 <- _ret' ] s2)
      | s2 = bb3 ]
      
    | bb3 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_14 <- rlevel'0 ] 
            s1)
      | s1 = clone'3 {_14} (fun (_ret':usize) ->  [ &_12 <- _ret' ] s2)
      | s2 = bb4 ]
      
    | bb4 = s0
      [ s0 =  [ &_0 <- Assignment'0.C_Assignment _3 _6 _9 _12 ] 
        (any
        [ any_ (_any:Term'0.t_term)-> (!  [ &_3 <- _any ] 
          (any
          [ any_ (_any:Value'0.t_value)-> (!  [ &_6 <- _any ] 
            (any
            [ any_ (_any:Reason'0.t_reason)-> (!  [ &_9 <- _any ] 
              (any [ any_ (_any:usize)-> (!  [ &_12 <- _any ] s1) ] )) ]
            )) ]
          )) ]
        )
      | s1 = bb5 ]
      
    | bb5 = bb6
    | bb6 = bb7
    | bb7 = return' {_0} ]
    )
    [ & _0 : Assignment'0.t_assignment = any_l ()
    | & self : Assignment'0.t_assignment = self
    | & _3 : Term'0.t_term = any_l ()
    | & _5 : Term'0.t_term = any_l ()
    | & _6 : Value'0.t_value = any_l ()
    | & _8 : Value'0.t_value = any_l ()
    | & _9 : Reason'0.t_reason = any_l ()
    | & _11 : Reason'0.t_reason = any_l ()
    | & _12 : usize = any_l ()
    | & _14 : usize = any_l () ]
    
    [ return' (result:Assignment'0.t_assignment)-> {[@expl:postcondition] [%#strail0] result = self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_IsBool
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 733 14 733 45
  
  let%span span1 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span6 = "/Users/xavier/Code/cdsat/src/term.rs" 293 14 293 41
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'1.t_value) : Sort'0.t_sort =
    [%#span1] match self with
      | Value'1.C_Bool _ -> Sort'0.C_Boolean
      | Value'1.C_Rat _ -> Sort'0.C_Rational
      end
  
  predicate is_bool'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'1.t_value) =
    [%#span2] sort'0 self = Sort'0.C_Boolean
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'1 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  use Cdsat_Term_Value_Type as Value'0
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span3] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'1 br)
      end
  
  function shallow_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span4] deep_model'0 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  function shallow_model'1 (self : Value'0.t_value) : Value'1.t_value =
    [%#span5] shallow_model'0 self
  
  let rec is_bool'0 (self:Value'0.t_value) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span6] result = is_bool'1 (shallow_model'1 self)} (! return' {result}) ]
    
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec is_bool (self:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
            is_bool'0 {rval'0} (fun (_ret':bool) ->  [ &_0 <- _ret' ] s1))
      | s1 = bb1 ]
      
    | bb1 = return' {_0} ]
    ) [ & _0 : bool = any_l () | & self : Assignment'0.t_assignment = self ] 
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail0] result
      = is_bool'1 (shallow_model'0 (Cdsat_Trail_Assignment_Type.assignment_val self))}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_IsFirstOrder
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 744 14 744 45
  
  let%span span1 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span5 = "/Users/xavier/Code/cdsat/src/trail.rs" 733 14 733 45
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'1.t_value) : Sort'0.t_sort =
    [%#span1] match self with
      | Value'1.C_Bool _ -> Sort'0.C_Boolean
      | Value'1.C_Rat _ -> Sort'0.C_Rational
      end
  
  predicate is_bool'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'1.t_value) =
    [%#span2] sort'0 self = Sort'0.C_Boolean
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'1 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  use Cdsat_Term_Value_Type as Value'0
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span3] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'1 br)
      end
  
  function shallow_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span4] deep_model'0 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  let rec is_bool'0 (self:Assignment'0.t_assignment) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span5] result
      = is_bool'1 (shallow_model'0 (Cdsat_Trail_Assignment_Type.assignment_val self))}
      (! return' {result}) ]
    
  
  let rec is_first_order (self:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = s0 [ s0 = is_bool'0 {self} (fun (_ret':bool) ->  [ &_3 <- _ret' ] s1) | s1 = bb1 ] 
    | bb1 = s0 [ s0 =  [ &_0 <- not _3 ] (any [ any_ (_any:bool)-> (!  [ &_3 <- _any ] s1) ] ) | s1 = return' {_0} ]  ]
    ) [ & _0 : bool = any_l () | & self : Assignment'0.t_assignment = self | & _3 : bool = any_l () ] 
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail0] result
      <> is_bool'1 (shallow_model'0 (Cdsat_Trail_Assignment_Type.assignment_val self))}
      (! return' {result}) ]
    
end
module Cdsat_Trail_ReasonDeepModel_Type
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  type t_reasondeepmodel  =
    | C_Justified (Seq.seq (TrailIndex'0.t_trailindex))
    | C_Decision
    | C_Input
  
  function any_l (_ : 'b) : 'a
  
  let rec justified (input:t_reasondeepmodel) (ret  (field_0:Seq.seq (TrailIndex'0.t_trailindex)))= any
    [ good (field_0:Seq.seq (TrailIndex'0.t_trailindex))-> {C_Justified field_0 = input} (! ret {field_0})
    | bad (field_0:Seq.seq (TrailIndex'0.t_trailindex))-> {C_Justified field_0 <> input} {false} any ]
    
  
  let rec decision (input:t_reasondeepmodel) (ret  )= any
    [ good -> {C_Decision  = input} (! ret) | bad -> {C_Decision  <> input} {false} any ]
    
  
  let rec input (input:t_reasondeepmodel) (ret  )= any
    [ good -> {C_Input  = input} (! ret) | bad -> {C_Input  <> input} {false} any ]
    
end
module Cdsat_Trail_Impl18_Eq
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 16 48 25
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 18 33 22
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 30 14 30 56
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 31 4 32 53
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 4 33 44
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  let%span span15 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/partial_eq.rs" 16 19 16 23
  
  let%span span16 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/partial_eq.rs" 16 25 16 30
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/cmp.rs" 11 26 11 75
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 46 8 46 12
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 17 8 17 60
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span1] true
  
  predicate inv'2 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span3] inv'1 self)
   -> ([%#span5] inv'2 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'1 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span6] inv'2 (shallow_model'0 self)
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  predicate invariant'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span1] true
  
  predicate inv'0 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  axiom inv'0 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'0 x = true
  
  function deep_model'4 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span7] self
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span8] Seq.get (shallow_model'0 self) ix
  
  function deep_model'3 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom deep_model'3_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span9] inv'1 self)
   -> ([%#span12] inv'2 (deep_model'3 self))
  && ([%#span11] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 self)
   -> Seq.get (deep_model'3 self) i = deep_model'4 (index_logic'0 self i))
  && ([%#span10] Seq.length (shallow_model'0 self) = Seq.length (deep_model'3 self))
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function deep_model'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40] (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel
    
   =
    [%#span13] match self with
      | Reason'0.C_Justified v0_1 -> ReasonDeepModel'0.C_Justified (deep_model'3 v0_1)
      | Reason'0.C_Decision -> ReasonDeepModel'0.C_Decision
      | Reason'0.C_Input -> ReasonDeepModel'0.C_Input
      end
  
  use prelude.prelude.Borrow
  
  function deep_model'0 (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel =
    [%#span14] deep_model'2 self
  
  use prelude.prelude.Intrinsic
  
  function deep_model'1 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
   =
    [%#span14] deep_model'3 self
  
  let rec eq'0 (self:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (other:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (return'  (ret:bool))= {[@expl:precondition] [%#span16] inv'0 other}
    {[@expl:precondition] [%#span15] inv'0 self}
    any [ return' (result:bool)-> {[%#span17] result = (deep_model'1 self = deep_model'1 other)} (! return' {result}) ] 
  
  predicate resolve'1 (self : Reason'0.t_reason) =
    [%#span18] true
  
  predicate resolve'0 (self : (Reason'0.t_reason, Reason'0.t_reason)) =
    [%#span19] resolve'1 (let (a, _) = self in a) /\ resolve'1 (let (_, a) = self in a)
  
  let rec eq (self:Reason'0.t_reason) (rhs:Reason'0.t_reason) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 =  [ &_4 <- (self, rhs) ] s1
      | s1 = any
        [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {(let (r'0, _) = _4 in r'0)
          = Reason'0.C_Justified a}
          (! bb2)
        | br1 -> {(let (r'0, _) = _4 in r'0) = Reason'0.C_Decision } (! bb4)
        | br2 -> {(let (r'0, _) = _4 in r'0) = Reason'0.C_Input } (! bb6) ]
         ]
      
    | bb17 = s0 [ s0 = -{resolve'0 _4}- s1 | s1 = bb1 ] 
    | bb6 = s0
      [ s0 = -{resolve'0 _4}- s1
      | s1 = any
        [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {(let (_, r'0) = _4 in r'0)
          = Reason'0.C_Justified a}
          (! bb1)
        | br1 -> {(let (_, r'0) = _4 in r'0) = Reason'0.C_Decision } (! bb1)
        | br2 -> {(let (_, r'0) = _4 in r'0) = Reason'0.C_Input } (! bb7) ]
         ]
      
    | bb7 = bb14
    | bb14 = s0 [ s0 =  [ &_0 <- [%#strail0] true ] s1 | s1 = bb15 ] 
    | bb4 = any
      [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {(let (_, r'0) = _4 in r'0)
        = Reason'0.C_Justified a}
        (! bb19)
      | br1 -> {(let (_, r'0) = _4 in r'0) = Reason'0.C_Decision } (! bb5)
      | br2 -> {(let (_, r'0) = _4 in r'0) = Reason'0.C_Input } (! bb19) ]
      
    | bb19 = s0 [ s0 = -{resolve'0 _4}- s1 | s1 = bb1 ] 
    | bb5 = bb13
    | bb13 = s0 [ s0 = -{resolve'0 _4}- s1 | s1 =  [ &_0 <- [%#strail0] true ] s2 | s2 = bb15 ] 
    | bb2 = any
      [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {(let (_, r'0) = _4 in r'0)
        = Reason'0.C_Justified a}
        (! bb3)
      | br1 -> {(let (_, r'0) = _4 in r'0) = Reason'0.C_Decision } (! bb18)
      | br2 -> {(let (_, r'0) = _4 in r'0) = Reason'0.C_Input } (! bb18) ]
      
    | bb18 = s0 [ s0 = -{resolve'0 _4}- s1 | s1 = bb1 ] 
    | bb1 = s0 [ s0 =  [ &_0 <- [%#strail0] false ] s1 | s1 = bb15 ] 
    | bb3 = bb8
    | bb8 = s0
      [ s0 = Reason'0.justified {let (r'0, _) = _4 in r'0}
          (fun (r0'0:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &v0_1 <- r0'0 ] s1)
      | s1 = Reason'0.justified {let (_, r'1) = _4 in r'1}
          (fun (r0'1:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &v0_2 <- r0'1 ] s2)
      | s2 = -{resolve'0 _4}- s3
      | s3 = eq'0 {v0_1} {v0_2} (fun (_ret':bool) ->  [ &_13 <- _ret' ] s4)
      | s4 = bb9 ]
      
    | bb9 = any [ br0 -> {_13 = false} (! bb11) | br1 -> {_13} (! bb10) ] 
    | bb10 = s0 [ s0 =  [ &_0 <- [%#strail0] true ] s1 | s1 = bb12 ] 
    | bb11 = s0 [ s0 =  [ &_0 <- [%#strail0] false ] s1 | s1 = bb12 ] 
    | bb12 = bb15
    | bb15 = return' {_0} ]
    )
    [ & _0 : bool = any_l ()
    | & self : Reason'0.t_reason = self
    | & rhs : Reason'0.t_reason = rhs
    | & _4 : (Reason'0.t_reason, Reason'0.t_reason) = any_l ()
    | & v0_1 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & v0_2 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & _13 : bool = any_l () ]
    
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail0] result = (deep_model'0 self = deep_model'0 rhs)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_IsDecision
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 754 14 754 57
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 18 33 22
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 30 14 30 56
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 31 4 32 53
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 4 33 44
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 16 48 25
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span1] true
  
  predicate inv'1 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'1 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'1 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span3] inv'0 self)
   -> ([%#span5] inv'1 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span6] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'0 x = true
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Intrinsic
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use prelude.prelude.Borrow
  
  function deep_model'3 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span7] self
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span8] Seq.get (shallow_model'0 self) ix
  
  function deep_model'2 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom deep_model'2_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span9] inv'0 self)
   -> ([%#span12] inv'1 (deep_model'2 self))
  && ([%#span11] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 self)
   -> Seq.get (deep_model'2 self) i = deep_model'3 (index_logic'0 self i))
  && ([%#span10] Seq.length (shallow_model'0 self) = Seq.length (deep_model'2 self))
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40] (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel
    
   =
    [%#span13] match self with
      | Reason'0.C_Justified v0_1 -> ReasonDeepModel'0.C_Justified (deep_model'2 v0_1)
      | Reason'0.C_Decision -> ReasonDeepModel'0.C_Decision
      | Reason'0.C_Input -> ReasonDeepModel'0.C_Input
      end
  
  function deep_model'0 (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel =
    [%#span14] deep_model'1 self
  
  let rec eq'0 (self:Reason'0.t_reason) (rhs:Reason'0.t_reason) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span15] result = (deep_model'0 self = deep_model'0 rhs)} (! return' {result}) ]
    
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec promoted0 (return'  (ret:Reason'0.t_reason))= bb0
    [ bb0 = s0 [ s0 =  [ &_1 <- Reason'0.C_Decision ] s1 | s1 =  [ &_0 <- _1 ] s2 | s2 = return' {_0} ]  ]
     [ & _0 : Reason'0.t_reason = any_l () | & _1 : Reason'0.t_reason = any_l () ] 
    [ return' (result:Reason'0.t_reason)-> return' {result} ]
    
  
  let rec is_decision (self:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 = promoted0 (fun (pr0:Reason'0.t_reason) ->  [ &_6 <- pr0 ] s1)
      | s1 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
            eq'0 {rreason'0} {_6} (fun (_ret':bool) ->  [ &_0 <- _ret' ] s2))
      | s2 = bb1 ]
      
    | bb1 = return' {_0} ]
    ) [ & _0 : bool = any_l () | & self : Assignment'0.t_assignment = self | & _6 : Reason'0.t_reason = any_l () ] 
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail0] result
      = (Cdsat_Trail_Assignment_Type.assignment_reason self = Reason'0.C_Decision)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_Justification
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 461 14 461 29
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 467 29 467 39
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 466 32 466 42
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 463 16 463 91
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 454 15 454 31
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 455 15 455 31
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 456 4 456 61
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 457 4 457 86
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 458 14 458 99
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 459 4 459 105
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span12 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span39 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span40 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span43 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span45 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span70 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span75 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span76 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span77 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span78 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span79 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span80 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span81 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span82 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span83 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span84 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span87 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span92 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span95 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span114 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span133 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span134 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span159 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span162 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  let%span span167 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2836 14 2836 18
  
  let%span span168 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/clone.rs" 7 0 20 1
  
  let%span span169 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2836 4 2836 27
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/theory.rs" 658 15 658 31
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/theory.rs" 659 15 659 36
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/theory.rs" 660 4 660 126
  
  let%span span173 = "/Users/xavier/Code/cdsat/src/theory.rs" 661 14 661 73
  
  let%span span174 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 69 26 69 44
  
  let%span span175 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 422 4 422 30
  
  let%span span176 = "/Users/xavier/Code/cdsat/src/trail.rs" 714 15 714 35
  
  let%span span177 = "/Users/xavier/Code/cdsat/src/trail.rs" 715 14 715 67
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span10] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span11] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span13] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span12] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span16] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span14] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span15] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span19] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span17] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span18] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span23] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span20] cmp_log'0 x y
  = o)  -> ([%#span21] cmp_log'0 y z = o)  -> ([%#span22] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span25] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span24] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span26] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span28] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span27] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span29] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span31] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span30] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span32] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span34] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span33] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span37] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span36] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  predicate inv'8 (_x : TrailIndex'0.t_trailindex)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span38] inv'8 x)
   -> ([%#span39] inv'8 y)  -> ([%#span40] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span41] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span42] inv'8 x)  -> ([%#span43] inv'8 y)  -> ([%#span44] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span45] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span46] inv'8 x)  -> ([%#span47] inv'8 y)  -> ([%#span48] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span49] cmp_log'0 x y
  = o)
   -> ([%#span50] cmp_log'0 y z = o)
   -> ([%#span51] inv'8 x)  -> ([%#span52] inv'8 y)  -> ([%#span53] inv'8 z)  -> ([%#span54] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span55] inv'8 x)
   -> ([%#span56] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span57] inv'8 x)
   -> ([%#span58] inv'8 y)  -> ([%#span59] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span60] inv'8 x)
   -> ([%#span61] inv'8 y)  -> ([%#span62] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span63] inv'8 x)
   -> ([%#span64] inv'8 y)  -> ([%#span65] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span66] inv'8 x)
   -> ([%#span67] inv'8 y)  -> ([%#span68] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  predicate invariant'11 (self : TrailIndex'0.t_trailindex) =
    [%#span69] true
  
  axiom inv'8 : forall x : TrailIndex'0.t_trailindex . inv'8 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'10 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span69] true
  
  predicate inv'7 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'7 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'7 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span70] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'6 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'2_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span71] inv'6 self)
   -> ([%#span73] inv'7 (shallow_model'2 self))
  && ([%#span72] Seq.length (shallow_model'2 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'9 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span74] inv'7 (shallow_model'2 self)
  
  axiom inv'6 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'6 x = true
  
  predicate invariant'8 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span69] true
  
  predicate inv'5 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'5 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'5 x = true
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span71] inv'4 self)
   -> ([%#span73] inv'5 (shallow_model'1 self))
  && ([%#span72] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'7 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span74] inv'5 (shallow_model'1 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'4 x
  = true
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'1.t_value) : Sort'0.t_sort =
    [%#span75] match self with
      | Value'1.C_Bool _ -> Sort'0.C_Boolean
      | Value'1.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span76] forall v : Value'1.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'3 (_x : Model'0.t_model)
  
  axiom inv'3 : forall x : Model'0.t_model . inv'3 x
  = (invariant'2 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  predicate invariant'6 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span69] true
  
  predicate inv'2 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  predicate invariant'5 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span69] true
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span71] inv'0 self)
   -> ([%#span73] inv'2 (shallow_model'0 self))
  && ([%#span72] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'3 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span74] inv'2 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'0 x = true
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span77] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  use seq.Seq
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Term_Type as Term'1
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'1.t_term) : Sort'0.t_sort =
    [%#span78] match self with
      | Term'1.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'1.C_Value v -> sort'1 v
      | Term'1.C_Plus _ _ -> Sort'0.C_Rational
      | Term'1.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'1.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'1.C_Neg _ -> Sort'0.C_Boolean
      | Term'1.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'4 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span79] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span80] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'4 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span81] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span84] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span83] level'0 self <= len'0 self)
  && ([%#span82] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span85] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span86] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span90] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span89] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span88] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span87] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  use set.Fset
  
  use prelude.prelude.Real
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'1.t_term) : Value'1.t_value
    
   =
    [%#span93] match t with
      | Term'1.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'1.C_Value v -> v
      | Term'1.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Rat r1, Value'1.C_Rat r2) -> Value'1.C_Rat r1
        | _ -> Value'1.C_Rat (from_int'0 (- 1))
        end
      | Term'1.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Bool b1, Value'1.C_Bool b2) -> Value'1.C_Bool (b1 /\ b2)
        | _ -> Value'1.C_Bool false
        end
      | Term'1.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Bool b1, Value'1.C_Bool b2) -> Value'1.C_Bool (b1 \/ b2)
        | _ -> Value'1.C_Bool false
        end
      | Term'1.C_Eq l r -> Value'1.C_Bool (interp'0 self l = interp'0 self r)
      | Term'1.C_Neg t -> match interp'0 self t with
        | Value'1.C_Bool b -> Value'1.C_Bool (not b)
        | _ -> Value'1.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'1.t_term . ([%#span91] inv'3 self)
   -> ([%#span92] invariant'2 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span94] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (e : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span95] Fset.mem e self
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span96] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span97] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'3 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span99] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'2_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . [%#span98] invariant_assign'0 self
   -> contains'2 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span100] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'1.t_term, Value'1.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'1.t_term, Value'1.t_value) . ([%#span101] sound'0 self)
   -> ([%#span102] contains'2 self kv)
   -> ([%#span103] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span104] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  use set.Fset
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span105] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'1.t_term, Value'1.t_value)) (c : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span106] invariant'2 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span107] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'1.t_value) =
    [%#span108] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'1.t_value) : Value'1.t_value =
    [%#span111] match self with
      | Value'1.C_Bool b -> Value'1.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'1.t_value . ([%#span109] is_bool'0 self)
   -> ([%#span110] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span112] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'2 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'2 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span113] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'1.t_term, Value'1.t_value) . contains'1 j a  -> contains'2 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (a : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span114] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : int
    
   =
    [%#span117] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span115] invariant_nonneg'0 self)
   -> ([%#span116] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'1.t_term, Value'1.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'1.t_term, Value'1.t_value) . ([%#span118] invariant_nonneg'0 self)
   -> ([%#span123] set_level'0 self s <= level'0 self)
  && ([%#span122] set_level'0 self s >= 0)
  && ([%#span121] s = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value))  -> set_level'0 self s = 0)
  && ([%#span120] s <> (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value))
   -> (exists i : (Term'1.t_term, Value'1.t_value) . contains'1 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span119] forall i : (Term'1.t_term, Value'1.t_value) . contains'1 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span125] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span126] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span127] invariant'1 self)
   -> ([%#span128] is_justified'0 self d)
   -> ([%#span129] sound'0 self)
   -> ([%#span132] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)))
  && ([%#span131] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)))
  && ([%#span130] forall m : Model'0.t_model . inv'3 m  -> entails'0 m (justification'0 self d) d)
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (e : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span133] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  predicate contains'3 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span134] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span144] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span135] inv'2 s)
   -> ([%#span136] inv'8 e)
   -> ([%#span142] inv'2 (remove'0 s e))
  && ([%#span141] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span140] contains'3 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span139] forall t : TrailIndex'0.t_trailindex . inv'8 t  -> contains'3 (remove'0 s e) t  -> t <> e)
  && ([%#span138] forall t : TrailIndex'0.t_trailindex . inv'8 t  -> contains'3 (remove'0 s e) t  -> contains'3 s t)
  && ([%#span137] forall t : TrailIndex'0.t_trailindex . inv'8 t
   -> contains'3 s t  -> e <> t  -> contains'3 (remove'0 s e) t)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span145] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'4 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span146] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'0.t_term) : Term'1.t_term
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'0.t_term) : Term'1.t_term
   =
    [%#span148] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span149] (shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'4 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span150] term_value'0 (Seq.get (shallow_model'2 (Seq.get (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span151] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'2 (Seq.get (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span158] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span152] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span156] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'1 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span155] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'3 just ix /\ a = index_logic'0 self ix))
  && ([%#span154] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span153] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span159] Seq.get (shallow_model'0 self) ix
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'1.t_term) : bool =
    [%#span160] match self with
      | Term'1.C_Variable v -> true
      | Term'1.C_Value v -> true
      | Term'1.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'1.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'1.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'1.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'1.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span161] (forall i : TrailIndex'0.t_trailindex . contains'3 (shallow_model'0 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'0 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'4 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span162] Seq.get (shallow_model'2 self) (UIntSize.to_int ix)
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span162] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span163] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'4 (index_logic'3 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span164] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span159] Seq.get (shallow_model'1 self) ix
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span165] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'2 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'1.t_term, Value'1.t_value) . contains'2 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span166] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'2 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  use prelude.prelude.Intrinsic
  
  let rec clone'0 (self:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (return'  (ret:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)))= {[@expl:precondition] [%#span167] inv'1 self}
    any
    [ return' (result:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {[%#span169] inv'0 result}
      {[%#span168] result = self}
      (! return' {result}) ]
    
  
  function justification_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 662 4 662 58] (self : Trail'1.t_trail) (kv : (Term'1.t_term, Value'1.t_value)) : ()
    
  
  axiom justification_contains'0_spec : forall self : Trail'1.t_trail, kv : (Term'1.t_term, Value'1.t_value) . ([%#span170] invariant'1 self)
   -> ([%#span171] is_justified'0 self kv)
   -> ([%#span173] set_level'0 self (justification'0 self kv) = level_of'0 self kv)
  && ([%#span172] forall e : (Term'1.t_term, Value'1.t_value) . contains'1 (justification'0 self kv) e
   -> contains'2 self e /\ level_of'0 self e <= level_of'0 self kv)
  
  let rec new'0 (_1:()) (return'  (ret:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)))= any
    [ return' (result:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {[%#span175] inv'0 result}
      {[%#span174] Seq.length (shallow_model'0 result) = 0}
      (! return' {result}) ]
    
  
  let rec index'0 (self:Trail'0.t_trail) (index:TrailIndex'0.t_trailindex) (return'  (ret:Assignment'0.t_assignment))= {[@expl:precondition] [%#span176] contains'0 self index}
    any
    [ return' (result:Assignment'0.t_assignment)-> {[%#span177] result
      = Seq.get (shallow_model'2 (Seq.get (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 index)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 index))}
      (! return' {result}) ]
    
  
  let rec justification (self:Trail'0.t_trail) (a:TrailIndex'0.t_trailindex) (return'  (ret:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)))= {[%#strail6] is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self a)}
    {[%#strail5] contains'0 self a}
    {[%#strail4] invariant'0 self}
    (! bb0
    [ bb0 = s0 [ s0 = index'0 {self} {a} (fun (_ret':Assignment'0.t_assignment) ->  [ &_10 <- _ret' ] s1) | s1 = bb1 ] 
    | bb1 = s0
      [ s0 = Assignment'0.t_assignment {_10}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_9 <- rreason'0 ] 
            s1)
      | s1 = any
        [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {_9 = Reason'0.C_Justified a} (! bb3)
        | br1 -> {_9 = Reason'0.C_Decision } (! bb4)
        | br2 -> {_9 = Reason'0.C_Input } (! bb5) ]
         ]
      
    | bb2 = {[%#strail0] false} any
    | bb5 = s0
      [ s0 = new'0 {[%#strail1] ()}
          (fun (_ret':Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &_0 <- _ret' ] s1)
      | s1 = bb9 ]
      
    | bb4 = bb8
    | bb8 = s0
      [ s0 = new'0 {[%#strail2] ()}
          (fun (_ret':Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &_0 <- _ret' ] s1)
      | s1 = bb9 ]
      
    | bb3 = bb6
    | bb6 = s0
      [ s0 = Reason'0.justified {_9}
          (fun (r0'0:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &v <- r0'0 ] s1)
      | s1 = {[@expl:assertion] [%#strail3] let _ = justification_contains'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self a) in true}
        s2
      | s2 = clone'0 {v}
          (fun (_ret':Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) ->  [ &_0 <- _ret' ] s3)
      | s3 = bb7 ]
      
    | bb7 = bb9
    | bb9 = return' {_0} ]
    )
    [ & _0 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & self : Trail'0.t_trail = self
    | & a : TrailIndex'0.t_trailindex = a
    | & _9 : Reason'0.t_reason = any_l ()
    | & _10 : Assignment'0.t_assignment = any_l ()
    | & v : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l () ]
    
    [ return' (result:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {[@expl:postcondition] [%#strail9] forall i : int . 0
      <= i
      /\ i < Seq.length (shallow_model'0 result)  -> level_log'0 (Seq.get (shallow_model'0 result) i) <= level_log'0 a}
      {[@expl:postcondition] [%#strail8] abstract_justification'0 self (shallow_model'0 result)
      = justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self a)}
      {[@expl:postcondition] [%#strail7] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 result)
       -> contains'0 self (index_logic'1 result i)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_ReasonsDontChange_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 553 15 553 31
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 554 4 554 69
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 555 15 555 64
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 556 15 556 50
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 557 4 557 72
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 558 4 558 99
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 559 4 559 90
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 560 14 560 44
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span stheory9 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span stheory13 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span stheory14 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span stheory15 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span stheory16 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span stheory17 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span stheory18 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span strail19 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span stheory20 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span stheory21 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span strail22 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span svec23 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span svec24 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span svec25 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span strail26 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span28 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span47 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span50 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span51 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span53 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span54 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span56 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span57 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span77 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span81 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span82 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span83 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span84 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span85 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span86 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span87 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span88 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span91 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span92 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span98 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span125 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 741 15 741 31
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 742 4 742 83
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 578 15 578 31
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 579 15 579 25
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 580 15 580 47
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 581 14 581 58
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/theory.rs" 718 15 718 31
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 719 15 719 25
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 720 15 720 47
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 721 14 721 74
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 722 14 722 76
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 723 14 723 72
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 724 14 724 66
  
  let%span span152 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span173 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span174 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span175 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span176 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span177 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span178 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span179 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span180 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span181 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span182 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span183 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span184 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'10 (self : TrailIndex'0.t_trailindex) =
    [%#span27] true
  
  predicate inv'7 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'7 : forall x : TrailIndex'0.t_trailindex . inv'7 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'9 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span27] true
  
  predicate inv'6 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'6 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'6 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span28] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'5 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'2 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'2_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#svec23] inv'5 self)
   -> ([%#svec25] inv'6 (shallow_model'2 self))
  && ([%#svec24] Seq.length (shallow_model'2 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'8 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span29] inv'6 (shallow_model'2 self)
  
  axiom inv'5 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'5 x = true
  
  predicate invariant'7 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span27] true
  
  predicate inv'4 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'4 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'4 x = true
  
  use seq.Seq
  
  predicate inv'3 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#svec23] inv'3 self)
   -> ([%#svec25] inv'4 (shallow_model'1 self))
  && ([%#svec24] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'6 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span29] inv'4 (shallow_model'1 self)
  
  axiom inv'3 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'3 x
  = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span30] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span31] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span33] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span32] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span36] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span34] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span35] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span39] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span37] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span38] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span43] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span40] cmp_log'0 x y
  = o)  -> ([%#span41] cmp_log'0 y z = o)  -> ([%#span42] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span45] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span44] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span46] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span48] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span47] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span49] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span51] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span50] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span52] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span54] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span53] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span55] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span57] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span56] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span58] inv'7 x)
   -> ([%#span59] inv'7 y)  -> ([%#span60] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span61] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span62] inv'7 x)  -> ([%#span63] inv'7 y)  -> ([%#span64] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span65] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span66] inv'7 x)  -> ([%#span67] inv'7 y)  -> ([%#span68] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span69] cmp_log'0 x y
  = o)
   -> ([%#span70] cmp_log'0 y z = o)
   -> ([%#span71] inv'7 x)  -> ([%#span72] inv'7 y)  -> ([%#span73] inv'7 z)  -> ([%#span74] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span75] inv'7 x)
   -> ([%#span76] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span77] inv'7 x)
   -> ([%#span78] inv'7 y)  -> ([%#span79] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span80] inv'7 x)
   -> ([%#span81] inv'7 y)  -> ([%#span82] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span83] inv'7 x)
   -> ([%#span84] inv'7 y)  -> ([%#span85] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span86] inv'7 x)
   -> ([%#span87] inv'7 y)  -> ([%#span88] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  predicate invariant'5 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span27] true
  
  predicate inv'2 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  use seq.Seq
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#svec23] inv'1 self)
   -> ([%#svec25] inv'2 (shallow_model'0 self))
  && ([%#svec24] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'4 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span29] inv'2 (shallow_model'0 self)
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span89] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span90] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'0 (_x : Model'0.t_model)
  
  axiom inv'0 : forall x : Model'0.t_model . inv'0 x
  = (invariant'3 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span91] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span92] len'0 self >= 0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  use set.Fset
  
  use prelude.prelude.Real
  
  function from_int'0 (_1 : int) : Real.real
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span93] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span96] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span94] inv'0 self)
   -> ([%#span95] invariant'3 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span97] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  use set.Fset
  
  predicate contains'3 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span98] Fset.mem e self
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span99] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 v a  -> satisfies'0 self a
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span100] invariant'3 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span101] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'0 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span102] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  use prelude.prelude.Int
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span103] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span104] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'2 a
      end
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span105] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#stheory21] level'0 self <= len'0 self)
  && ([%#stheory20] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span106] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span107] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span111] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span110] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span109] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span108] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  predicate contains'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span112] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'1_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#stheory9] invariant_assign'0 self
   -> contains'1 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span113] sound'0 self)
   -> ([%#span114] contains'1 self kv)
   -> ([%#span115] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span116] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span117] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span118] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span119] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span122] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span120] is_bool'0 self)
   -> ([%#span121] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span123] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'1 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'1 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span124] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'3 j a  -> contains'1 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span125] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span128] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span126] invariant_nonneg'0 self)
   -> ([%#span127] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span129] invariant_nonneg'0 self)
   -> ([%#span134] set_level'0 self s <= level'0 self)
  && ([%#span133] set_level'0 self s >= 0)
  && ([%#span132] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span131] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'3 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span130] forall i : (Term'0.t_term, Value'0.t_value) . contains'3 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span136] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span137] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#stheory13] invariant'1 self)
   -> ([%#stheory14] is_justified'0 self d)
   -> ([%#stheory15] sound'0 self)
   -> ([%#stheory18] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#stheory17] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#stheory16] forall m : Model'0.t_model . inv'0 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Borrow
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span138] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  function count_bounds'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 743 4 743 35] (self : Trail'1.t_trail) : ()
  
  axiom count_bounds'0_spec : forall self : Trail'1.t_trail . ([%#span139] invariant'1 self)
   -> ([%#span140] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 self a
   -> level_of'0 self a <= level'0 self)
  
  function restrict'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 561 4 561 45] (self : Trail'1.t_trail) (level : int) : Trail'1.t_trail
    
  
  function restrict_find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 582 4 582 60] (self : Trail'1.t_trail) (level : int) (d : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom restrict_find'0_spec : forall self : Trail'1.t_trail, level : int, d : (Term'0.t_term, Value'0.t_value) . ([%#span141] invariant'1 self)
   -> ([%#span142] level >= 0)
   -> ([%#span143] contains'1 (restrict'0 self level) d)
   -> ([%#span144] find'0 (restrict'0 self level) d = find'0 self d)
  
  function restrict_kind_unchanged'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 725 4 725 70] (self : Trail'1.t_trail) (level : int) (d : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom restrict_kind_unchanged'0_spec : forall self : Trail'1.t_trail, level : int, d : (Term'0.t_term, Value'0.t_value) . ([%#span145] invariant'1 self)
   -> ([%#span146] level >= 0)
   -> ([%#span147] contains'1 (restrict'0 self level) d)
   -> ([%#span151] is_input'0 self d = is_input'0 (restrict'0 self level) d)
  && ([%#span150] is_decision'0 self d = is_decision'0 (restrict'0 self level) d)
  && ([%#span149] justification'0 self d = justification'0 (restrict'0 self level) d)
  && ([%#span148] is_justified'0 self d = is_justified'0 (restrict'0 self level) d)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span152] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  function remove'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'1_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'1 s e
  = ([%#span162] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'1 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'1 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'1_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span153] inv'2 s)
   -> ([%#span154] inv'7 e)
   -> ([%#span160] inv'2 (remove'1 s e))
  && ([%#span159] Seq.length (remove'1 s e) <= Seq.length s)
  && ([%#span158] contains'2 s e  -> Seq.length (remove'1 s e) < Seq.length s)
  && ([%#span157] forall t : TrailIndex'0.t_trailindex . inv'7 t  -> contains'2 (remove'1 s e) t  -> t <> e)
  && ([%#span156] forall t : TrailIndex'0.t_trailindex . inv'7 t  -> contains'2 (remove'1 s e) t  -> contains'2 s t)
  && ([%#span155] forall t : TrailIndex'0.t_trailindex . inv'7 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'1 s e) t)
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span163] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'4 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span164] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span166] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span167] (shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'4 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span168] term_value'0 (Seq.get (shallow_model'2 (Seq.get (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span169] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'2 (Seq.get (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span176] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'1 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span170] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span174] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'3 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span173] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
  && ([%#span172] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span171] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span177] (forall i : TrailIndex'0.t_trailindex . contains'2 (shallow_model'0 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'0 j)
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span178] Seq.get (shallow_model'2 self) (UIntSize.to_int ix)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span178] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span179] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'3 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span180] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span181] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span182] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span183] Seq.get (shallow_model'1 self) ix
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span184] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'1 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'2 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  constant self  : Trail'0.t_trail
  
  constant other  : Trail'0.t_trail
  
  function reasons_dont_change [#"/Users/xavier/Code/cdsat/src/trail.rs" 561 4 561 45] (self : Trail'0.t_trail) (other : Trail'0.t_trail) : ()
    
  
  goal vc_reasons_dont_change : ([%#strail6] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix
   -> reason'0 self ix = reason'0 other ix)
   -> ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix
   -> index_logic'0 self ix = index_logic'0 other ix)
   -> ([%#strail4] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix  -> contains'0 self ix)
   -> ([%#strail3] level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other))
  = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level other))
   -> ([%#strail2] restrict'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level other))
  = Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other))
   -> ([%#strail1] abstract_relation'0 other /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)))
   -> ([%#strail0] invariant'0 self)
   -> (let _ = restrict_kind_unchanged'0 in ([%#strail8] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
   -> level_log'0 ix <= UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level other)  -> contains'0 other ix)
  && (let _ = () in let _ = () in ([%#strail10] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a
   -> is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
  = is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a)
  && (let _ = () in let _ = () in ([%#strail11] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a
   -> is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
  = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a)
  && (let _ = () in let _ = () in ([%#strail12] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a
   -> is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
  = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a)
  && (let _ = () in let _ = () in (forall a : (Term'0.t_term, Value'0.t_value) . ([%#stheory9] invariant_assign'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other))
   -> contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a = true
   -> sort'0 (let (a, _) = a in a) = sort'1 (let (_, a) = a in a))
   -> (if contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a then
    (([%#stheory15] sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)))
    && ([%#stheory14] is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a)
    && ([%#stheory13] invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))))
    /\ (([%#stheory18] is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
    && ([%#stheory17] is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
    && ([%#stheory16] forall m : Model'0.t_model . inv'0 m
     -> entails'0 m (justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a) a)
     -> ([%#stheory15] sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)))
    && ([%#stheory14] is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a)
    && ([%#stheory13] invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other))))
  else
    true
  ))
  /\ ([%#strail19] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a
   -> justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
  = justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)) a)
  && (let _ = () in let _ = () in ([%#strail22] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix
   -> level_log'0 ix <= level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)))
  && (let _ = () in let _ = () in (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . forall ix : TrailIndex'0.t_trailindex . if contains'0 other ix then
    if reason'0 other ix = Reason'0.C_Justified j then
      forall i : TrailIndex'0.t_trailindex . [%#svec23] inv'1 j
    else
      true
    
  else
    true
  )
  /\ ([%#strail26] forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . forall ix : TrailIndex'0.t_trailindex . contains'0 other ix
   -> reason'0 other ix = Reason'0.C_Justified j
   -> (forall i : TrailIndex'0.t_trailindex . contains'2 (shallow_model'0 j) i  -> lt_log'0 i ix /\ contains'0 other i))
  && (let _ = () in let _ = () in [%#strail7] justified_is_justified'0 other))))))))
end
module Cdsat_Trail_Impl9_Restrict
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 585 38 585 56
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 589 20 589 66
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 590 20 590 39
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 589 8 589 68
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 594 20 594 36
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 596 31 596 76
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 597 31 597 80
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 598 31 598 71
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 603 12 603 80
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 605 26 605 27
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 606 25 606 86
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 608 26 608 50
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 609 12 609 53
  
  let%span strail13 = "/Users/xavier/Code/cdsat/src/trail.rs" 578 4 578 40
  
  let%span strail14 = "/Users/xavier/Code/cdsat/src/trail.rs" 579 15 579 36
  
  let%span strail15 = "/Users/xavier/Code/cdsat/src/trail.rs" 580 14 580 59
  
  let%span strail16 = "/Users/xavier/Code/cdsat/src/trail.rs" 582 4 582 111
  
  let%span strail17 = "/Users/xavier/Code/cdsat/src/trail.rs" 583 4 583 112
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span46 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span47 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span52 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span53 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span77 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span81 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span82 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span83 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span84 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span86 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  let%span span87 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span92 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span105 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span124 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 741 15 741 31
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 742 4 742 83
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/theory.rs" 578 15 578 31
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 579 15 579 25
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 580 15 580 47
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 581 14 581 58
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 718 15 718 31
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 719 15 719 25
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 720 15 720 47
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/theory.rs" 721 14 721 74
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/theory.rs" 722 14 722 76
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/theory.rs" 723 14 723 72
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/theory.rs" 724 14 724 66
  
  let%span span156 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span173 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span174 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span175 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span176 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span177 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span178 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span179 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span180 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span181 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span182 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span183 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span184 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span185 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span186 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span187 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span188 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  let%span span189 = "/Users/xavier/Code/cdsat/src/trail.rs" 553 15 553 31
  
  let%span span190 = "/Users/xavier/Code/cdsat/src/trail.rs" 554 4 554 69
  
  let%span span191 = "/Users/xavier/Code/cdsat/src/trail.rs" 555 15 555 64
  
  let%span span192 = "/Users/xavier/Code/cdsat/src/trail.rs" 556 15 556 50
  
  let%span span193 = "/Users/xavier/Code/cdsat/src/trail.rs" 557 4 557 72
  
  let%span span194 = "/Users/xavier/Code/cdsat/src/trail.rs" 558 4 558 99
  
  let%span span195 = "/Users/xavier/Code/cdsat/src/trail.rs" 559 4 559 90
  
  let%span span196 = "/Users/xavier/Code/cdsat/src/trail.rs" 560 14 560 44
  
  let%span span197 = "/Users/xavier/Code/cdsat/src/trail.rs" 552 4 552 12
  
  let%span span198 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 46 8 46 12
  
  let%span span199 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 51 8 51 85
  
  let%span span200 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/option.rs" 29 0 140 1
  
  let%span span201 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/option.rs" 929 24 929 28
  
  let%span span202 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/option.rs" 929 4 929 34
  
  let%span span203 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 108 8 108 31
  
  let%span span204 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2078 20 2078 24
  
  let%span span205 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 86 26 91 17
  
  let%span span206 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2078 4 2078 38
  
  let%span span207 = "/Users/xavier/Code/cdsat/src/theory.rs" 705 15 705 27
  
  let%span span208 = "/Users/xavier/Code/cdsat/src/theory.rs" 706 14 706 42
  
  let%span span209 = "/Users/xavier/Code/cdsat/src/theory.rs" 774 15 774 31
  
  let%span span210 = "/Users/xavier/Code/cdsat/src/theory.rs" 775 15 775 33
  
  let%span span211 = "/Users/xavier/Code/cdsat/src/theory.rs" 776 15 776 23
  
  let%span span212 = "/Users/xavier/Code/cdsat/src/theory.rs" 777 14 777 65
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'12 (self : TrailIndex'0.t_trailindex) =
    [%#span18] true
  
  predicate inv'9 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'9 : forall x : TrailIndex'0.t_trailindex . inv'9 x = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span19] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span20] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span22] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span21] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span25] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span23] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span24] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span28] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span26] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span27] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span32] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span29] cmp_log'0 x y
  = o)  -> ([%#span30] cmp_log'0 y z = o)  -> ([%#span31] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span34] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span33] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span37] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span36] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span38] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span40] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span39] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span41] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span43] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span42] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span44] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span46] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span45] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use seq.Seq
  
  predicate invariant'11 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span18] true
  
  predicate inv'8 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'8 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'8 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span47] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'7 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'3 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'3_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span48] inv'7 self)
   -> ([%#span50] inv'8 (shallow_model'3 self))
  && ([%#span49] Seq.length (shallow_model'3 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'10 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span51] inv'8 (shallow_model'3 self)
  
  axiom inv'7 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'7 x = true
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span52] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span53] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'6 (_x : Model'0.t_model)
  
  axiom inv'6 : forall x : Model'0.t_model . inv'6 x
  = (invariant'3 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'9 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span18] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  predicate invariant'8 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'4 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'4 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'4 x = true
  
  use seq.Seq
  
  predicate inv'3 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span48] inv'3 self)
   -> ([%#span50] inv'4 (shallow_model'0 self))
  && ([%#span49] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'7 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span51] inv'4 (shallow_model'0 self)
  
  axiom inv'3 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'3 x
  = true
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span54] inv'9 x)
   -> ([%#span55] inv'9 y)  -> ([%#span56] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span57] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span58] inv'9 x)  -> ([%#span59] inv'9 y)  -> ([%#span60] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span61] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span62] inv'9 x)  -> ([%#span63] inv'9 y)  -> ([%#span64] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span65] cmp_log'0 x y
  = o)
   -> ([%#span66] cmp_log'0 y z = o)
   -> ([%#span67] inv'9 x)  -> ([%#span68] inv'9 y)  -> ([%#span69] inv'9 z)  -> ([%#span70] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span71] inv'9 x)
   -> ([%#span72] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span73] inv'9 x)
   -> ([%#span74] inv'9 y)  -> ([%#span75] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span76] inv'9 x)
   -> ([%#span77] inv'9 y)  -> ([%#span78] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span79] inv'9 x)
   -> ([%#span80] inv'9 y)  -> ([%#span81] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span82] inv'9 x)
   -> ([%#span83] inv'9 y)  -> ([%#span84] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span48] inv'2 self)
   -> ([%#span50] inv'5 (shallow_model'1 self))
  && ([%#span49] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'6 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span51] inv'5 (shallow_model'1 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  use Core_Option_Option_Type as Option'0
  
  predicate invariant'5 (self : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span18] true
  
  predicate inv'1 (_x : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'1 : forall x : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'1 x
  = true
  
  use prelude.prelude.Borrow
  
  predicate invariant'4 (self : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)))
    
   =
    [%#span18] true
  
  predicate inv'0 (_x : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)))
    
  
  axiom inv'0 : forall x : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) . inv'0 x
  = true
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span85] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  use prelude.prelude.Snapshot
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use prelude.prelude.Intrinsic
  
  predicate resolve'1 (self : borrowed (Trail'0.t_trail)) =
    [%#span86]  ^ self =  * self
  
  use prelude.prelude.Snapshot
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span87] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use prelude.prelude.Int
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span88] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span89] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span90] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'2 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span91] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span94] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span93] level'0 self <= len'0 self)
  && ([%#span92] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span95] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span96] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span100] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span99] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span98] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span97] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  use prelude.prelude.Real
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span103] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span101] inv'6 self)
   -> ([%#span102] invariant'3 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span104] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  use set.Fset
  
  predicate contains'3 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span105] Fset.mem e self
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span106] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span107] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'6 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span109] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'1_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span108] invariant_assign'0 self
   -> contains'1 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span110] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span111] sound'0 self)
   -> ([%#span112] contains'1 self kv)
   -> ([%#span113] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span114] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  use set.Fset
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span115] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span116] invariant'3 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span117] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span118] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span121] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span119] is_bool'0 self)
   -> ([%#span120] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span122] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'1 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'1 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span123] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'3 j a  -> contains'1 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span124] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span127] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span125] invariant_nonneg'0 self)
   -> ([%#span126] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span128] invariant_nonneg'0 self)
   -> ([%#span133] set_level'0 self s <= level'0 self)
  && ([%#span132] set_level'0 self s >= 0)
  && ([%#span131] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span130] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'3 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span129] forall i : (Term'0.t_term, Value'0.t_value) . contains'3 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span135] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span136] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span137] invariant'1 self)
   -> ([%#span138] is_justified'0 self d)
   -> ([%#span139] sound'0 self)
   -> ([%#span142] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span141] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span140] forall m : Model'0.t_model . inv'6 m  -> entails'0 m (justification'0 self d) d)
  
  function count_bounds'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 743 4 743 35] (self : Trail'1.t_trail) : ()
  
  axiom count_bounds'0_spec : forall self : Trail'1.t_trail . ([%#span143] invariant'1 self)
   -> ([%#span144] forall a : (Term'0.t_term, Value'0.t_value) . contains'1 self a
   -> level_of'0 self a <= level'0 self)
  
  function restrict'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 561 4 561 45] (self : Trail'1.t_trail) (level : int) : Trail'1.t_trail
    
  
  function restrict_find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 582 4 582 60] (self : Trail'1.t_trail) (level : int) (d : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom restrict_find'0_spec : forall self : Trail'1.t_trail, level : int, d : (Term'0.t_term, Value'0.t_value) . ([%#span145] invariant'1 self)
   -> ([%#span146] level >= 0)
   -> ([%#span147] contains'1 (restrict'0 self level) d)
   -> ([%#span148] find'0 (restrict'0 self level) d = find'0 self d)
  
  function restrict_kind_unchanged'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 725 4 725 70] (self : Trail'1.t_trail) (level : int) (d : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom restrict_kind_unchanged'0_spec : forall self : Trail'1.t_trail, level : int, d : (Term'0.t_term, Value'0.t_value) . ([%#span149] invariant'1 self)
   -> ([%#span150] level >= 0)
   -> ([%#span151] contains'1 (restrict'0 self level) d)
   -> ([%#span155] is_input'0 self d = is_input'0 (restrict'0 self level) d)
  && ([%#span154] is_decision'0 self d = is_decision'0 (restrict'0 self level) d)
  && ([%#span153] justification'0 self d = justification'0 (restrict'0 self level) d)
  && ([%#span152] is_justified'0 self d = is_justified'0 (restrict'0 self level) d)
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span156] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  function remove'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'1_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'1 s e
  = ([%#span166] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'1 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'1 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'1_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span157] inv'8 s)
   -> ([%#span158] inv'9 e)
   -> ([%#span164] inv'8 (remove'1 s e))
  && ([%#span163] Seq.length (remove'1 s e) <= Seq.length s)
  && ([%#span162] contains'2 s e  -> Seq.length (remove'1 s e) < Seq.length s)
  && ([%#span161] forall t : TrailIndex'0.t_trailindex . inv'9 t  -> contains'2 (remove'1 s e) t  -> t <> e)
  && ([%#span160] forall t : TrailIndex'0.t_trailindex . inv'9 t  -> contains'2 (remove'1 s e) t  -> contains'2 s t)
  && ([%#span159] forall t : TrailIndex'0.t_trailindex . inv'9 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'1 s e) t)
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span167] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'5 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span168] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'4 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span170] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span171] (shallow_model'4 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'5 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span172] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span173] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span180] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'1 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span174] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span178] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'3 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span177] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
  && ([%#span176] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span175] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span181] (forall i : TrailIndex'0.t_trailindex . contains'2 (shallow_model'3 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'3 j)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span182] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span182] Seq.get (shallow_model'0 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span183] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'2 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span184] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span185] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span186] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span187] Seq.get (shallow_model'0 self) ix
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span188] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'1 (index_logic'3 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  function reasons_dont_change'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 561 4 561 45] (self : Trail'0.t_trail) (other : Trail'0.t_trail) : ()
    
  
  axiom reasons_dont_change'0_spec : forall self : Trail'0.t_trail, other : Trail'0.t_trail . ([%#span189] invariant'0 self)
   -> ([%#span190] abstract_relation'0 other /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other)))
   -> ([%#span191] restrict'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level other))
  = Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other))
   -> ([%#span192] level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost other))
  = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level other))
   -> ([%#span193] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix  -> contains'0 self ix)
   -> ([%#span194] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix
   -> index_logic'0 self ix = index_logic'0 other ix)
   -> ([%#span195] forall ix : TrailIndex'0.t_trailindex . contains'0 other ix  -> reason'0 self ix = reason'0 other ix)
   -> ([%#span196] justified_is_justified'0 other)
  
  use prelude.prelude.Snapshot
  
  predicate resolve'2 (self : Assignment'0.t_assignment) =
    [%#span198] true
  
  function index_logic'4 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : int) : Assignment'0.t_assignment
    
   =
    [%#span187] Seq.get (shallow_model'1 self) ix
  
  predicate resolve'0 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span199] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'1 self)  -> resolve'2 (index_logic'4 self i)
  
  let rec unwrap'0 (self:Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (return'  (ret:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))= {[@expl:precondition] [%#span201] inv'1 self}
    {[@expl:precondition] [%#span200] self <> Option'0.C_None}
    any
    [ return' (result:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))-> {[%#span202] inv'2 result}
      {[%#span200] Option'0.C_Some result = self}
      (! return' {result}) ]
    
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  function shallow_model'2 (self : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span203] shallow_model'0 ( * self)
  
  let rec pop'0 (self:borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) (return'  (ret:Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))))= {[@expl:precondition] [%#span204] inv'0 self}
    any
    [ return' (result:Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))-> {[%#span206] inv'1 result}
      {[%#span205] match result with
        | Option'0.C_Some t -> shallow_model'0 ( ^ self)
        = SeqExt.subsequence (shallow_model'2 self) 0 (Seq.length (shallow_model'2 self) - 1)
        /\ shallow_model'2 self = Seq.snoc (shallow_model'0 ( ^ self)) t
        | Option'0.C_None ->  * self =  ^ self /\ Seq.length (shallow_model'2 self) = 0
        end}
      (! return' {result}) ]
    
  
  use prelude.prelude.Snapshot
  
  function restrict_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 707 4 707 43] (self : Trail'1.t_trail) (level : int) : ()
    
  
  axiom restrict_sound'0_spec : forall self : Trail'1.t_trail, level : int . ([%#span207] sound'0 self)
   -> ([%#span208] sound'0 (restrict'0 self level))
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  function restrict_idempotent'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 778 4 778 54] (self : Trail'1.t_trail) (l1 : int) (l2 : int) : ()
    
  
  axiom restrict_idempotent'0_spec : forall self : Trail'1.t_trail, l1 : int, l2 : int . ([%#span209] invariant'1 self)
   -> ([%#span210] l1 >= 0 /\ l2 >= 0)
   -> ([%#span211] l1 <= l2)  -> ([%#span212] restrict'0 self l1 = restrict'0 (restrict'0 self l2) l1)
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  let rec restrict (self:borrowed (Trail'0.t_trail)) (level:usize) (return'  (ret:()))= {[%#strail14] UIntSize.to_int level
    <= UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level ( * self))}
    {[%#strail13] invariant'0 ( * self)}
    (! bb0
    [ bb0 = s0 [ s0 =  [ &old' <- [%#strail0] Snapshot.new self ] s1 | s1 = bb1 ] 
    | bb1 = s0 [ s0 =  [ &old_2_0 <- Snapshot.new self ] s1 | s1 = bb2 ] 
    | bb2 = bb2
      [ bb2 = {[@expl:loop invariant]  ^ Snapshot.inner old_2_0 =  ^ self}
        {[@expl:loop invariant] [%#strail4] invariant'0 ( * self)}
        {[@expl:loop invariant] [%#strail3] forall ix : TrailIndex'0.t_trailindex . contains'0 ( * self) ix
         -> reason'0 ( * self) ix = reason'0 ( * Snapshot.inner old') ix}
        {[@expl:loop invariant] [%#strail3] forall ix : TrailIndex'0.t_trailindex . contains'0 ( * self) ix
         -> index_logic'0 ( * Snapshot.inner old') ix = index_logic'0 ( * self) ix}
        {[@expl:loop invariant] [%#strail2] Cdsat_Trail_Trail_Type.trail_level ( * self) >= level}
        {[@expl:loop invariant] [%#strail1] Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))
        = restrict'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * Snapshot.inner old'))) (UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level ( * self)))}
        (! s0) [ s0 = bb3 ] 
        [ bb3 = s0
          [ s0 = Trail'0.t_trail { * self}
              (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
                UIntSize.lt {level} {rlevel'0} (fun (_ret':bool) ->  [ &_17 <- _ret' ] s1))
          | s1 = any [ br0 -> {_17 = false} (! bb13) | br1 -> {_17} (! bb4) ]  ]
          
        | bb4 = s0 [ s0 =  [ &_20 <- [%#strail5] Snapshot.new () ] s1 | s1 = bb5 ] 
        | bb5 = s0 [ s0 =  [ &_22 <- [%#strail6] Snapshot.new () ] s1 | s1 = bb6 ] 
        | bb6 = s0 [ s0 =  [ &_24 <- [%#strail7] Snapshot.new () ] s1 | s1 = bb7 ] 
        | bb7 = s0
          [ s0 = Trail'0.t_trail { * self}
              (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
                Borrow.borrow_mut
                  <Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)>
                  {rassignments'0}
                  (fun (_ret':borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) ->
                     [ &_28 <- _ret' ] 
                    Trail'0.t_trail { * self}
                      (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
                        
                        [ &self <- { self with current = Trail'0.C_Trail ( ^ _28) l_level'0 l_ghost'0 l_num_assign'0 ; } ]
                        
                        s1)))
          | s1 = pop'0 {_28}
              (fun (_ret':Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) ->
                 [ &_27 <- _ret' ] 
                s2)
          | s2 = bb8 ]
          
        | bb8 = s0
          [ s0 = unwrap'0 {_27}
              (fun (_ret':Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) ->  [ &_26 <- _ret' ] s1)
          | s1 = bb9 ]
          
        | bb9 = s0 [ s0 = -{resolve'0 _26}- s1 | s1 = bb10 ] 
        | bb10 = s0
          [ s0 = {[@expl:assertion] [%#strail8] forall ix : TrailIndex'0.t_trailindex . contains'0 ( * self) ix
             -> contains'0 ( * Snapshot.inner old') ix}
            s1
          | s1 = Trail'0.t_trail { * self}
              (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
                UIntSize.sub {rlevel'0} {[%#strail9] (1 : usize)}
                  (fun (_ret':usize) ->
                    Trail'0.t_trail { * self}
                      (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
                        
                        [ &self <- { self with current = Trail'0.C_Trail l_assignments'0 _ret' l_ghost'0 l_num_assign'0 ; } ]
                        
                        s2)))
          | s2 = 
            [ &_31 <- [%#strail10] Snapshot.new (restrict'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level ( * self)))) ]
            
            s3
          | s3 = bb11 ]
          
        | bb11 = s0
          [ s0 = Trail'0.t_trail { * self}
              (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
                 [ &self <- { self with current = Trail'0.C_Trail l_assignments'0 l_level'0 _31 l_num_assign'0 ; } ] 
                (any [ any_ (_any:Snapshot.snap_ty (Trail'1.t_trail))-> (!  [ &_31 <- _any ] s1) ] ))
          | s1 = {[@expl:assertion] [%#strail11] abstract_relation'0 ( * self)} s2
          | s2 =  [ &_35 <- [%#strail12] Snapshot.new (reasons_dont_change'0 ( * Snapshot.inner old') ( * self)) ] s3
          | s3 = bb12 ]
          
        | bb12 = bb2 ]
         ]
      
    | bb13 = s0 [ s0 = -{resolve'1 self}- s1 | s1 = return' {_0} ]  ]
    )
    [ & _0 : () = any_l ()
    | & self : borrowed (Trail'0.t_trail) = self
    | & level : usize = level
    | & old' : Snapshot.snap_ty (borrowed (Trail'0.t_trail)) = any_l ()
    | & _17 : bool = any_l ()
    | & _20 : Snapshot.snap_ty () = any_l ()
    | & _22 : Snapshot.snap_ty () = any_l ()
    | & _24 : Snapshot.snap_ty () = any_l ()
    | & _26 : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l ()
    | & _27 : Option'0.t_option (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) = any_l ()
    | & _28 : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) = any_l ()
    | & _31 : Snapshot.snap_ty (Trail'1.t_trail) = any_l ()
    | & _35 : Snapshot.snap_ty () = any_l ()
    | & old_2_0 : Snapshot.snap_ty (borrowed (Trail'0.t_trail)) = any_l () ]
    
    [ return' (result:())-> {[@expl:postcondition] [%#strail17] forall ix : TrailIndex'0.t_trailindex . contains'0 ( ^ self) ix
       -> index_logic'0 ( * self) ix = index_logic'0 ( ^ self) ix}
      {[@expl:postcondition] [%#strail16] forall ix : TrailIndex'0.t_trailindex . level_log'0 ix
      <= UIntSize.to_int level  -> contains'0 ( * self) ix  -> contains'0 ( ^ self) ix}
      {[@expl:postcondition] [%#strail15] Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( ^ self))
      = restrict'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (UIntSize.to_int level)}
      {[@expl:postcondition] [%#strail13] invariant'0 ( ^ self)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_AddJustified
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 493 8 493 97
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 498 31 498 53
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 500 12 500 79
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 502 22 502 59
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 504 27 504 126
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 506 29 506 47
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 509 12 509 99
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 512 27 512 83
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 514 22 514 55
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 519 8 519 75
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 520 8 520 70
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 522 22 522 28
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 527 28 527 75
  
  let%span strail13 = "/Users/xavier/Code/cdsat/src/trail.rs" 528 27 528 67
  
  let%span strail14 = "/Users/xavier/Code/cdsat/src/trail.rs" 529 8 529 92
  
  let%span strail15 = "/Users/xavier/Code/cdsat/src/trail.rs" 530 8 530 102
  
  let%span strail16 = "/Users/xavier/Code/cdsat/src/trail.rs" 532 8 532 88
  
  let%span strail17 = "/Users/xavier/Code/cdsat/src/trail.rs" 533 8 533 49
  
  let%span strail18 = "/Users/xavier/Code/cdsat/src/trail.rs" 534 22 534 51
  
  let%span strail19 = "/Users/xavier/Code/cdsat/src/trail.rs" 535 22 535 46
  
  let%span strail20 = "/Users/xavier/Code/cdsat/src/trail.rs" 484 4 484 40
  
  let%span strail21 = "/Users/xavier/Code/cdsat/src/trail.rs" 485 4 485 36
  
  let%span strail22 = "/Users/xavier/Code/cdsat/src/trail.rs" 486 15 486 31
  
  let%span strail23 = "/Users/xavier/Code/cdsat/src/trail.rs" 487 4 487 73
  
  let%span strail24 = "/Users/xavier/Code/cdsat/src/trail.rs" 488 4 488 51
  
  let%span strail25 = "/Users/xavier/Code/cdsat/src/trail.rs" 489 4 489 128
  
  let%span strail26 = "/Users/xavier/Code/cdsat/src/trail.rs" 490 4 490 48
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span28 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span46 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span47 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span50 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span51 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span53 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span54 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span56 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span57 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span59 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span60 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span61 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span62 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span77 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span81 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span82 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span83 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span84 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span85 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span86 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span87 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span88 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span89 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span90 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span91 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span92 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span93 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 678 8 678 71
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span122 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span124 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/theory.rs" 741 15 741 31
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/theory.rs" 742 4 742 83
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 685 8 685 82
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 696 4 696 55
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 698 8 698 108
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 398 8 400 79
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span142 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span143 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span173 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span174 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span175 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span176 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span177 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span178 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span179 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span180 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span181 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span182 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span183 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span184 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span185 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span186 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span187 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span188 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span189 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span190 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  let%span span191 = "/Users/xavier/Code/cdsat/src/theory.rs" 638 8 644 9
  
  let%span span192 = "/Users/xavier/Code/cdsat/src/theory.rs" 649 15 649 26
  
  let%span span193 = "/Users/xavier/Code/cdsat/src/theory.rs" 650 15 650 32
  
  let%span span194 = "/Users/xavier/Code/cdsat/src/theory.rs" 651 15 651 29
  
  let%span span195 = "/Users/xavier/Code/cdsat/src/theory.rs" 652 15 652 36
  
  let%span span196 = "/Users/xavier/Code/cdsat/src/theory.rs" 653 14 653 59
  
  let%span span197 = "/Users/xavier/Code/cdsat/src/trail.rs" 540 4 540 136
  
  let%span span198 = "/Users/xavier/Code/cdsat/src/trail.rs" 541 14 541 85
  
  let%span span199 = "/Users/xavier/Code/cdsat/src/trail.rs" 543 8 543 10
  
  let%span span200 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  let%span span201 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 108 8 108 31
  
  let%span span202 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 1993 21 1993 25
  
  let%span span203 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 1993 27 1993 32
  
  let%span span204 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 82 26 82 51
  
  let%span span205 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 129 8 129 96
  
  let%span span206 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 122 20 122 37
  
  let%span span207 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 115 20 115 37
  
  let%span span208 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 146 27 146 46
  
  let%span span209 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2918 22 2918 26
  
  let%span span210 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2918 28 2918 33
  
  let%span span211 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 147 26 147 54
  
  let%span span212 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 148 26 148 57
  
  let%span span213 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 149 26 149 62
  
  let%span span214 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 150 26 150 55
  
  let%span span215 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2918 4 2918 58
  
  let%span span216 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span217 = "/Users/xavier/Code/creusot/creusot-contracts/src/snapshot.rs" 28 20 28 48
  
  let%span span218 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2255 16 2255 20
  
  let%span span219 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 78 26 78 48
  
  let%span span220 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 156 27 156 46
  
  let%span span221 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 14 2906 18
  
  let%span span222 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 20 2906 25
  
  let%span span223 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 157 26 157 54
  
  let%span span224 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2906 4 2906 46
  
  let%span span225 = "/Users/xavier/Code/cdsat/src/theory.rs" 460 8 460 90
  
  let%span span226 = "/Users/xavier/Code/cdsat/src/theory.rs" 826 4 826 16
  
  let%span span227 = "/Users/xavier/Code/cdsat/src/theory.rs" 890 15 890 35
  
  let%span span228 = "/Users/xavier/Code/cdsat/src/theory.rs" 891 15 891 27
  
  let%span span229 = "/Users/xavier/Code/cdsat/src/theory.rs" 892 15 892 26
  
  let%span span230 = "/Users/xavier/Code/cdsat/src/theory.rs" 893 4 893 40
  
  let%span span231 = "/Users/xavier/Code/cdsat/src/theory.rs" 894 4 894 71
  
  let%span span232 = "/Users/xavier/Code/cdsat/src/theory.rs" 895 4 895 58
  
  let%span span233 = "/Users/xavier/Code/cdsat/src/theory.rs" 896 4 896 36
  
  let%span span234 = "/Users/xavier/Code/cdsat/src/theory.rs" 897 14 897 28
  
  let%span span235 = "/Users/xavier/Code/cdsat/src/theory.rs" 898 4 898 38
  
  let%span span236 = "/Users/xavier/Code/cdsat/src/theory.rs" 888 4 888 12
  
  let%span span237 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 21 19 25
  
  let%span span238 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 17 14 17 41
  
  let%span span239 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 18 14 18 42
  
  let%span span240 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 4 19 50
  
  let%span span241 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 43 8 43 31
  
  let%span span242 = "/Users/xavier/Code/cdsat/src/trail.rs" 613 15 613 31
  
  let%span span243 = "/Users/xavier/Code/cdsat/src/trail.rs" 614 4 614 97
  
  let%span span244 = "/Users/xavier/Code/cdsat/src/trail.rs" 615 14 615 88
  
  let%span span245 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2816 14 2816 18
  
  let%span span246 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 163 26 163 42
  
  let%span span247 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2816 4 2816 27
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use prelude.prelude.Slice
  
  predicate invariant'19 (self : slice (TrailIndex'0.t_trailindex)) =
    [%#span27] true
  
  predicate inv'16 (_x : slice (TrailIndex'0.t_trailindex))
  
  axiom inv'16 : forall x : slice (TrailIndex'0.t_trailindex) . inv'16 x = true
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  predicate invariant'18 (self : TrailIndex'0.t_trailindex) =
    [%#span27] true
  
  predicate inv'15 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'15 : forall x : TrailIndex'0.t_trailindex . inv'15 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'17 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span27] true
  
  predicate inv'14 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'14 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'14 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span28] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'13 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'7 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'7_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span29] inv'13 self)
   -> ([%#span31] inv'14 (shallow_model'7 self))
  && ([%#span30] Seq.length (shallow_model'7 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'16 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span32] inv'14 (shallow_model'7 self)
  
  axiom inv'13 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'13 x = true
  
  predicate invariant'15 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span27] true
  
  predicate inv'12 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'12 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'12 x = true
  
  use seq.Seq
  
  predicate inv'11 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'6 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'6_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span29] inv'11 self)
   -> ([%#span31] inv'12 (shallow_model'6 self))
  && ([%#span30] Seq.length (shallow_model'6 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'14 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span32] inv'12 (shallow_model'6 self)
  
  axiom inv'11 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'11 x
  = true
  
  predicate invariant'13 (self : Assignment'0.t_assignment) =
    [%#span27] true
  
  predicate inv'10 (_x : Assignment'0.t_assignment)
  
  axiom inv'10 : forall x : Assignment'0.t_assignment . inv'10 x = true
  
  use prelude.prelude.Borrow
  
  predicate invariant'12 (self : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span27] true
  
  predicate inv'9 (_x : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'9 : forall x : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'9 x = true
  
  predicate invariant'11 (self : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)))
    
   =
    [%#span27] true
  
  predicate inv'8 (_x : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)))
    
  
  axiom inv'8 : forall x : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) . inv'8 x
  = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span33] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span34] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span36] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span35] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span39] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span37] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span38] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span42] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span40] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span41] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span46] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span43] cmp_log'0 x y
  = o)  -> ([%#span44] cmp_log'0 y z = o)  -> ([%#span45] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span48] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span47] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span49] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span51] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span50] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span52] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span54] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span53] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span55] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span57] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span56] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span58] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span60] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span59] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  predicate invariant'10 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span27] true
  
  predicate inv'7 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  axiom inv'7 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'7 x = true
  
  predicate invariant'9 (self : usize) =
    [%#span27] true
  
  predicate inv'6 (_x : usize)
  
  axiom inv'6 : forall x : usize . inv'6 x = true
  
  predicate invariant'8 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span27] true
  
  predicate inv'5 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  axiom inv'5 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'5 x
  = true
  
  predicate invariant'6 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span27] true
  
  predicate inv'4 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'4 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'4 x = true
  
  use seq.Seq
  
  predicate inv'3 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'2 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'2_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span29] inv'3 self)
   -> ([%#span31] inv'4 (shallow_model'2 self))
  && ([%#span30] Seq.length (shallow_model'2 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span32] inv'4 (shallow_model'2 self)
  
  axiom inv'3 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'3 x = true
  
  predicate invariant'4 (self : slice (TrailIndex'0.t_trailindex)) =
    [%#span27] true
  
  predicate inv'2 (_x : slice (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : slice (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  predicate invariant'3 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span27] true
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'1.t_value) : Sort'0.t_sort =
    [%#span61] match self with
      | Value'1.C_Bool _ -> Sort'0.C_Boolean
      | Value'1.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span62] forall v : Value'1.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'0 (_x : Model'0.t_model)
  
  axiom inv'0 : forall x : Model'0.t_model . inv'0 x
  = (invariant'2 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span63] inv'15 x)
   -> ([%#span64] inv'15 y)  -> ([%#span65] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span66] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span67] inv'15 x)  -> ([%#span68] inv'15 y)  -> ([%#span69] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span70] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span71] inv'15 x)  -> ([%#span72] inv'15 y)  -> ([%#span73] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span74] cmp_log'0 x y
  = o)
   -> ([%#span75] cmp_log'0 y z = o)
   -> ([%#span76] inv'15 x)  -> ([%#span77] inv'15 y)  -> ([%#span78] inv'15 z)  -> ([%#span79] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span80] inv'15 x)
   -> ([%#span81] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span82] inv'15 x)
   -> ([%#span83] inv'15 y)  -> ([%#span84] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span85] inv'15 x)
   -> ([%#span86] inv'15 y)  -> ([%#span87] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span88] inv'15 x)
   -> ([%#span89] inv'15 y)  -> ([%#span90] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span91] inv'15 x)
   -> ([%#span92] inv'15 y)  -> ([%#span93] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use prelude.prelude.Real
  
  function from_int'0 (_1 : int) : Real.real
  
  use Cdsat_Theory_Term_Type as Term'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'1.t_term) : Sort'0.t_sort =
    [%#span94] match self with
      | Term'1.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'1.C_Value v -> sort'1 v
      | Term'1.C_Plus _ _ -> Sort'0.C_Rational
      | Term'1.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'1.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'1.C_Neg _ -> Sort'0.C_Boolean
      | Term'1.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'1.t_term) : Value'1.t_value
    
   =
    [%#span97] match t with
      | Term'1.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'1.C_Value v -> v
      | Term'1.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Rat r1, Value'1.C_Rat r2) -> Value'1.C_Rat r1
        | _ -> Value'1.C_Rat (from_int'0 (- 1))
        end
      | Term'1.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Bool b1, Value'1.C_Bool b2) -> Value'1.C_Bool (b1 /\ b2)
        | _ -> Value'1.C_Bool false
        end
      | Term'1.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Bool b1, Value'1.C_Bool b2) -> Value'1.C_Bool (b1 \/ b2)
        | _ -> Value'1.C_Bool false
        end
      | Term'1.C_Eq l r -> Value'1.C_Bool (interp'0 self l = interp'0 self r)
      | Term'1.C_Neg t -> match interp'0 self t with
        | Value'1.C_Bool b -> Value'1.C_Bool (not b)
        | _ -> Value'1.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'1.t_term . ([%#span95] inv'0 self)
   -> ([%#span96] invariant'2 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span98] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'7 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span99] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span100] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'7 a
      end
  
  function len'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'1_spec : forall self : Trail'1.t_trail . [%#span101] len'1 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span104] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span103] level'0 self <= len'1 self)
  && ([%#span102] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span105] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span106] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span110] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span109] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span108] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span107] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  predicate contains'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span112] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'3_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . [%#span111] invariant_assign'0 self
   -> contains'3 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate satisfied_by'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 677 4 677 47] (self : Trail'1.t_trail) (m : Model'0.t_model)
    
   =
    [%#span113] forall a : (Term'1.t_term, Value'1.t_value) . contains'3 self a  -> satisfies'0 m a
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : int
    
   =
    [%#span116] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span114] invariant_nonneg'0 self)
   -> ([%#span115] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'1.t_value) =
    [%#span117] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'1.t_value) : Value'1.t_value =
    [%#span120] match self with
      | Value'1.C_Bool b -> Value'1.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'1.t_value . ([%#span118] is_bool'0 self)
   -> ([%#span119] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span121] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'3 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'3 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (e : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span122] Fset.mem e self
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span123] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'1.t_term, Value'1.t_value) . contains'2 j a  -> contains'3 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (a : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span124] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'1.t_term, Value'1.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'1.t_term, Value'1.t_value) . ([%#span125] invariant_nonneg'0 self)
   -> ([%#span130] set_level'0 self s <= level'0 self)
  && ([%#span129] set_level'0 self s >= 0)
  && ([%#span128] s = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value))  -> set_level'0 self s = 0)
  && ([%#span127] s <> (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value))
   -> (exists i : (Term'1.t_term, Value'1.t_value) . contains'2 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span126] forall i : (Term'1.t_term, Value'1.t_value) . contains'2 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span132] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span133] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function count_bounds'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 743 4 743 35] (self : Trail'1.t_trail) : ()
  
  axiom count_bounds'0_spec : forall self : Trail'1.t_trail . ([%#span134] invariant'1 self)
   -> ([%#span135] forall a : (Term'1.t_term, Value'1.t_value) . contains'3 self a
   -> level_of'0 self a <= level'0 self)
  
  function restrict'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 561 4 561 45] (self : Trail'1.t_trail) (level : int) : Trail'1.t_trail
    
  
  predicate unsat'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 684 4 684 30] (self : Trail'1.t_trail) =
    [%#span136] forall m : Model'0.t_model . inv'0 m  -> satisfied_by'0 (restrict'0 self 0) m  -> false
  
  predicate impls'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 697 4 697 41] (self : Trail'1.t_trail) (rhs : Trail'1.t_trail)
    
   =
    [%#span138] forall m : Model'0.t_model . inv'0 m
     -> satisfied_by'0 (restrict'0 self 0) m  -> satisfied_by'0 (restrict'0 rhs 0) m
  
  axiom impls'0_spec : forall self : Trail'1.t_trail, rhs : Trail'1.t_trail . [%#span137] impls'0 self rhs
   -> unsat'0 rhs  -> unsat'0 self
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span139] forall a : (Term'1.t_term, Value'1.t_value) . contains'2 v a  -> satisfies'0 self a
  
  predicate acceptable'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 397 4 397 56] (self : Trail'1.t_trail) (t : Term'1.t_term) (val' : Value'1.t_value)
    
   =
    [%#span140] not contains'3 self (t, val')
    /\ sort'0 t = sort'1 val' /\ (is_bool'0 val'  -> not contains'3 self (t, negate'0 val'))
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'1.t_term) : bool =
    [%#span141] match self with
      | Term'1.C_Variable v -> true
      | Term'1.C_Value v -> true
      | Term'1.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'1.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'1.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'1.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'1.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (e : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span142] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span143] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span153] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span144] inv'4 s)
   -> ([%#span145] inv'15 e)
   -> ([%#span151] inv'4 (remove'0 s e))
  && ([%#span150] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span149] contains'1 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span148] forall t : TrailIndex'0.t_trailindex . inv'15 t  -> contains'1 (remove'0 s e) t  -> t <> e)
  && ([%#span147] forall t : TrailIndex'0.t_trailindex . inv'15 t  -> contains'1 (remove'0 s e) t  -> contains'1 s t)
  && ([%#span146] forall t : TrailIndex'0.t_trailindex . inv'15 t
   -> contains'1 s t  -> e <> t  -> contains'1 (remove'0 s e) t)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span154] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span155] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'0.t_term) : Term'1.t_term
  
  function shallow_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'0.t_term) : Term'1.t_term
   =
    [%#span157] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span158] (shallow_model'0 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'1 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span159] term_value'0 (Seq.get (shallow_model'7 (Seq.get (shallow_model'6 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span160] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'6 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'7 (Seq.get (shallow_model'6 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span167] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span161] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span165] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span164] forall a : (Term'1.t_term, Value'1.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'1 just ix /\ a = index_logic'0 self ix))
  && ([%#span163] forall a : (Term'1.t_term, Value'1.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span162] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span168] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'0 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate sound'1 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span169] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'1 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'1.t_term, Value'1.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'1.t_term, Value'1.t_value) . ([%#span170] sound'1 self)
   -> ([%#span171] contains'3 self kv)
   -> ([%#span172] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span173] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span174] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'1.t_term, Value'1.t_value)) (c : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span175] invariant'2 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span176] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span177] invariant'1 self)
   -> ([%#span178] is_justified'0 self d)
   -> ([%#span179] sound'1 self)
   -> ([%#span182] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)))
  && ([%#span181] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)))
  && ([%#span180] forall m : Model'0.t_model . inv'0 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span183] (forall i : TrailIndex'0.t_trailindex . contains'1 (shallow_model'2 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'2 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span184] Seq.get (shallow_model'7 self) (UIntSize.to_int ix)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span184] Seq.get (shallow_model'6 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span185] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'3 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span186] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'4 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span187] Seq.get (shallow_model'6 self) ix
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span188] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span189] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'1.t_term, Value'1.t_value) . contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span190] abstract_relation'0 self
    /\ sound'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'6 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'6 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'7 (index_logic'4 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  use prelude.prelude.Snapshot
  
  use Cdsat_Theory_Normal_Type as Normal'0
  
  use prelude.prelude.Intrinsic
  
  predicate ext'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 637 4 637 37] (self : Trail'1.t_trail) (o : Trail'1.t_trail)
    
   =
    [%#span191] if level'0 self <= level'0 o then
      forall kv : (Term'1.t_term, Value'1.t_value) . contains'3 self kv  -> find'0 self kv = find'0 o kv
    else
      forall kv : (Term'1.t_term, Value'1.t_value) . contains'3 o kv  -> find'0 o kv = find'0 self kv
    
  
  use prelude.prelude.Snapshot
  
  function just_stable'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 654 4 654 56] (self : Trail'1.t_trail) (o : Trail'1.t_trail) (kv : (Term'1.t_term, Value'1.t_value)) : ()
    
  
  axiom just_stable'0_spec : forall self : Trail'1.t_trail, o : Trail'1.t_trail, kv : (Term'1.t_term, Value'1.t_value) . ([%#span192] ext'0 self o)
   -> ([%#span193] contains'3 self kv)
   -> ([%#span194] contains'3 o kv)
   -> ([%#span195] is_justified'0 self kv)  -> ([%#span196] justification'0 self kv = justification'0 o kv)
  
  use prelude.prelude.Snapshot
  
  function abs_just_equiv'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 542 4 542 67] (self : Trail'0.t_trail) (other : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : ()
    
   =
    [%#span199] ()
  
  axiom abs_just_equiv'0_spec : forall self : Trail'0.t_trail, other : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span197] forall j : TrailIndex'0.t_trailindex . contains'1 just j
   -> contains'0 self j /\ contains'0 other j /\ index_logic'0 self j = index_logic'0 other j)
   -> ([%#span198] abstract_justification'0 self just = abstract_justification'0 other just)
  
  use prelude.prelude.Snapshot
  
  predicate resolve'1 (self : borrowed (Trail'0.t_trail)) =
    [%#span200]  ^ self =  * self
  
  predicate resolve'0 (self : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span200]  ^ self =  * self
  
  use seq.Seq
  
  function shallow_model'11 (self : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) : Seq.seq (Assignment'0.t_assignment)
    
   =
    [%#span201] shallow_model'7 ( * self)
  
  let rec push'0 (self:borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (value:Assignment'0.t_assignment) (return'  (ret:()))= {[@expl:precondition] [%#span203] inv'10 value}
    {[@expl:precondition] [%#span202] inv'9 self}
    any
    [ return' (result:())-> {[%#span204] shallow_model'7 ( ^ self) = Seq.snoc (shallow_model'11 self) value}
      (! return' {result}) ]
    
  
  predicate resolve_elswhere'0 [@inline:trivial] (self : usize) (old' : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (fin : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
    
   =
    [%#span205] forall i : int . 0 <= i /\ i <> UIntSize.to_int self /\ i < Seq.length old'
     -> Seq.get old' i = Seq.get fin i
  
  predicate has_value'0 [@inline:trivial] (self : usize) (seq : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) (out : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span206] Seq.get seq (UIntSize.to_int self) = out
  
  predicate in_bounds'0 [@inline:trivial] (self : usize) (seq : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
    
   =
    [%#span207] UIntSize.to_int self < Seq.length seq
  
  function shallow_model'10 (self : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span201] shallow_model'6 ( * self)
  
  let rec index_mut'0 (self:borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) (index:usize) (return'  (ret:borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))))= {[@expl:precondition] [%#span210] inv'6 index}
    {[@expl:precondition] [%#span209] inv'8 self}
    {[@expl:precondition] [%#span208] in_bounds'0 index (shallow_model'10 self)}
    any
    [ return' (result:borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))-> {[%#span215] inv'9 result}
      {[%#span214] Seq.length (shallow_model'6 ( ^ self)) = Seq.length (shallow_model'10 self)}
      {[%#span213] resolve_elswhere'0 index (shallow_model'10 self) (shallow_model'6 ( ^ self))}
      {[%#span212] has_value'0 index (shallow_model'6 ( ^ self)) ( ^ result)}
      {[%#span211] has_value'0 index (shallow_model'10 self) ( * result)}
      (! return' {result}) ]
    
  
  function shallow_model'5 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
   =
    [%#span216] shallow_model'2 self
  
  use prelude.prelude.Snapshot
  
  function shallow_model'3 (self : Snapshot.snap_ty (Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))) : Seq.seq (TrailIndex'0.t_trailindex)
    
   =
    [%#span217] shallow_model'5 (Snapshot.inner self)
  
  function shallow_model'9 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
   =
    [%#span216] shallow_model'7 self
  
  let rec len'0 (self:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (return'  (ret:usize))= {[@expl:precondition] [%#span218] inv'7 self}
    any
    [ return' (result:usize)-> {[%#span219] UIntSize.to_int result = Seq.length (shallow_model'9 self)}
      (! return' {result}) ]
    
  
  function shallow_model'8 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span216] shallow_model'6 self
  
  let rec index'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (index:usize) (return'  (ret:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))= {[@expl:precondition] [%#span222] inv'6 index}
    {[@expl:precondition] [%#span221] inv'5 self}
    {[@expl:precondition] [%#span220] in_bounds'0 index (shallow_model'8 self)}
    any
    [ return' (result:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))-> {[%#span224] inv'7 result}
      {[%#span223] has_value'0 index (shallow_model'8 self) result}
      (! return' {result}) ]
    
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  function add_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 459 4 459 84] (self : Trail'1.t_trail) (just : Fset.fset (Term'1.t_term, Value'1.t_value)) (t : Term'1.t_term) (v : Value'1.t_value) : Trail'1.t_trail
    
   =
    [%#span225] Trail'1.C_Assign (Assign'0.C_Justified just t v) (set_level'0 self just) self
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use Cdsat_Theory_Normal_Type as Cdsat_Theory_Normal_Type
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 829 4 829 30] (self : Normal'0.t_normal)
    
   =
    [%#span226] sound'1 (Cdsat_Theory_Normal_Type.normal_0 self)
  
  function deducef'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 899 4 899 78] (self : Normal'0.t_normal) (just : Fset.fset (Term'1.t_term, Value'1.t_value)) (t : Term'1.t_term) (v : Value'1.t_value) : Normal'0.t_normal
    
   =
    [%#span236] let _ = count_bounds'0 (Cdsat_Theory_Normal_Type.normal_0 self) in Normal'0.C_Normal (Trail'1.C_Assign (Assign'0.C_Justified just t v) (set_level'0 (Cdsat_Theory_Normal_Type.normal_0 self) just) (Cdsat_Theory_Normal_Type.normal_0 self))
  
  axiom deducef'0_spec : forall self : Normal'0.t_normal, just : Fset.fset (Term'1.t_term, Value'1.t_value), t : Term'1.t_term, v : Value'1.t_value . ([%#span227] invariant'1 (Cdsat_Theory_Normal_Type.normal_0 self))
   -> ([%#span228] sound'0 self)
   -> ([%#span229] is_bool'0 v)
   -> ([%#span230] acceptable'0 (Cdsat_Theory_Normal_Type.normal_0 self) t v)
   -> ([%#span231] forall j : (Term'1.t_term, Value'1.t_value) . contains'2 just j
   -> contains'3 (Cdsat_Theory_Normal_Type.normal_0 self) j)
   -> ([%#span232] forall m : Model'0.t_model . inv'0 m  -> entails'0 m just (t, v))
   -> ([%#span235] impls'0 (Cdsat_Theory_Normal_Type.normal_0 self) (Cdsat_Theory_Normal_Type.normal_0 (deducef'0 self just t v)))
  && ([%#span234] sound'0 (deducef'0 self just t v))
  && ([%#span233] invariant'1 (Cdsat_Theory_Normal_Type.normal_0 (deducef'0 self just t v)))
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Slice
  
  function shallow_model'12 (self : slice (TrailIndex'0.t_trailindex)) : Seq.seq (TrailIndex'0.t_trailindex)
  
  axiom shallow_model'12_spec : forall self : slice (TrailIndex'0.t_trailindex) . ([%#span237] inv'16 self)
   -> ([%#span240] inv'4 (shallow_model'12 self))
  && ([%#span239] shallow_model'12 self = Slice.id self)
  && ([%#span238] Seq.length (shallow_model'12 self) <= UIntSize.to_int (max'0 : usize))
  
  function index_logic'1 [@inline:trivial] (self : slice (TrailIndex'0.t_trailindex)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span241] Seq.get (shallow_model'12 self) ix
  
  function shallow_model'4 (self : slice (TrailIndex'0.t_trailindex)) : Seq.seq (TrailIndex'0.t_trailindex) =
    [%#span216] shallow_model'12 self
  
  let rec max_level'0 (self:Trail'0.t_trail) (assignments:slice (TrailIndex'0.t_trailindex)) (return'  (ret:usize))= {[@expl:precondition] [%#span243] forall i : int . 0
    <= i
    /\ i < Seq.length (shallow_model'4 assignments)  -> contains'0 self (index_logic'1 assignments i)}
    {[@expl:precondition] [%#span242] invariant'0 self}
    any
    [ return' (result:usize)-> {[%#span244] set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (abstract_justification'0 self (shallow_model'4 assignments))
      = UIntSize.to_int result}
      (! return' {result}) ]
    
  
  let rec log_justified'0 (self:Trail'0.t_trail) (just:slice (TrailIndex'0.t_trailindex)) (term:Term'0.t_term) (val':Value'0.t_value) (return'  (ret:()))= any
    [ return' (result:())-> (! return' {result}) ]
    
  
  let rec deref'0 (self:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (return'  (ret:slice (TrailIndex'0.t_trailindex)))= {[@expl:precondition] [%#span245] inv'1 self}
    any
    [ return' (result:slice (TrailIndex'0.t_trailindex))-> {[%#span247] inv'2 result}
      {[%#span246] shallow_model'4 result = shallow_model'5 self}
      (! return' {result}) ]
    
  
  let rec add_justified (self:borrowed (Trail'0.t_trail)) (into_vec:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (term:Term'0.t_term) (val':Value'0.t_value) (return'  (ret:()))= {[%#strail25] forall m : Model'0.t_model . inv'0 m
     -> satisfy_set'0 m (abstract_justification'0 ( * self) (shallow_model'2 into_vec))
     -> satisfies'0 m (shallow_model'0 term, shallow_model'1 val')}
    {[%#strail24] acceptable'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (shallow_model'0 term) (shallow_model'1 val')}
    {[%#strail23] forall i : TrailIndex'0.t_trailindex . contains'1 (shallow_model'2 into_vec) i
     -> contains'0 ( * self) i}
    {[%#strail22] is_bool'0 (shallow_model'1 val')}
    {[%#strail21] well_sorted'0 (shallow_model'0 term)}
    {[%#strail20] invariant'0 ( * self)}
    (! bb0
    [ bb0 = bb1
    | bb1 = bb2
    | bb2 = bb3
    | bb3 = bb4
    | bb4 = bb5
    | bb5 = s0
      [ s0 =  [ &_18 <- into_vec ] s1
      | s1 = deref'0 {_18} (fun (_ret':slice (TrailIndex'0.t_trailindex)) ->  [ &_16 <- _ret' ] s2)
      | s2 = bb6 ]
      
    | bb6 = s0
      [ s0 =  [ &_20 <- term ] s1
      | s1 =  [ &_22 <- val' ] s2
      | s2 = log_justified'0 { * self} {_16} {_20} {_22} (fun (_ret':()) ->  [ &_13 <- _ret' ] s3)
      | s3 = bb7 ]
      
    | bb7 = s0
      [ s0 = {[@expl:assertion] [%#strail0] forall ix : TrailIndex'0.t_trailindex . contains'0 ( * self) ix
         -> index_logic'0 ( * self) ix <> (shallow_model'0 term, shallow_model'1 val')}
        s1
      | s1 = bb8 ]
      
    | bb8 = s0
      [ s0 =  [ &_30 <- into_vec ] s1
      | s1 = deref'0 {_30} (fun (_ret':slice (TrailIndex'0.t_trailindex)) ->  [ &_28 <- _ret' ] s2)
      | s2 = bb9 ]
      
    | bb9 = s0 [ s0 = max_level'0 { * self} {_28} (fun (_ret':usize) ->  [ &level <- _ret' ] s1) | s1 = bb10 ] 
    | bb10 = s0 [ s0 =  [ &g_vec <- [%#strail1] Snapshot.new into_vec ] s1 | s1 = bb11 ] 
    | bb11 = s0
      [ s0 =  [ &just <- [%#strail2] Snapshot.new (abstract_justification'0 ( * self) (shallow_model'2 into_vec)) ] s1
      | s1 = bb12 ]
      
    | bb12 = s0
      [ s0 = {[@expl:assertion] [%#strail3] UIntSize.to_int level
        = set_level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (Snapshot.inner just)}
        s1
      | s1 = 
        [ &_37 <- [%#strail4] Snapshot.new (deducef'0 (Normal'0.C_Normal (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self)))) (Snapshot.inner just) (shallow_model'0 term) (shallow_model'1 val')) ]
        
        s2
      | s2 = bb13 ]
      
    | bb13 = s0 [ s0 =  [ &old' <- [%#strail5] Snapshot.new self ] s1 | s1 = bb14 ] 
    | bb14 = s0
      [ s0 = 
        [ &_41 <- [%#strail6] Snapshot.new (add_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (Snapshot.inner just) (shallow_model'0 term) (shallow_model'1 val')) ]
        
        s1
      | s1 = bb15 ]
      
    | bb15 = s0
      [ s0 = Trail'0.t_trail { * self}
          (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
             [ &self <- { self with current = Trail'0.C_Trail l_assignments'0 l_level'0 _41 l_num_assign'0 ; } ] 
            (any [ any_ (_any:Snapshot.snap_ty (Trail'1.t_trail))-> (!  [ &_41 <- _any ] s1) ] ))
      | s1 =  [ &v <- [%#strail7] Snapshot.new (shallow_model'0 term, shallow_model'1 val') ] s2
      | s2 = bb16 ]
      
    | bb16 = s0
      [ s0 = {[@expl:assertion] [%#strail8] level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (Snapshot.inner v)
        = UIntSize.to_int level}
        s1
      | s1 =  [ &_50 <- Reason'0.C_Justified into_vec ] 
        (any
        [ any_ (_any:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> (!  [ &into_vec <- _any ] s2) ]
        )
      | s2 = bb17 ]
      
    | bb17 = s0
      [ s0 =  [ &a <- Assignment'0.C_Assignment term val' _50 level ] 
        (any
        [ any_ (_any:Term'0.t_term)-> (!  [ &term <- _any ] 
          (any
          [ any_ (_any:Value'0.t_value)-> (!  [ &val' <- _any ] 
            (any [ any_ (_any:Reason'0.t_reason)-> (!  [ &_50 <- _any ] s1) ] )) ]
          )) ]
        )
      | s1 = bb18 ]
      
    | bb18 = bb19
    | bb19 = bb20
    | bb20 = s0
      [ s0 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            index'0 {rassignments'0} {level}
              (fun (_ret':Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) ->  [ &_55 <- _ret' ] s1))
      | s1 = bb21 ]
      
    | bb21 = s0 [ s0 = len'0 {_55} (fun (_ret':usize) ->  [ &x <- _ret' ] s1) | s1 = bb22 ] 
    | bb22 = s0
      [ s0 =  [ &new_ix <- TrailIndex'0.C_TrailIndex level x ] s1
      | s1 = {[@expl:assertion] [%#strail9] forall i : TrailIndex'0.t_trailindex . contains'1 (shallow_model'3 g_vec) i
         -> Cdsat_Trail_TrailIndex_Type.trailindex_0 i <= Cdsat_Trail_TrailIndex_Type.trailindex_0 new_ix}
        s2
      | s2 = {[@expl:assertion] [%#strail10] forall i : TrailIndex'0.t_trailindex . contains'1 (shallow_model'3 g_vec) i
         -> lt_log'0 i new_ix}
        s3
      | s3 = {[@expl:assertion] [%#strail11] UIntSize.to_int x > 0} s4
      | s4 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            Borrow.borrow_final
              <Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)>
              {rassignments'0}
              {Borrow.inherit_id (Borrow.get_id self) 1}
              (fun (_ret':borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) ->
                 [ &_70 <- _ret' ] 
                Trail'0.t_trail { * self}
                  (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
                     [ &self <- { self with current = Trail'0.C_Trail ( ^ _70) l_level'0 l_ghost'0 l_num_assign'0 ; } ] 
                    s5)))
      | s5 = index_mut'0 {_70} {level}
          (fun (_ret':borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) ->  [ &_69 <- _ret' ] s6)
      | s6 = bb23 ]
      
    | bb23 = s0
      [ s0 = Borrow.borrow_final
          <Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)>
          { * _69}
          {Borrow.get_id _69}
          (fun (_ret':borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) ->
             [ &_68 <- _ret' ] 
             [ &_69 <- { _69 with current = ( ^ _68) ; } ] 
            s1)
      | s1 = push'0 {_68} {a} (fun (_ret':()) ->  [ &_67 <- _ret' ] s2)
      | s2 = bb24 ]
      
    | bb24 = s0
      [ s0 = -{resolve'0 _69}- s1
      | s1 = -{resolve'1 self}- s2
      | s2 = 
        [ &_73 <- [%#strail12] Snapshot.new (abs_just_equiv'0 ( * self) ( * Snapshot.inner old') (shallow_model'3 g_vec)) ]
        
        s3
      | s3 = bb25 ]
      
    | bb25 = s0 [ s0 =  [ &_75 <- [%#strail13] Snapshot.new () ] s1 | s1 = bb26 ] 
    | bb26 = s0
      [ s0 = {[@expl:assertion] [%#strail14] forall ix : TrailIndex'0.t_trailindex . contains'0 ( * Snapshot.inner old') ix
         -> reason'0 ( * self) ix = reason'0 ( * Snapshot.inner old') ix}
        s1
      | s1 = {[@expl:assertion] [%#strail15] forall ix : TrailIndex'0.t_trailindex . contains'0 ( * Snapshot.inner old') ix
         -> index_logic'0 ( * Snapshot.inner old') ix = index_logic'0 ( * self) ix}
        s2
      | s2 = {[@expl:assertion] [%#strail16] forall j : TrailIndex'0.t_trailindex . contains'0 ( * self) j
         -> j = new_ix \/ contains'0 ( * Snapshot.inner old') j}
        s3
      | s3 = {[@expl:assertion] [%#strail17] ext'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * Snapshot.inner old'))) (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self)))}
        s4
      | s4 = {[@expl:assertion] [%#strail18] justified_is_justified'0 ( * self)} s5
      | s5 = {[@expl:assertion] [%#strail19] abstract_relation'0 ( * self)} s6
      | s6 = bb27 ]
      
    | bb27 = bb28
    | bb28 = bb29
    | bb29 = bb30
    | bb30 = return' {_0} ]
    )
    [ & _0 : () = any_l ()
    | & self : borrowed (Trail'0.t_trail) = self
    | & into_vec : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = into_vec
    | & term : Term'0.t_term = term
    | & val' : Value'0.t_value = val'
    | & _13 : () = any_l ()
    | & _16 : slice (TrailIndex'0.t_trailindex) = any_l ()
    | & _18 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & _20 : Term'0.t_term = any_l ()
    | & _22 : Value'0.t_value = any_l ()
    | & level : usize = any_l ()
    | & _28 : slice (TrailIndex'0.t_trailindex) = any_l ()
    | & _30 : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) = any_l ()
    | & g_vec : Snapshot.snap_ty (Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) = any_l ()
    | & just : Snapshot.snap_ty (Fset.fset (Term'1.t_term, Value'1.t_value)) = any_l ()
    | & _37 : Snapshot.snap_ty (Normal'0.t_normal) = any_l ()
    | & old' : Snapshot.snap_ty (borrowed (Trail'0.t_trail)) = any_l ()
    | & _41 : Snapshot.snap_ty (Trail'1.t_trail) = any_l ()
    | & v : Snapshot.snap_ty (Term'1.t_term, Value'1.t_value) = any_l ()
    | & a : Assignment'0.t_assignment = any_l ()
    | & _50 : Reason'0.t_reason = any_l ()
    | & x : usize = any_l ()
    | & _55 : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l ()
    | & new_ix : TrailIndex'0.t_trailindex = any_l ()
    | & _67 : () = any_l ()
    | & _68 : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) = any_l ()
    | & _69 : borrowed (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) = any_l ()
    | & _70 : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) = any_l ()
    | & _73 : Snapshot.snap_ty () = any_l ()
    | & _75 : Snapshot.snap_ty () = any_l () ]
    
    [ return' (result:())-> {[@expl:postcondition] [%#strail26] impls'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( ^ self)))}
      {[@expl:postcondition] [%#strail20] invariant'0 ( ^ self)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_AddDecision
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 406 18 406 38
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 408 22 408 23
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 409 17 409 73
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 410 21 410 84
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 413 8 413 92
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 414 8 414 102
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 415 8 415 42
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 416 44 416 45
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 417 22 417 41
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 418 27 418 67
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 419 22 419 46
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 420 22 420 51
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 399 4 399 36
  
  let%span strail13 = "/Users/xavier/Code/cdsat/src/trail.rs" 400 15 400 31
  
  let%span strail14 = "/Users/xavier/Code/cdsat/src/trail.rs" 402 4 402 51
  
  let%span strail15 = "/Users/xavier/Code/cdsat/src/trail.rs" 401 14 401 33
  
  let%span strail16 = "/Users/xavier/Code/cdsat/src/trail.rs" 403 4 403 48
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span39 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span45 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span76 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span77 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span81 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span82 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span83 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span84 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span87 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span92 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/theory.rs" 678 8 678 71
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span112 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span114 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/theory.rs" 741 15 741 31
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 742 4 742 83
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 685 8 685 82
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 696 4 696 55
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 698 8 698 108
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 398 8 400 79
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span131 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span132 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span163 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span166 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span170 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span171 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span172 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span173 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span174 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span175 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span176 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span177 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span178 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span179 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span180 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  let%span span181 = "/Users/xavier/Code/cdsat/src/theory.rs" 638 8 644 9
  
  let%span span182 = "/Users/xavier/Code/cdsat/src/theory.rs" 649 15 649 26
  
  let%span span183 = "/Users/xavier/Code/cdsat/src/theory.rs" 650 15 650 32
  
  let%span span184 = "/Users/xavier/Code/cdsat/src/theory.rs" 651 15 651 29
  
  let%span span185 = "/Users/xavier/Code/cdsat/src/theory.rs" 652 15 652 36
  
  let%span span186 = "/Users/xavier/Code/cdsat/src/theory.rs" 653 14 653 59
  
  let%span span187 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  let%span span188 = "/Users/xavier/Code/cdsat/src/trail.rs" 540 4 540 136
  
  let%span span189 = "/Users/xavier/Code/cdsat/src/trail.rs" 541 14 541 85
  
  let%span span190 = "/Users/xavier/Code/cdsat/src/trail.rs" 543 8 543 10
  
  let%span span191 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 108 8 108 31
  
  let%span span192 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 1993 21 1993 25
  
  let%span span193 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 1993 27 1993 32
  
  let%span span194 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 82 26 82 51
  
  let%span span195 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 21 19 25
  
  let%span span196 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 17 14 17 41
  
  let%span span197 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 18 14 18 42
  
  let%span span198 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 19 4 19 50
  
  let%span span199 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/boxed.rs" 20 8 20 31
  
  let%span span200 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/slice.rs" 461 34 461 38
  
  let%span span201 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/slice.rs" 325 18 325 35
  
  let%span span202 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/slice.rs" 461 4 461 66
  
  let%span span203 = "/Users/xavier/Code/cdsat/src/theory.rs" 826 4 826 16
  
  let%span span204 = "/Users/xavier/Code/cdsat/src/theory.rs" 850 15 850 35
  
  let%span span205 = "/Users/xavier/Code/cdsat/src/theory.rs" 851 15 851 27
  
  let%span span206 = "/Users/xavier/Code/cdsat/src/theory.rs" 852 4 852 42
  
  let%span span207 = "/Users/xavier/Code/cdsat/src/theory.rs" 853 4 853 36
  
  let%span span208 = "/Users/xavier/Code/cdsat/src/theory.rs" 854 14 854 28
  
  let%span span209 = "/Users/xavier/Code/cdsat/src/theory.rs" 855 4 855 38
  
  let%span span210 = "/Users/xavier/Code/cdsat/src/theory.rs" 856 4 856 90
  
  let%span span211 = "/Users/xavier/Code/cdsat/src/theory.rs" 857 4 857 73
  
  let%span span212 = "/Users/xavier/Code/cdsat/src/theory.rs" 858 4 858 43
  
  let%span span213 = "/Users/xavier/Code/cdsat/src/theory.rs" 859 4 859 82
  
  let%span span214 = "/Users/xavier/Code/cdsat/src/theory.rs" 861 7 861 92
  
  let%span span215 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span216 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs" 2255 16 2255 20
  
  let%span span217 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 78 26 78 48
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span17] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span18] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span20] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span19] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span23] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span21] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span22] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span26] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span24] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span25] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span30] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span27] cmp_log'0 x y
  = o)  -> ([%#span28] cmp_log'0 y z = o)  -> ([%#span29] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span32] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span31] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span33] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span35] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span34] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span36] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span38] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span37] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span39] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span41] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span40] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span42] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span44] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span43] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use seq.Seq
  
  predicate inv'9 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span45] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'11 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'8 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'8_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span46] inv'11 self)
   -> ([%#span48] inv'9 (shallow_model'8 self))
  && ([%#span47] Seq.length (shallow_model'8 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'14 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span49] inv'9 (shallow_model'8 self)
  
  axiom inv'11 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'11 x = true
  
  predicate invariant'13 (self : TrailIndex'0.t_trailindex) =
    [%#span50] true
  
  predicate inv'10 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'10 : forall x : TrailIndex'0.t_trailindex . inv'10 x = true
  
  predicate invariant'12 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span50] true
  
  axiom inv'9 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'9 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use prelude.prelude.Slice
  
  predicate invariant'11 (self : slice (Assignment'0.t_assignment)) =
    [%#span50] true
  
  predicate inv'8 (_x : slice (Assignment'0.t_assignment))
  
  axiom inv'8 : forall x : slice (Assignment'0.t_assignment) . inv'8 x = true
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span51] inv'10 x)
   -> ([%#span52] inv'10 y)  -> ([%#span53] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span54] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span55] inv'10 x)  -> ([%#span56] inv'10 y)  -> ([%#span57] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span58] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span59] inv'10 x)  -> ([%#span60] inv'10 y)  -> ([%#span61] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span62] cmp_log'0 x y
  = o)
   -> ([%#span63] cmp_log'0 y z = o)
   -> ([%#span64] inv'10 x)  -> ([%#span65] inv'10 y)  -> ([%#span66] inv'10 z)  -> ([%#span67] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span68] inv'10 x)
   -> ([%#span69] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span70] inv'10 x)
   -> ([%#span71] inv'10 y)  -> ([%#span72] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span73] inv'10 x)
   -> ([%#span74] inv'10 y)  -> ([%#span75] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span76] inv'10 x)
   -> ([%#span77] inv'10 y)  -> ([%#span78] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span79] inv'10 x)
   -> ([%#span80] inv'10 y)  -> ([%#span81] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  predicate invariant'10 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span50] true
  
  predicate inv'7 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'7 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'7 x = true
  
  use seq.Seq
  
  predicate inv'6 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'5 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'5_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span46] inv'6 self)
   -> ([%#span48] inv'7 (shallow_model'5 self))
  && ([%#span47] Seq.length (shallow_model'5 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'9 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span49] inv'7 (shallow_model'5 self)
  
  axiom inv'6 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'6 x
  = true
  
  predicate invariant'8 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span50] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'1.t_value) : Sort'0.t_sort =
    [%#span82] match self with
      | Value'1.C_Bool _ -> Sort'0.C_Boolean
      | Value'1.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'4 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span83] forall v : Value'1.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'4 (_x : Model'0.t_model)
  
  axiom inv'4 : forall x : Model'0.t_model . inv'4 x
  = (invariant'4 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  use prelude.prelude.Borrow
  
  predicate invariant'7 (self : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)))
    
   =
    [%#span50] true
  
  predicate inv'3 (_x : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)))
    
  
  axiom inv'3 : forall x : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) . inv'3 x
  = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'3 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'3_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span46] inv'2 self)
   -> ([%#span48] inv'5 (shallow_model'3 self))
  && ([%#span47] Seq.length (shallow_model'3 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'6 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span49] inv'5 (shallow_model'3 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'2 x = true
  
  predicate invariant'5 (self : slice (Assignment'0.t_assignment)) =
    [%#span50] true
  
  predicate inv'1 (_x : slice (Assignment'0.t_assignment))
  
  axiom inv'1 : forall x : slice (Assignment'0.t_assignment) . inv'1 x = true
  
  predicate invariant'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span50] true
  
  predicate inv'0 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  axiom inv'0 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'0 x
  = true
  
  use prelude.prelude.Real
  
  function from_int'0 (_1 : int) : Real.real
  
  use Cdsat_Theory_Term_Type as Term'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'1.t_term) : Sort'0.t_sort =
    [%#span84] match self with
      | Term'1.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'1.C_Value v -> sort'1 v
      | Term'1.C_Plus _ _ -> Sort'0.C_Rational
      | Term'1.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'1.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'1.C_Neg _ -> Sort'0.C_Boolean
      | Term'1.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'1.t_term) : Value'1.t_value
    
   =
    [%#span87] match t with
      | Term'1.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'1.C_Value v -> v
      | Term'1.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Rat r1, Value'1.C_Rat r2) -> Value'1.C_Rat r1
        | _ -> Value'1.C_Rat (from_int'0 (- 1))
        end
      | Term'1.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Bool b1, Value'1.C_Bool b2) -> Value'1.C_Bool (b1 /\ b2)
        | _ -> Value'1.C_Bool false
        end
      | Term'1.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'1.C_Bool b1, Value'1.C_Bool b2) -> Value'1.C_Bool (b1 \/ b2)
        | _ -> Value'1.C_Bool false
        end
      | Term'1.C_Eq l r -> Value'1.C_Bool (interp'0 self l = interp'0 self r)
      | Term'1.C_Neg t -> match interp'0 self t with
        | Value'1.C_Bool b -> Value'1.C_Bool (not b)
        | _ -> Value'1.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'1.t_term . ([%#span85] inv'4 self)
   -> ([%#span86] invariant'4 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span88] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span89] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span90] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'3 a
      end
  
  function len'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'1_spec : forall self : Trail'1.t_trail . [%#span91] len'1 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span94] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span93] level'0 self <= len'1 self)
  && ([%#span92] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span95] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span96] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span100] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span99] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span98] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span97] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  predicate contains'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span102] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'1_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . [%#span101] invariant_assign'0 self
   -> contains'1 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate satisfied_by'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 677 4 677 47] (self : Trail'1.t_trail) (m : Model'0.t_model)
    
   =
    [%#span103] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 self a  -> satisfies'0 m a
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : int
    
   =
    [%#span106] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span104] invariant_nonneg'0 self)
   -> ([%#span105] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'1.t_value) =
    [%#span107] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'1.t_value) : Value'1.t_value =
    [%#span110] match self with
      | Value'1.C_Bool b -> Value'1.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'1.t_value . ([%#span108] is_bool'0 self)
   -> ([%#span109] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span111] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'1 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'1 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'3 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (e : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span112] Fset.mem e self
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span113] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'1.t_term, Value'1.t_value) . contains'3 j a  -> contains'1 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (a : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span114] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'1.t_term, Value'1.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'1.t_term, Value'1.t_value) . ([%#span115] invariant_nonneg'0 self)
   -> ([%#span120] set_level'0 self s <= level'0 self)
  && ([%#span119] set_level'0 self s >= 0)
  && ([%#span118] s = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value))  -> set_level'0 self s = 0)
  && ([%#span117] s <> (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value))
   -> (exists i : (Term'1.t_term, Value'1.t_value) . contains'3 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span116] forall i : (Term'1.t_term, Value'1.t_value) . contains'3 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span122] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span123] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function count_bounds'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 743 4 743 35] (self : Trail'1.t_trail) : ()
  
  axiom count_bounds'0_spec : forall self : Trail'1.t_trail . ([%#span124] invariant'1 self)
   -> ([%#span125] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 self a
   -> level_of'0 self a <= level'0 self)
  
  function restrict'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 561 4 561 45] (self : Trail'1.t_trail) (level : int) : Trail'1.t_trail
    
  
  predicate unsat'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 684 4 684 30] (self : Trail'1.t_trail) =
    [%#span126] forall m : Model'0.t_model . inv'4 m  -> satisfied_by'0 (restrict'0 self 0) m  -> false
  
  predicate impls'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 697 4 697 41] (self : Trail'1.t_trail) (rhs : Trail'1.t_trail)
    
   =
    [%#span128] forall m : Model'0.t_model . inv'4 m
     -> satisfied_by'0 (restrict'0 self 0) m  -> satisfied_by'0 (restrict'0 rhs 0) m
  
  axiom impls'0_spec : forall self : Trail'1.t_trail, rhs : Trail'1.t_trail . [%#span127] impls'0 self rhs
   -> unsat'0 rhs  -> unsat'0 self
  
  predicate acceptable'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 397 4 397 56] (self : Trail'1.t_trail) (t : Term'1.t_term) (val' : Value'1.t_value)
    
   =
    [%#span129] not contains'1 self (t, val')
    /\ sort'0 t = sort'1 val' /\ (is_bool'0 val'  -> not contains'1 self (t, negate'0 val'))
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'1.t_term) : bool =
    [%#span130] match self with
      | Term'1.C_Variable v -> true
      | Term'1.C_Value v -> true
      | Term'1.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'1.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'1.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'1.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'1.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'1.t_term, Value'1.t_value)) (e : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span131] Fset.add e self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span132] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span142] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span133] inv'9 s)
   -> ([%#span134] inv'10 e)
   -> ([%#span140] inv'9 (remove'0 s e))
  && ([%#span139] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#span138] contains'2 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#span137] forall t : TrailIndex'0.t_trailindex . inv'10 t  -> contains'2 (remove'0 s e) t  -> t <> e)
  && ([%#span136] forall t : TrailIndex'0.t_trailindex . inv'10 t  -> contains'2 (remove'0 s e) t  -> contains'2 s t)
  && ([%#span135] forall t : TrailIndex'0.t_trailindex . inv'10 t
   -> contains'2 s t  -> e <> t  -> contains'2 (remove'0 s e) t)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span143] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span144] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'0.t_term) : Term'1.t_term
  
  function shallow_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'0.t_term) : Term'1.t_term
   =
    [%#span146] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span147] (shallow_model'0 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'1 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'1.t_term, Value'1.t_value)
    
   =
    [%#span148] term_value'0 (Seq.get (shallow_model'3 (Seq.get (shallow_model'5 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span149] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'5 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'3 (Seq.get (shallow_model'5 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span156] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span150] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span154] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'3 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span153] forall a : (Term'1.t_term, Value'1.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 just ix /\ a = index_logic'0 self ix))
  && ([%#span152] forall a : (Term'1.t_term, Value'1.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span151] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span157] forall a : (Term'1.t_term, Value'1.t_value) . contains'3 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span158] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'4 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate sound'1 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span159] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'1 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'1.t_term, Value'1.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'1.t_term, Value'1.t_value) . ([%#span160] sound'1 self)
   -> ([%#span161] contains'1 self kv)
   -> ([%#span162] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span163] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span164] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'1.t_term, Value'1.t_value)) (c : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span165] invariant'4 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value))
    
   =
    [%#span166] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'1.t_term, Value'1.t_value)) : Fset.fset (Term'1.t_term, Value'1.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'1.t_term, Value'1.t_value) . ([%#span167] invariant'1 self)
   -> ([%#span168] is_justified'0 self d)
   -> ([%#span169] sound'1 self)
   -> ([%#span172] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)))
  && ([%#span171] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'1.t_term, Value'1.t_value)))
  && ([%#span170] forall m : Model'0.t_model . inv'4 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span173] (forall i : TrailIndex'0.t_trailindex . contains'2 (shallow_model'8 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'8 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span174] Seq.get (shallow_model'3 self) (UIntSize.to_int ix)
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span174] Seq.get (shallow_model'5 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span175] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'2 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span176] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span177] Seq.get (shallow_model'5 self) ix
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span178] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span179] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'1.t_term, Value'1.t_value) . contains'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span180] abstract_relation'0 self
    /\ sound'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'5 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'5 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'3 (index_logic'3 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Snapshot
  
  predicate ext'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 637 4 637 37] (self : Trail'1.t_trail) (o : Trail'1.t_trail)
    
   =
    [%#span181] if level'0 self <= level'0 o then
      forall kv : (Term'1.t_term, Value'1.t_value) . contains'1 self kv  -> find'0 self kv = find'0 o kv
    else
      forall kv : (Term'1.t_term, Value'1.t_value) . contains'1 o kv  -> find'0 o kv = find'0 self kv
    
  
  function just_stable'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 654 4 654 56] (self : Trail'1.t_trail) (o : Trail'1.t_trail) (kv : (Term'1.t_term, Value'1.t_value)) : ()
    
  
  axiom just_stable'0_spec : forall self : Trail'1.t_trail, o : Trail'1.t_trail, kv : (Term'1.t_term, Value'1.t_value) . ([%#span182] ext'0 self o)
   -> ([%#span183] contains'1 self kv)
   -> ([%#span184] contains'1 o kv)
   -> ([%#span185] is_justified'0 self kv)  -> ([%#span186] justification'0 self kv = justification'0 o kv)
  
  use prelude.prelude.Snapshot
  
  predicate resolve'0 (self : borrowed (Trail'0.t_trail)) =
    [%#span187]  ^ self =  * self
  
  use prelude.prelude.Snapshot
  
  function abs_just_equiv'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 542 4 542 67] (self : Trail'0.t_trail) (other : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : ()
    
   =
    [%#span190] ()
  
  axiom abs_just_equiv'0_spec : forall self : Trail'0.t_trail, other : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span188] forall j : TrailIndex'0.t_trailindex . contains'2 just j
   -> contains'0 self j /\ contains'0 other j /\ index_logic'0 self j = index_logic'0 other j)
   -> ([%#span189] abstract_justification'0 self just = abstract_justification'0 other just)
  
  use prelude.prelude.Snapshot
  
  use seq.Seq
  
  function shallow_model'6 (self : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span191] shallow_model'5 ( * self)
  
  let rec push'0 (self:borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) (value:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (return'  (ret:()))= {[@expl:precondition] [%#span193] inv'2 value}
    {[@expl:precondition] [%#span192] inv'3 self}
    any
    [ return' (result:())-> {[%#span194] shallow_model'5 ( ^ self) = Seq.snoc (shallow_model'6 self) value}
      (! return' {result}) ]
    
  
  use prelude.prelude.Slice
  
  function shallow_model'7 (self : slice (Assignment'0.t_assignment)) : Seq.seq (Assignment'0.t_assignment)
  
  axiom shallow_model'7_spec : forall self : slice (Assignment'0.t_assignment) . ([%#span195] inv'8 self)
   -> ([%#span198] inv'5 (shallow_model'7 self))
  && ([%#span197] shallow_model'7 self = Slice.id self)
  && ([%#span196] Seq.length (shallow_model'7 self) <= UIntSize.to_int (max'0 : usize))
  
  function shallow_model'4 (self : slice (Assignment'0.t_assignment)) : Seq.seq (Assignment'0.t_assignment) =
    [%#span199] shallow_model'7 self
  
  let rec into_vec'0 (self:slice (Assignment'0.t_assignment)) (return'  (ret:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))= {[@expl:precondition] [%#span200] inv'1 self}
    any
    [ return' (result:Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))-> {[%#span202] inv'2 result}
      {[%#span201] shallow_model'3 result = shallow_model'4 self}
      (! return' {result}) ]
    
  
  use prelude.prelude.Snapshot
  
  use Cdsat_Theory_Normal_Type as Cdsat_Theory_Normal_Type
  
  use Cdsat_Theory_Normal_Type as Normal'0
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 829 4 829 30] (self : Normal'0.t_normal)
    
   =
    [%#span203] sound'1 (Cdsat_Theory_Normal_Type.normal_0 self)
  
  function decidef'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 860 4 860 54] (self : Normal'0.t_normal) (t : Term'1.t_term) (val' : Value'1.t_value) : Normal'0.t_normal
    
   =
    [%#span214] Normal'0.C_Normal (Trail'1.C_Assign (Assign'0.C_Decision t val') (level'0 (Cdsat_Theory_Normal_Type.normal_0 self)
    + 1) (Cdsat_Theory_Normal_Type.normal_0 self))
  
  axiom decidef'0_spec : forall self : Normal'0.t_normal, t : Term'1.t_term, val' : Value'1.t_value . ([%#span204] invariant'1 (Cdsat_Theory_Normal_Type.normal_0 self))
   -> ([%#span205] sound'0 self)
   -> ([%#span206] acceptable'0 (Cdsat_Theory_Normal_Type.normal_0 self) t val')
   -> ([%#span213] forall a : (Term'1.t_term, Value'1.t_value) . justification'0 (Cdsat_Theory_Normal_Type.normal_0 self) a
  = justification'0 (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 self t val')) a)
  && ([%#span212] contains'1 (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 self t val')) (t, val'))
  && ([%#span211] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 (Cdsat_Theory_Normal_Type.normal_0 self) a
   -> contains'1 (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 self t val')) a)
  && ([%#span210] forall a : (Term'1.t_term, Value'1.t_value) . contains'1 (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 self t val')) a
   -> contains'1 (Cdsat_Theory_Normal_Type.normal_0 self) a \/ a = (t, val'))
  && ([%#span209] impls'0 (Cdsat_Theory_Normal_Type.normal_0 self) (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 self t val')))
  && ([%#span208] sound'0 (decidef'0 self t val'))
  && ([%#span207] invariant'1 (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 self t val')))
  
  use prelude.prelude.Snapshot
  
  function shallow_model'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
   =
    [%#span215] shallow_model'5 self
  
  let rec len'0 (self:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (return'  (ret:usize))= {[@expl:precondition] [%#span216] inv'0 self}
    any
    [ return' (result:usize)-> {[%#span217] UIntSize.to_int result = Seq.length (shallow_model'2 self)}
      (! return' {result}) ]
    
  
  use prelude.prelude.Snapshot
  
  let rec add_decision (self:borrowed (Trail'0.t_trail)) (term:Term'0.t_term) (val':Value'0.t_value) (return'  (ret:()))= {[%#strail14] acceptable'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (shallow_model'0 term) (shallow_model'1 val')}
    {[%#strail13] invariant'0 ( * self)}
    {[%#strail12] well_sorted'0 (shallow_model'0 term)}
    (! bb0
    [ bb0 = bb1
    | bb1 = bb2
    | bb2 = s0 [ s0 =  [ &old' <- [%#strail0] Snapshot.new ( * self) ] s1 | s1 = bb3 ] 
    | bb3 = s0
      [ s0 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            len'0 {rassignments'0} (fun (_ret':usize) ->  [ &_11 <- _ret' ] s1))
      | s1 = bb4 ]
      
    | bb4 = s0
      [ s0 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            UIntSize.add {rlevel'0} {[%#strail1] (1 : usize)}
              (fun (_ret':usize) ->
                Trail'0.t_trail { * self}
                  (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
                    
                    [ &self <- { self with current = Trail'0.C_Trail l_assignments'0 _ret' l_ghost'0 l_num_assign'0 ; } ]
                    
                    s1)))
      | s1 =  [ &kv <- [%#strail2] Snapshot.new (shallow_model'0 term, shallow_model'1 val') ] s2
      | s2 = bb5 ]
      
    | bb5 = s0
      [ s0 = 
        [ &_15 <- [%#strail3] Snapshot.new (Cdsat_Theory_Normal_Type.normal_0 (decidef'0 (Normal'0.C_Normal (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self)))) (shallow_model'0 term) (shallow_model'1 val'))) ]
        
        s1
      | s1 = bb6 ]
      
    | bb6 = s0
      [ s0 = Trail'0.t_trail { * self}
          (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
             [ &self <- { self with current = Trail'0.C_Trail l_assignments'0 l_level'0 _15 l_num_assign'0 ; } ] 
            (any [ any_ (_any:Snapshot.snap_ty (Trail'1.t_trail))-> (!  [ &_15 <- _any ] s1) ] ))
      | s1 =  [ &_20 <- Reason'0.C_Decision ] s2
      | s2 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
             [ &assign <- Assignment'0.C_Assignment term val' _20 rlevel'0 ] 
            (any
            [ any_ (_any:Term'0.t_term)-> (!  [ &term <- _any ] 
              (any
              [ any_ (_any:Value'0.t_value)-> (!  [ &val' <- _any ] 
                (any [ any_ (_any:Reason'0.t_reason)-> (!  [ &_20 <- _any ] s3) ] )) ]
              )) ]
            ))
      | s3 = bb7 ]
      
    | bb7 = bb8
    | bb8 = bb9
    | bb9 = s0
      [ s0 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
            Borrow.borrow_final
              <Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)>
              {rassignments'0}
              {Borrow.inherit_id (Borrow.get_id self) 1}
              (fun (_ret':borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))) ->
                 [ &_23 <- _ret' ] 
                Trail'0.t_trail { * self}
                  (fun (l_assignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (l_level'0:usize) (l_ghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (l_num_assign'0:usize) ->
                     [ &self <- { self with current = Trail'0.C_Trail ( ^ _23) l_level'0 l_ghost'0 l_num_assign'0 ; } ] 
                    s1)))
      | s1 = any
        [ any_ (__arr_temp:array (Assignment'0.t_assignment))-> (! -{Seq.get (__arr_temp.elts) 0 = assign
          /\ Seq.length (__arr_temp.elts) = 1}-
           [ &_27 <- __arr_temp ] 
          (any [ any_ (_any:Assignment'0.t_assignment)-> (!  [ &assign <- _any ] s2) ] )) ]
        
      | s2 = bb10 ]
      
    | bb10 = bb11
    | bb11 = bb12
    | bb12 = s0
      [ s0 = into_vec'0 {_27}
          (fun (_ret':Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) ->  [ &_24 <- _ret' ] s1)
      | s1 = bb13 ]
      
    | bb13 = s0 [ s0 = push'0 {_23} {_24} (fun (_ret':()) ->  [ &_22 <- _ret' ] s1) | s1 = bb14 ] 
    | bb14 = s0
      [ s0 = {[@expl:assertion] [%#strail4] forall ix : TrailIndex'0.t_trailindex . contains'0 (Snapshot.inner old') ix
         -> reason'0 ( * self) ix = reason'0 (Snapshot.inner old') ix}
        s1
      | s1 = {[@expl:assertion] [%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'0 (Snapshot.inner old') ix
         -> index_logic'0 (Snapshot.inner old') ix = index_logic'0 ( * self) ix}
        s2
      | s2 =  [ &_33 <- [%#strail6] Snapshot.new () ] s3
      | s3 = bb15 ]
      
    | bb15 = s0
      [ s0 = -{resolve'0 self}- s1
      | s1 = Trail'0.t_trail { * self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
             [ &new_ix <- TrailIndex'0.C_TrailIndex rlevel'0 ([%#strail7] (0 : usize)) ] 
            s2)
      | s2 = {[@expl:assertion] [%#strail8] index_logic'0 ( * self) new_ix = Snapshot.inner kv} s3
      | s3 =  [ &_39 <- [%#strail9] Snapshot.new () ] s4
      | s4 = bb16 ]
      
    | bb16 = s0
      [ s0 = {[@expl:assertion] [%#strail10] abstract_relation'0 ( * self)} s1
      | s1 = {[@expl:assertion] [%#strail11] justified_is_justified'0 ( * self)} s2
      | s2 = bb17 ]
      
    | bb17 = bb18
    | bb18 = bb19
    | bb19 = return' {_0} ]
    )
    [ & _0 : () = any_l ()
    | & self : borrowed (Trail'0.t_trail) = self
    | & term : Term'0.t_term = term
    | & val' : Value'0.t_value = val'
    | & old' : Snapshot.snap_ty (Trail'0.t_trail) = any_l ()
    | & _11 : usize = any_l ()
    | & kv : Snapshot.snap_ty (Term'1.t_term, Value'1.t_value) = any_l ()
    | & _15 : Snapshot.snap_ty (Trail'1.t_trail) = any_l ()
    | & assign : Assignment'0.t_assignment = any_l ()
    | & _20 : Reason'0.t_reason = any_l ()
    | & _22 : () = any_l ()
    | & _23 : borrowed (Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) = any_l ()
    | & _24 : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) = any_l ()
    | & _27 : array (Assignment'0.t_assignment) = any_l ()
    | & _33 : Snapshot.snap_ty () = any_l ()
    | & new_ix : TrailIndex'0.t_trailindex = any_l ()
    | & _39 : Snapshot.snap_ty () = any_l () ]
    
    [ return' (result:())-> {[@expl:postcondition] [%#strail16] impls'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( * self))) (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost ( ^ self)))}
      {[@expl:postcondition] [%#strail15] invariant'0 ( ^ self)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_AssignmentDeepModel_Type
  use prelude.prelude.Int
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  type t_assignmentdeepmodel  =
    | C_AssignmentDeepModel (Term'0.t_term) (Value'0.t_value) (ReasonDeepModel'0.t_reasondeepmodel) int
  
  function any_l (_ : 'b) : 'a
  
  let rec t_assignmentdeepmodel (input:t_assignmentdeepmodel) (ret  (term:Term'0.t_term) (val':Value'0.t_value) (reason:ReasonDeepModel'0.t_reasondeepmodel) (level:int))= any
    [ good (term:Term'0.t_term) (val':Value'0.t_value) (reason:ReasonDeepModel'0.t_reasondeepmodel) (level:int)-> {C_AssignmentDeepModel term val' reason level
      = input}
      (! ret {term} {val'} {reason} {level})
    | bad (term:Term'0.t_term) (val':Value'0.t_value) (reason:ReasonDeepModel'0.t_reasondeepmodel) (level:int)-> {C_AssignmentDeepModel term val' reason level
      <> input}
      {false}
      any ]
    
end
module Cdsat_Trail_Impl14_Eq
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 19 4 25 20
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 16 16 16 25
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span3 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/num.rs" 22 16 22 35
  
  let%span span9 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 18 33 22
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 30 14 30 56
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 31 4 32 53
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 4 33 44
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts-proc/src/lib.rs" 727 0 727 44
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/cmp.rs" 11 26 11 75
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 16 48 25
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/term.rs" 225 23 225 32
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/term.rs" 33 23 33 32
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span2] true
  
  predicate inv'1 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'1 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'1 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span3] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span4] inv'0 self)
   -> ([%#span6] inv'1 (shallow_model'0 self))
  && ([%#span5] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span7] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'0 x = true
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'1
  
  use Cdsat_Term_Term_Type as Term'0
  
  function deep_model'9 (self : usize) : int =
    [%#span8] UIntSize.to_int self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'12 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span9] self
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span10] Seq.get (shallow_model'0 self) ix
  
  function deep_model'11 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom deep_model'11_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span11] inv'0 self)
   -> ([%#span14] inv'1 (deep_model'11 self))
  && ([%#span13] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 self)
   -> Seq.get (deep_model'11 self) i = deep_model'12 (index_logic'0 self i))
  && ([%#span12] Seq.length (shallow_model'0 self) = Seq.length (deep_model'11 self))
  
  function deep_model'8 [#"/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40] (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel
    
   =
    [%#span15] match self with
      | Reason'0.C_Justified v0_1 -> ReasonDeepModel'0.C_Justified (deep_model'11 v0_1)
      | Reason'0.C_Decision -> ReasonDeepModel'0.C_Decision
      | Reason'0.C_Input -> ReasonDeepModel'0.C_Input
      end
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'10 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'7 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span16] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'10 br)
      end
  
  function deep_model'6 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'0.t_term) : Term'1.t_term
  
  use Cdsat_Trail_AssignmentDeepModel_Type as AssignmentDeepModel'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  function deep_model'5 [#"/Users/xavier/Code/cdsat/src/trail.rs" 16 31 16 40] (self : Assignment'0.t_assignment) : AssignmentDeepModel'0.t_assignmentdeepmodel
    
   =
    [%#span18] AssignmentDeepModel'0.C_AssignmentDeepModel (deep_model'6 (Cdsat_Trail_Assignment_Type.assignment_term self)) (deep_model'7 (Cdsat_Trail_Assignment_Type.assignment_val self)) (deep_model'8 (Cdsat_Trail_Assignment_Type.assignment_reason self)) (deep_model'9 (Cdsat_Trail_Assignment_Type.assignment_level self))
  
  use prelude.prelude.Borrow
  
  function deep_model'0 (self : Assignment'0.t_assignment) : AssignmentDeepModel'0.t_assignmentdeepmodel =
    [%#span19] deep_model'5 self
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Int
  
  function deep_model'4 (self : usize) : int =
    [%#span19] deep_model'9 self
  
  let rec eq'3 (self:usize) (other:usize) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span20] result = (deep_model'4 self = deep_model'4 other)} (! return' {result}) ]
    
  
  function deep_model'3 (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel =
    [%#span19] deep_model'8 self
  
  let rec eq'2 (self:Reason'0.t_reason) (rhs:Reason'0.t_reason) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span21] result = (deep_model'3 self = deep_model'3 rhs)} (! return' {result}) ]
    
  
  function deep_model'2 (self : Value'0.t_value) : Value'1.t_value =
    [%#span19] deep_model'7 self
  
  let rec eq'1 (self:Value'0.t_value) (rhs:Value'0.t_value) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span22] result = (deep_model'2 self = deep_model'2 rhs)} (! return' {result}) ]
    
  
  function deep_model'1 (self : Term'0.t_term) : Term'1.t_term =
    [%#span19] deep_model'6 self
  
  let rec eq'0 (self:Term'0.t_term) (rhs:Term'0.t_term) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span23] result = (deep_model'1 self = deep_model'1 rhs)} (! return' {result}) ]
    
  
  let rec eq (self:Assignment'0.t_assignment) (rhs:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {rhs}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_7 <- rterm'0 ] 
            s1)
      | s1 = Assignment'0.t_assignment {self}
          (fun (rterm'1:Term'0.t_term) (rval'1:Value'0.t_value) (rreason'1:Reason'0.t_reason) (rlevel'1:usize) ->
            eq'0 {rterm'1} {_7} (fun (_ret':bool) ->  [ &_4 <- _ret' ] s2))
      | s2 = bb1 ]
      
    | bb1 = any [ br0 -> {_4 = false} (! bb9) | br1 -> {_4} (! bb2) ] 
    | bb2 = s0
      [ s0 = Assignment'0.t_assignment {rhs}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_11 <- rval'0 ] 
            s1)
      | s1 = Assignment'0.t_assignment {self}
          (fun (rterm'1:Term'0.t_term) (rval'1:Value'0.t_value) (rreason'1:Reason'0.t_reason) (rlevel'1:usize) ->
            eq'1 {rval'1} {_11} (fun (_ret':bool) ->  [ &_8 <- _ret' ] s2))
      | s2 = bb3 ]
      
    | bb3 = any [ br0 -> {_8 = false} (! bb8) | br1 -> {_8} (! bb4) ] 
    | bb4 = s0
      [ s0 = Assignment'0.t_assignment {rhs}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_15 <- rreason'0 ] 
            s1)
      | s1 = Assignment'0.t_assignment {self}
          (fun (rterm'1:Term'0.t_term) (rval'1:Value'0.t_value) (rreason'1:Reason'0.t_reason) (rlevel'1:usize) ->
            eq'2 {rreason'1} {_15} (fun (_ret':bool) ->  [ &_12 <- _ret' ] s2))
      | s2 = bb5 ]
      
    | bb5 = any [ br0 -> {_12 = false} (! bb7) | br1 -> {_12} (! bb6) ] 
    | bb6 = s0
      [ s0 = Assignment'0.t_assignment {rhs}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_18 <- rlevel'0 ] 
            s1)
      | s1 = Assignment'0.t_assignment {self}
          (fun (rterm'1:Term'0.t_term) (rval'1:Value'0.t_value) (rreason'1:Reason'0.t_reason) (rlevel'1:usize) ->
            eq'3 {rlevel'1} {_18} (fun (_ret':bool) ->  [ &_0 <- _ret' ] s2))
      | s2 = bb11 ]
      
    | bb11 = bb12
    | bb7 = bb10
    | bb8 = bb10
    | bb9 = bb10
    | bb10 = s0 [ s0 =  [ &_0 <- [%#strail0] false ] s1 | s1 = bb12 ] 
    | bb12 = return' {_0} ]
    )
    [ & _0 : bool = any_l ()
    | & self : Assignment'0.t_assignment = self
    | & rhs : Assignment'0.t_assignment = rhs
    | & _4 : bool = any_l ()
    | & _7 : Term'0.t_term = any_l ()
    | & _8 : bool = any_l ()
    | & _11 : Value'0.t_value = any_l ()
    | & _12 : bool = any_l ()
    | & _15 : Reason'0.t_reason = any_l ()
    | & _18 : usize = any_l () ]
    
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail1] result = (deep_model'0 self = deep_model'0 rhs)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl15_AssertReceiverIsTotalEq
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  let rec assert_receiver_is_total_eq (self:Assignment'0.t_assignment) (return'  (ret:()))= (! bb0
    [ bb0 = return' {_0} ]
    ) [ & _0 : () = any_l () ]  [ return' (result:())-> (! return' {result}) ] 
end
module Cdsat_Trail_Impl19_AssertReceiverIsTotalEq
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  let rec assert_receiver_is_total_eq (self:Reason'0.t_reason) (return'  (ret:()))= (! bb0 [ bb0 = return' {_0} ] )
    [ & _0 : () = any_l () ]
     [ return' (result:())-> (! return' {result}) ] 
end
module Cdsat_Trail_Impl21_Fmt
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 9 66 14
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/resolve.rs" 26 20 26 34
  
  use prelude.prelude.Opaque
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Borrow
  
  use Core_Fmt_Formatter_Type as Formatter'0
  
  predicate resolve'0 (self : borrowed (Formatter'0.t_formatter)) =
    [%#span1]  ^ self =  * self
  
  use Core_Fmt_Error_Type as Error'0
  
  use Core_Result_Result_Type as Result'0
  
  let rec debug_tuple_field2_finish'0 (self:borrowed (Formatter'0.t_formatter)) (name:string) (value1:dyn) (value2:dyn) (return'  (ret:Result'0.t_result () (Error'0.t_error)))= any
    [ return' (result:Result'0.t_result () (Error'0.t_error))-> (! return' {result}) ]
    
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  let rec fmt (self:TrailIndex'0.t_trailindex) (f:borrowed (Formatter'0.t_formatter)) (return'  (ret:Result'0.t_result () (Error'0.t_error)))= (! bb0
    [ bb0 = s0
      [ s0 = Borrow.borrow_final <Formatter'0.t_formatter> { * f} {Borrow.get_id f}
          (fun (_ret':borrowed (Formatter'0.t_formatter)) ->
             [ &_3 <- _ret' ] 
             [ &f <- { f with current = ( ^ _3) ; } ] 
            s1)
      | s1 =  [ &_5 <- [%#strail0] "TrailIndex" ] s2
      | s2 = TrailIndex'0.t_trailindex {self} (fun (r0'0:usize) (r1'0:usize) ->  [ &_8 <- r0'0 ] s3)
      | s3 = TrailIndex'0.t_trailindex {self} (fun (r0'1:usize) (r1'1:usize) ->  [ &_11 <- r1'1 ] s4)
      | s4 = debug_tuple_field2_finish'0 {_3} {_5} {_6} {_9}
          (fun (_ret':Result'0.t_result () (Error'0.t_error)) ->  [ &_0 <- _ret' ] s5)
      | s5 = bb1 ]
      
    | bb1 = s0 [ s0 = -{resolve'0 f}- s1 | s1 = return' {_0} ]  ]
    )
    [ & _0 : Result'0.t_result () (Error'0.t_error) = any_l ()
    | & self : TrailIndex'0.t_trailindex = self
    | & f : borrowed (Formatter'0.t_formatter) = f
    | & _3 : borrowed (Formatter'0.t_formatter) = any_l ()
    | & _5 : string = any_l ()
    | & _6 : dyn = any_l ()
    | & _8 : usize = any_l ()
    | & _9 : dyn = any_l ()
    | & _11 : usize = any_l () ]
     [ return' (result:Result'0.t_result () (Error'0.t_error))-> (! return' {result}) ] 
end
module Cdsat_Trail_Impl23_AssertReceiverIsTotalEq
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  let rec assert_receiver_is_total_eq (self:TrailIndex'0.t_trailindex) (return'  (ret:()))= (! bb0
    [ bb0 = return' {_0} ]
    ) [ & _0 : () = any_l () ]  [ return' (result:())-> (! return' {result}) ] 
end
module Cdsat_Trail_Impl24_Clone
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 31 66 36
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/clone.rs" 7 0 20 1
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  let rec clone'0 (self:usize) (return'  (ret:usize))= any
    [ return' (result:usize)-> {[%#span1] result = self} (! return' {result}) ]
    
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  let rec clone' (self:TrailIndex'0.t_trailindex) (return'  (ret:TrailIndex'0.t_trailindex))= (! bb0
    [ bb0 = s0
      [ s0 = TrailIndex'0.t_trailindex {self} (fun (r0'0:usize) (r1'0:usize) ->  [ &_5 <- r0'0 ] s1)
      | s1 = clone'0 {_5} (fun (_ret':usize) ->  [ &_3 <- _ret' ] s2)
      | s2 = bb1 ]
      
    | bb1 = s0
      [ s0 = TrailIndex'0.t_trailindex {self} (fun (r0'0:usize) (r1'0:usize) ->  [ &_8 <- r1'0 ] s1)
      | s1 = clone'0 {_8} (fun (_ret':usize) ->  [ &_6 <- _ret' ] s2)
      | s2 = bb2 ]
      
    | bb2 = s0
      [ s0 =  [ &_0 <- TrailIndex'0.C_TrailIndex _3 _6 ] 
        (any [ any_ (_any:usize)-> (!  [ &_3 <- _any ] (any [ any_ (_any:usize)-> (!  [ &_6 <- _any ] s1) ] )) ] )
      | s1 = return' {_0} ]
       ]
    )
    [ & _0 : TrailIndex'0.t_trailindex = any_l ()
    | & self : TrailIndex'0.t_trailindex = self
    | & _3 : usize = any_l ()
    | & _5 : usize = any_l ()
    | & _6 : usize = any_l ()
    | & _8 : usize = any_l () ]
    
    [ return' (result:TrailIndex'0.t_trailindex)-> {[@expl:postcondition] [%#strail0] result = self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl4_Cmp
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 79 14 79 34
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 77 14 77 44
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span39 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span46 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span47 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span49 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span50 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span51 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span52 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span53 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span54 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span55 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span56 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span57 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span58 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span59 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span60 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span61 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/num.rs" 22 16 22 35
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/cmp.rs" 50 26 50 85
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span2] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'2 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span3] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span4] match cmp_log'2 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'2 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span5] inv'0 x)
   -> ([%#span6] inv'0 y)  -> ([%#span7] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span8] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span9] inv'0 x)  -> ([%#span10] inv'0 y)  -> ([%#span11] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span12] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span13] inv'0 x)  -> ([%#span14] inv'0 y)  -> ([%#span15] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span16] cmp_log'0 x y
  = o)
   -> ([%#span17] cmp_log'0 y z = o)
   -> ([%#span18] inv'0 x)  -> ([%#span19] inv'0 y)  -> ([%#span20] inv'0 z)  -> ([%#span21] cmp_log'0 x z = o)
  
  function refl'3 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'3_spec : forall x : TrailIndex'0.t_trailindex . ([%#span22] inv'0 x)
   -> ([%#span23] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span24] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span25] inv'0 x)
   -> ([%#span26] inv'0 y)  -> ([%#span27] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span28] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span29] inv'0 x)
   -> ([%#span30] inv'0 y)  -> ([%#span31] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span32] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span33] inv'0 x)
   -> ([%#span34] inv'0 y)  -> ([%#span35] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span36] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'3 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'3_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span37] inv'0 x)
   -> ([%#span38] inv'0 y)  -> ([%#span39] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  function eq_cmp'1 (_1 : int) (_2 : int) : ()
  
  function antisym2'1 (_1 : int) (_2 : int) : ()
  
  function antisym1'1 (_1 : int) (_2 : int) : ()
  
  function trans'1 (_1 : int) (_2 : int) (_3 : int) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'1 (_1 : int) : ()
  
  function cmp_gt_log'1 (_1 : int) (_2 : int) : ()
  
  function cmp_ge_log'1 (_1 : int) (_2 : int) : ()
  
  function cmp_lt_log'1 (_1 : int) (_2 : int) : ()
  
  function cmp_le_log'1 (_1 : int) (_2 : int) : ()
  
  function eq_cmp'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span41] ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span40] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span44] ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span42] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span43] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span47] ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span45] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span46] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span51] ()
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span48] cmp_log'0 x y
  = o)  -> ([%#span49] cmp_log'0 y z = o)  -> ([%#span50] cmp_log'0 x z = o)
  
  function refl'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span53] ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . [%#span52] cmp_log'0 x x = Ordering'0.C_Equal
  
  function cmp_gt_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span55] ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span54] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function cmp_ge_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span57] ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span56] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function cmp_lt_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span59] ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span58] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function cmp_le_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span61] ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span60] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  function cmp_log'1 (self : int) (o : int) : Ordering'0.t_ordering =
    [%#span62] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  use prelude.prelude.UIntSize
  
  function deep_model'0 (self : usize) : int =
    [%#span63] UIntSize.to_int self
  
  let rec cmp'0 (self:usize) (other:usize) (return'  (ret:Ordering'0.t_ordering))= any
    [ return' (result:Ordering'0.t_ordering)-> {[%#span64] result = cmp_log'1 (deep_model'0 self) (deep_model'0 other)}
      (! return' {result}) ]
    
  
  let rec cmp (self:TrailIndex'0.t_trailindex) (other:TrailIndex'0.t_trailindex) (return'  (ret:Ordering'0.t_ordering))= (! bb0
    [ bb0 = s0
      [ s0 = TrailIndex'0.t_trailindex {other} (fun (r0'0:usize) (r1'0:usize) ->  [ &_7 <- r0'0 ] s1)
      | s1 = TrailIndex'0.t_trailindex {self}
          (fun (r0'1:usize) (r1'1:usize) ->
            cmp'0 {r0'1} {_7} (fun (_ret':Ordering'0.t_ordering) ->  [ &_4 <- _ret' ] s2))
      | s2 = bb1 ]
      
    | bb1 = any
      [ br0 -> {_4 = Ordering'0.C_Less } (! bb3)
      | br1 -> {_4 = Ordering'0.C_Equal } (! bb5)
      | br2 -> {_4 = Ordering'0.C_Greater } (! bb4) ]
      
    | bb2 = {[%#strail0] false} any
    | bb4 = bb7
    | bb7 = s0 [ s0 =  [ &_0 <- Ordering'0.C_Greater ] s1 | s1 = bb9 ] 
    | bb5 = s0
      [ s0 = TrailIndex'0.t_trailindex {other} (fun (r0'0:usize) (r1'0:usize) ->  [ &_11 <- r1'0 ] s1)
      | s1 = TrailIndex'0.t_trailindex {self}
          (fun (r0'1:usize) (r1'1:usize) ->
            cmp'0 {r1'1} {_11} (fun (_ret':Ordering'0.t_ordering) ->  [ &_0 <- _ret' ] s2))
      | s2 = bb8 ]
      
    | bb8 = bb9
    | bb3 = bb6
    | bb6 = s0 [ s0 =  [ &_0 <- Ordering'0.C_Less ] s1 | s1 = bb9 ] 
    | bb9 = return' {_0} ]
    )
    [ & _0 : Ordering'0.t_ordering = any_l ()
    | & self : TrailIndex'0.t_trailindex = self
    | & other : TrailIndex'0.t_trailindex = other
    | & _4 : Ordering'0.t_ordering = any_l ()
    | & _7 : usize = any_l ()
    | & _11 : usize = any_l () ]
    
    [ return' (result:Ordering'0.t_ordering)-> {[@expl:postcondition] [%#strail1] result = cmp_log'0 self other}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl3_PartialCmp
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 70 14 70 50
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span24 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span25 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span26 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span27 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span29 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span30 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span32 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span33 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span35 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span36 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span38 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span46 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span47 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span49 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span50 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span51 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span52 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span53 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span54 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span55 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span56 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span57 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span58 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span59 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span60 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span61 = "/Users/xavier/Code/cdsat/src/trail.rs" 77 14 77 44
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span2] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span3] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span4] inv'0 x)
   -> ([%#span5] inv'0 y)  -> ([%#span6] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span7] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span8] inv'0 x)  -> ([%#span9] inv'0 y)  -> ([%#span10] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span11] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span12] inv'0 x)  -> ([%#span13] inv'0 y)  -> ([%#span14] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span15] cmp_log'0 x y
  = o)
   -> ([%#span16] cmp_log'0 y z = o)
   -> ([%#span17] inv'0 x)  -> ([%#span18] inv'0 y)  -> ([%#span19] inv'0 z)  -> ([%#span20] cmp_log'0 x z = o)
  
  function refl'2 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'2_spec : forall x : TrailIndex'0.t_trailindex . ([%#span21] inv'0 x)
   -> ([%#span22] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span23] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span24] inv'0 x)
   -> ([%#span25] inv'0 y)  -> ([%#span26] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span27] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span28] inv'0 x)
   -> ([%#span29] inv'0 y)  -> ([%#span30] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span32] inv'0 x)
   -> ([%#span33] inv'0 y)  -> ([%#span34] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span35] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'2 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'2_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span36] inv'0 x)
   -> ([%#span37] inv'0 y)  -> ([%#span38] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  function eq_cmp'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'1 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'1 (_1 : usize) (_2 : usize) : ()
  
  function trans'1 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'1 (_1 : usize) : ()
  
  function cmp_gt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'1 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'1 (_1 : usize) (_2 : usize) : ()
  
  function eq_cmp'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span40] ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span39] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span43] ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span41] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span42] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span46] ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span44] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span45] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span50] ()
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span47] cmp_log'0 x y
  = o)  -> ([%#span48] cmp_log'0 y z = o)  -> ([%#span49] cmp_log'0 x z = o)
  
  function refl'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span52] ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . [%#span51] cmp_log'0 x x = Ordering'0.C_Equal
  
  function cmp_gt_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span54] ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span53] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function cmp_ge_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span56] ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span55] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function cmp_lt_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span58] ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span57] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function cmp_le_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span60] ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span59] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use Core_Option_Option_Type as Option'0
  
  let rec cmp'0 (self:TrailIndex'0.t_trailindex) (other:TrailIndex'0.t_trailindex) (return'  (ret:Ordering'0.t_ordering))= any
    [ return' (result:Ordering'0.t_ordering)-> {[%#span61] result = cmp_log'0 self other} (! return' {result}) ]
    
  
  let rec partial_cmp (self:TrailIndex'0.t_trailindex) (other:TrailIndex'0.t_trailindex) (return'  (ret:Option'0.t_option (Ordering'0.t_ordering)))= (! bb0
    [ bb0 = s0 [ s0 = cmp'0 {self} {other} (fun (_ret':Ordering'0.t_ordering) ->  [ &_4 <- _ret' ] s1) | s1 = bb1 ] 
    | bb1 = s0
      [ s0 =  [ &_0 <- Option'0.C_Some _4 ] (any [ any_ (_any:Ordering'0.t_ordering)-> (!  [ &_4 <- _any ] s1) ] )
      | s1 = return' {_0} ]
       ]
    )
    [ & _0 : Option'0.t_option (Ordering'0.t_ordering) = any_l ()
    | & self : TrailIndex'0.t_trailindex = self
    | & other : TrailIndex'0.t_trailindex = other
    | & _4 : Ordering'0.t_ordering = any_l () ]
    
    [ return' (result:Option'0.t_option (Ordering'0.t_ordering))-> {[@expl:postcondition] [%#strail0] result
      = Option'0.C_Some (cmp_log'0 self other)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl9_LemmaAbsJust_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 349 15 349 38
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 350 4 350 105
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 351 14 351 81
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 348 14 348 24
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span14 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span21 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span42 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span43 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span44 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span45 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span46 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span47 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span48 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span49 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span50 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span51 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span52 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span53 = "/Users/xavier/Code/cdsat/src/trail.rs" 331 4 331 16
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'6 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span13] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span14] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span15] inv'4 self)
   -> ([%#span17] inv'5 (shallow_model'1 self))
  && ([%#span16] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span18] inv'5 (shallow_model'1 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'4 x = true
  
  predicate invariant'4 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span13] true
  
  predicate inv'3 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'3 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span15] inv'2 self)
   -> ([%#span17] inv'3 (shallow_model'0 self))
  && ([%#span16] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'3 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span18] inv'3 (shallow_model'0 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'2 x
  = true
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'1 (self : TrailIndex'0.t_trailindex) =
    [%#span13] true
  
  predicate inv'1 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'1 : forall x : TrailIndex'0.t_trailindex . inv'1 x = true
  
  predicate invariant'0 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span13] true
  
  predicate inv'0 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'0 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'0 x = true
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span19] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span20] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#strail4] inv'0 s)
   -> ([%#strail5] inv'1 e)
   -> ([%#strail11] inv'0 (remove'0 s e))
  && ([%#strail10] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#strail9] contains'1 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#strail8] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'1 (remove'0 s e) t  -> t <> e)
  && ([%#strail7] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'1 (remove'0 s e) t  -> contains'1 s t)
  && ([%#strail6] forall t : TrailIndex'0.t_trailindex . inv'1 t
   -> contains'1 s t  -> e <> t  -> contains'1 (remove'0 s e) t)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span21] Fset.add e self
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span22] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span23] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span25] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span26] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span27] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'3 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span28] Fset.mem e self
  
  use set.Fset
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span29] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span36] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span30] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span34] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'3 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span33] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'1 just ix /\ a = index_logic'0 self ix))
  && ([%#span32] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span31] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  use Core_Option_Option_Type as Option'0
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span37] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span38] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  predicate invariant'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span39] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span40] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'2 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span41] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span44] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span43] level'0 self <= len'0 self)
  && ([%#span42] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span45] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span46] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span50] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span49] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span48] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span47] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  predicate contains'2 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span52] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'2_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span51] invariant_assign'0 self
   -> contains'2 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  use prelude.prelude.Snapshot
  
  predicate trail_extension'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 332 4 332 45] (self : Trail'0.t_trail) (o : Trail'0.t_trail)
    
   =
    [%#span53] if Cdsat_Trail_Trail_Type.trail_level self <= Cdsat_Trail_Trail_Type.trail_level o then
      (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix  -> index_logic'0 self ix = index_logic'0 o ix)
      /\ (forall kv : (Term'0.t_term, Value'0.t_value) . contains'2 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) kv
       -> find'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) kv
      = find'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost o)) kv)
    else
      (forall ix : TrailIndex'0.t_trailindex . contains'0 o ix  -> index_logic'0 self ix = index_logic'0 o ix)
      /\ (forall kv : (Term'0.t_term, Value'0.t_value) . contains'2 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost o)) kv
       -> find'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost o)) kv
      = find'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) kv)
    
  
  constant self  : Trail'0.t_trail
  
  constant o  : Trail'0.t_trail
  
  constant just  : Seq.seq (TrailIndex'0.t_trailindex)
  
  function lemma_abs_just [#"/Users/xavier/Code/cdsat/src/trail.rs" 352 4 352 59] (self : Trail'0.t_trail) (o : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_lemma_abs_just : ([%#strail1] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'0 self (Seq.get just i) /\ contains'0 o (Seq.get just i))
   -> ([%#strail0] trail_extension'0 self o)
   -> match Seq.length just = 0 with
    | True -> [%#strail2] abstract_justification'0 self just = abstract_justification'0 o just
    | False -> (([%#strail5] inv'1 (Seq.get just 0)) && ([%#strail4] inv'0 just))
    /\ (([%#strail11] inv'0 (remove'0 just (Seq.get just 0)))
    && ([%#strail10] Seq.length (remove'0 just (Seq.get just 0)) <= Seq.length just)
    && ([%#strail9] contains'1 just (Seq.get just 0)  -> Seq.length (remove'0 just (Seq.get just 0)) < Seq.length just)
    && ([%#strail8] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'1 (remove'0 just (Seq.get just 0)) t  -> t <> Seq.get just 0)
    && ([%#strail7] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'1 (remove'0 just (Seq.get just 0)) t  -> contains'1 just t)
    && ([%#strail6] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'1 just t  -> Seq.get just 0 <> t  -> contains'1 (remove'0 just (Seq.get just 0)) t)
     -> ((([%#strail1] forall i : int . 0 <= i /\ i < Seq.length (remove'0 just (Seq.get just 0))
     -> contains'0 self (Seq.get (remove'0 just (Seq.get just 0)) i)
    /\ contains'0 o (Seq.get (remove'0 just (Seq.get just 0)) i))
    && ([%#strail0] trail_extension'0 self o))
    /\ 0 <= ([%#strail3] Seq.length just)
    /\ ([%#strail3] Seq.length (remove'0 just (Seq.get just 0))) < ([%#strail3] Seq.length just))
    /\ (([%#strail2] abstract_justification'0 self (remove'0 just (Seq.get just 0))
    = abstract_justification'0 o (remove'0 just (Seq.get just 0)))
     -> ([%#strail2] abstract_justification'0 self just = abstract_justification'0 o just)))
    end
end
module Cdsat_Trail_Impl9_Level
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  let rec level (self:Trail'0.t_trail) (return'  (ret:usize))= (! bb0
    [ bb0 = s0
      [ s0 = Trail'0.t_trail {self}
          (fun (rassignments'0:Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (rlevel'0:usize) (rghost'0:Snapshot.snap_ty (Trail'1.t_trail)) (rnum_assign'0:usize) ->
             [ &_0 <- rlevel'0 ] 
            s1)
      | s1 = return' {_0} ]
       ]
    ) [ & _0 : usize = any_l () | & self : Trail'0.t_trail = self ]  [ return' (result:usize)-> (! return' {result}) ] 
end
module Cdsat_Trail_Impl12_Level
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 728 14 728 34
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec level (self:Assignment'0.t_assignment) (return'  (ret:usize))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_0 <- rlevel'0 ] 
            s1)
      | s1 = return' {_0} ]
       ]
    ) [ & _0 : usize = any_l () | & self : Assignment'0.t_assignment = self ] 
    [ return' (result:usize)-> {[@expl:postcondition] [%#strail0] result
      = Cdsat_Trail_Assignment_Type.assignment_level self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_IsRational
  let%span smod0 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/macros/mod.rs" 459 17 459 22
  
  let%span smod1 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/macros/mod.rs" 458 38 458 42
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 740 8 741 86
  
  let%span span3 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span5 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span6 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 90 8 90 31
  
  let%span span8 = "/Users/xavier/Code/cdsat/src/term.rs" 293 14 293 41
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  use Cdsat_Term_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Theory_Sort_Type as Sort'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'1.t_value) : Sort'1.t_sort =
    [%#span3] match self with
      | Value'1.C_Bool _ -> Sort'1.C_Boolean
      | Value'1.C_Rat _ -> Sort'1.C_Rational
      end
  
  predicate is_bool'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'1.t_value) =
    [%#span4] sort'0 self = Sort'1.C_Boolean
  
  use prelude.prelude.Real
  
  function deep_model'1 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span5] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'1 br)
      end
  
  function shallow_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span6] deep_model'0 self
  
  function shallow_model'0 (self : Value'0.t_value) : Value'1.t_value =
    [%#span7] shallow_model'1 self
  
  let rec is_bool'0 (self:Value'0.t_value) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span8] result = is_bool'1 (shallow_model'0 self)} (! return' {result}) ]
    
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec is_rational (self:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
            is_bool'0 {rval'0} (fun (_ret':bool) ->  [ &_2 <- _ret' ] s1))
      | s1 = bb1 ]
      
    | bb1 = any [ br0 -> {_2 = false} (! bb3) | br1 -> {_2} (! bb2) ] 
    | bb2 = Assignment'0.t_assignment {self}
        (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
          any
          [ br0 (a:usize) (b:Sort'0.t_sort)-> {rterm'0 = Term'0.C_Variable a b} (! bb4)
          | br1 (a:Value'0.t_value)-> {rterm'0 = Term'0.C_Value a} (! bb4)
          | br2 (a:Term'0.t_term) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Plus a b} (! bb5)
          | br3 (a:Ratio'0.t_ratio (BigInt'0.t_bigint)) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Times a b} (! bb4)
          | br4 (a:Term'0.t_term) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Eq a b} (! bb5)
          | br5 (a:Term'0.t_term) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Lt a b} (! bb5)
          | br6 (a:Term'0.t_term) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Conj a b} (! bb4)
          | br7 (a:Term'0.t_term)-> {rterm'0 = Term'0.C_Neg a} (! bb4)
          | br8 (a:Term'0.t_term) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Disj a b} (! bb4)
          | br9 (a:Term'0.t_term) (b:Term'0.t_term)-> {rterm'0 = Term'0.C_Impl a b} (! bb4) ]
          )
    | bb4 = s0 [ s0 =  [ &_0 <- [%#smod0] false ] s1 | s1 = bb7 ] 
    | bb5 = bb6
    | bb6 = s0 [ s0 =  [ &_0 <- [%#smod1] true ] s1 | s1 = bb7 ] 
    | bb3 = s0 [ s0 =  [ &_0 <- [%#strail2] true ] s1 | s1 = bb7 ] 
    | bb7 = return' {_0} ]
    ) [ & _0 : bool = any_l () | & self : Assignment'0.t_assignment = self | & _2 : bool = any_l () ] 
    [ return' (result:bool)-> (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_IsJustified
  let%span smod0 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/macros/mod.rs" 459 17 459 22
  
  let%span smod1 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/macros/mod.rs" 458 38 458 42
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 749 14 749 75
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Intrinsic
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec is_justified (self:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = Assignment'0.t_assignment {self}
        (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
          any
          [ br0 (a:Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))-> {rreason'0 = Reason'0.C_Justified a}
            (! bb2)
          | br1 -> {rreason'0 = Reason'0.C_Decision } (! bb1)
          | br2 -> {rreason'0 = Reason'0.C_Input } (! bb1) ]
          )
    | bb1 = s0 [ s0 =  [ &_0 <- [%#smod0] false ] s1 | s1 = bb4 ] 
    | bb2 = bb3
    | bb3 = s0 [ s0 =  [ &_0 <- [%#smod1] true ] s1 | s1 = bb4 ] 
    | bb4 = return' {_0} ]
    ) [ & _0 : bool = any_l () | & self : Assignment'0.t_assignment = self ] 
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail2] result
      = (exists j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . Cdsat_Trail_Assignment_Type.assignment_reason self
      = Reason'0.C_Justified j)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_IsInput
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 759 14 759 54
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 18 33 22
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 30 14 30 56
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 31 4 32 53
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 4 33 44
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 16 48 25
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'1 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span1] true
  
  predicate inv'1 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'1 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'1 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'0 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span3] inv'0 self)
   -> ([%#span5] inv'1 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span6] inv'1 (shallow_model'0 self)
  
  axiom inv'0 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'0 x = true
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Intrinsic
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use prelude.prelude.Borrow
  
  function deep_model'3 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span7] self
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span8] Seq.get (shallow_model'0 self) ix
  
  function deep_model'2 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom deep_model'2_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span9] inv'0 self)
   -> ([%#span12] inv'1 (deep_model'2 self))
  && ([%#span11] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 self)
   -> Seq.get (deep_model'2 self) i = deep_model'3 (index_logic'0 self i))
  && ([%#span10] Seq.length (shallow_model'0 self) = Seq.length (deep_model'2 self))
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40] (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel
    
   =
    [%#span13] match self with
      | Reason'0.C_Justified v0_1 -> ReasonDeepModel'0.C_Justified (deep_model'2 v0_1)
      | Reason'0.C_Decision -> ReasonDeepModel'0.C_Decision
      | Reason'0.C_Input -> ReasonDeepModel'0.C_Input
      end
  
  function deep_model'0 (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel =
    [%#span14] deep_model'1 self
  
  let rec eq'0 (self:Reason'0.t_reason) (rhs:Reason'0.t_reason) (return'  (ret:bool))= any
    [ return' (result:bool)-> {[%#span15] result = (deep_model'0 self = deep_model'0 rhs)} (! return' {result}) ]
    
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec promoted0 (return'  (ret:Reason'0.t_reason))= bb0
    [ bb0 = s0 [ s0 =  [ &_1 <- Reason'0.C_Input ] s1 | s1 =  [ &_0 <- _1 ] s2 | s2 = return' {_0} ]  ]
     [ & _0 : Reason'0.t_reason = any_l () | & _1 : Reason'0.t_reason = any_l () ] 
    [ return' (result:Reason'0.t_reason)-> return' {result} ]
    
  
  let rec is_input (self:Assignment'0.t_assignment) (return'  (ret:bool))= (! bb0
    [ bb0 = s0
      [ s0 = promoted0 (fun (pr0:Reason'0.t_reason) ->  [ &_6 <- pr0 ] s1)
      | s1 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
            eq'0 {rreason'0} {_6} (fun (_ret':bool) ->  [ &_0 <- _ret' ] s2))
      | s2 = bb1 ]
      
    | bb1 = return' {_0} ]
    ) [ & _0 : bool = any_l () | & self : Assignment'0.t_assignment = self | & _6 : Reason'0.t_reason = any_l () ] 
    [ return' (result:bool)-> {[@expl:postcondition] [%#strail0] result
      = (Cdsat_Trail_Assignment_Type.assignment_reason self = Reason'0.C_Input)}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_Value
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 764 14 764 33
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec value (self:Assignment'0.t_assignment) (return'  (ret:Value'0.t_value))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_3 <- rval'0 ] 
            s1)
      | s1 =  [ &_0 <- _3 ] s2
      | s2 = return' {_0} ]
       ]
    )
    [ & _0 : Value'0.t_value = any_l ()
    | & self : Assignment'0.t_assignment = self
    | & _3 : Value'0.t_value = any_l () ]
    
    [ return' (result:Value'0.t_value)-> {[@expl:postcondition] [%#strail0] result
      = Cdsat_Trail_Assignment_Type.assignment_val self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_Impl12_Term
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 769 14 769 34
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Term_Term_Type as Term'0
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  let rec term (self:Assignment'0.t_assignment) (return'  (ret:Term'0.t_term))= (! bb0
    [ bb0 = s0
      [ s0 = Assignment'0.t_assignment {self}
          (fun (rterm'0:Term'0.t_term) (rval'0:Value'0.t_value) (rreason'0:Reason'0.t_reason) (rlevel'0:usize) ->
             [ &_3 <- rterm'0 ] 
            s1)
      | s1 =  [ &_0 <- _3 ] s2
      | s2 = return' {_0} ]
       ]
    ) [ & _0 : Term'0.t_term = any_l () | & self : Assignment'0.t_assignment = self | & _3 : Term'0.t_term = any_l () ] 
    [ return' (result:Term'0.t_term)-> {[@expl:postcondition] [%#strail0] result
      = Cdsat_Trail_Assignment_Type.assignment_term self}
      (! return' {result}) ]
    
end
module Cdsat_Trail_SeqToSet_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 794 0 794 58
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 795 0 795 58
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 796 10 796 64
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 792 10 792 17
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span strail9 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span strail10 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span strail11 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span strail12 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span14 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span16 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span19 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span20 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span22 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span23 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span28 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 779 0 779 79
  
  let%span span31 = "/Users/xavier/Code/cdsat/src/trail.rs" 780 0 780 102
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 778 10 778 17
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 776 0 776 8
  
  let%span span34 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span37 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span40 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span41 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  use seq.Seq
  
  predicate invariant'5 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span13] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span14] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span15] inv'4 self)
   -> ([%#span17] inv'5 (shallow_model'1 self))
  && ([%#span16] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'4 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span18] inv'5 (shallow_model'1 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'4 x = true
  
  predicate invariant'3 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span13] true
  
  predicate inv'3 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'3 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span15] inv'2 self)
   -> ([%#span17] inv'3 (shallow_model'0 self))
  && ([%#span16] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'2 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span18] inv'3 (shallow_model'0 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'2 x
  = true
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'1 (self : TrailIndex'0.t_trailindex) =
    [%#span13] true
  
  predicate inv'1 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'1 : forall x : TrailIndex'0.t_trailindex . inv'1 x = true
  
  predicate invariant'0 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span13] true
  
  predicate inv'0 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'0 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'0 x = true
  
  use set.Fset
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (a : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span19] Fset.remove a self
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'0 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span20] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'0_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'0 s e
  = ([%#span21] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'0 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'0_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#strail4] inv'0 s)
   -> ([%#strail5] inv'1 e)
   -> ([%#strail11] inv'0 (remove'0 s e))
  && ([%#strail10] Seq.length (remove'0 s e) <= Seq.length s)
  && ([%#strail9] contains'0 s e  -> Seq.length (remove'0 s e) < Seq.length s)
  && ([%#strail8] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'0 (remove'0 s e) t  -> t <> e)
  && ([%#strail7] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'0 (remove'0 s e) t  -> contains'0 s t)
  && ([%#strail6] forall t : TrailIndex'0.t_trailindex . inv'1 t
   -> contains'0 s t  -> e <> t  -> contains'0 (remove'0 s e) t)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use Cdsat_Theory_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'0
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span22] Fset.add e self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'3 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span23] Fset.mem e self
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span24] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span25] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span27] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span28] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span29] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex)
   =
    [%#span23] Fset.mem e self
  
  function ix_to_abs'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 781 0 781 93] (t : Trail'0.t_trail) (s : Fset.fset (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom ix_to_abs'0_def : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ix_to_abs'0 t s
  = ([%#span33] if s = (Fset.empty  : Fset.fset (TrailIndex'0.t_trailindex)) then
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  else
    let a = Fset.pick s in insert'0 (ix_to_abs'0 t (remove'1 s a)) (index_logic'0 t a)
  )
  
  axiom ix_to_abs'0_spec : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ([%#span31] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (ix_to_abs'0 t s) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 s ix))
  && ([%#span30] forall ix : TrailIndex'0.t_trailindex . contains'1 s ix
   -> contains'3 (ix_to_abs'0 t s) (index_logic'0 t ix))
  
  use set.Fset
  
  predicate contains'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span34] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span41] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'0 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span35] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'2 self (Seq.get just i))
   -> ([%#span39] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'3 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span38] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 just ix /\ a = index_logic'0 self ix))
  && ([%#span37] forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'2 self ix /\ a = index_logic'0 self ix))
  && ([%#span36] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  constant trail  : Trail'0.t_trail
  
  constant s  : Seq.seq (TrailIndex'0.t_trailindex)
  
  constant t  : Fset.fset (TrailIndex'0.t_trailindex)
  
  function seq_to_set [#"/Users/xavier/Code/cdsat/src/trail.rs" 797 0 797 79] (trail : Trail'0.t_trail) (s : Seq.seq (TrailIndex'0.t_trailindex)) (t : Fset.fset (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_seq_to_set : ([%#strail1] forall i : TrailIndex'0.t_trailindex . contains'1 t i  -> contains'0 s i)
   -> ([%#strail0] forall i : TrailIndex'0.t_trailindex . contains'0 s i  -> contains'1 t i)
   -> match s = (Seq.empty : Seq.seq (TrailIndex'0.t_trailindex)) with
    | True -> [%#strail2] abstract_justification'0 trail s = ix_to_abs'0 trail t
    | False -> let a = Seq.get s 0 in (([%#strail5] inv'1 a) && ([%#strail4] inv'0 s))
    /\ (([%#strail11] inv'0 (remove'0 s a))
    && ([%#strail10] Seq.length (remove'0 s a) <= Seq.length s)
    && ([%#strail9] contains'0 s a  -> Seq.length (remove'0 s a) < Seq.length s)
    && ([%#strail8] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'0 (remove'0 s a) t  -> t <> a)
    && ([%#strail7] forall t : TrailIndex'0.t_trailindex . inv'1 t  -> contains'0 (remove'0 s a) t  -> contains'0 s t)
    && ([%#strail6] forall t : TrailIndex'0.t_trailindex . inv'1 t
     -> contains'0 s t  -> a <> t  -> contains'0 (remove'0 s a) t)
     -> ((([%#strail1] forall i : TrailIndex'0.t_trailindex . contains'1 (remove'1 t a) i
     -> contains'0 (remove'0 s a) i)
    && ([%#strail0] forall i : TrailIndex'0.t_trailindex . contains'0 (remove'0 s a) i  -> contains'1 (remove'1 t a) i))
    /\ 0 <= ([%#strail3] Seq.length s) /\ ([%#strail3] Seq.length (remove'0 s a)) < ([%#strail3] Seq.length s))
    /\ (([%#strail2] abstract_justification'0 trail (remove'0 s a) = ix_to_abs'0 trail (remove'1 t a))
     -> ([%#strail2] abstract_justification'0 trail s = ix_to_abs'0 trail t)))
    end
end
module Cdsat_Trail_IxToAbsRemove_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 875 11 875 24
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 876 11 876 24
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 877 0 877 58
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 878 10 878 79
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 874 10 874 17
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 779 0 779 79
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 780 0 780 102
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 778 10 778 17
  
  let%span sfset8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 105 18 105 22
  
  let%span sfset9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 105 24 105 29
  
  let%span sfset10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 104 4 104 40
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span40 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span43 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span45 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span76 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span77 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 109 8 111 9
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span81 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span82 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span83 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span84 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span87 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/trail.rs" 776 0 776 8
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span92 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span163 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span166 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'12 (self : TrailIndex'0.t_trailindex) =
    [%#span11] true
  
  predicate inv'9 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'9 : forall x : TrailIndex'0.t_trailindex . inv'9 x = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span12] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span13] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span15] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span14] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span18] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span16] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span17] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span21] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span19] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span20] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span25] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span22] cmp_log'0 x y
  = o)  -> ([%#span23] cmp_log'0 y z = o)  -> ([%#span24] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span27] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span26] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span28] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span30] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span29] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span33] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span32] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span34] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span36] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span35] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span37] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span39] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span38] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use seq.Seq
  
  predicate invariant'11 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span11] true
  
  predicate inv'8 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'8 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'8 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span40] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'7 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'4 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'4_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span41] inv'7 self)
   -> ([%#span43] inv'8 (shallow_model'4 self))
  && ([%#span42] Seq.length (shallow_model'4 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'10 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span44] inv'8 (shallow_model'4 self)
  
  axiom inv'7 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'7 x = true
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span45] inv'9 x)
   -> ([%#span46] inv'9 y)  -> ([%#span47] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span48] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span49] inv'9 x)  -> ([%#span50] inv'9 y)  -> ([%#span51] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span52] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span53] inv'9 x)  -> ([%#span54] inv'9 y)  -> ([%#span55] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span56] cmp_log'0 x y
  = o)
   -> ([%#span57] cmp_log'0 y z = o)
   -> ([%#span58] inv'9 x)  -> ([%#span59] inv'9 y)  -> ([%#span60] inv'9 z)  -> ([%#span61] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span62] inv'9 x)
   -> ([%#span63] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span64] inv'9 x)
   -> ([%#span65] inv'9 y)  -> ([%#span66] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span67] inv'9 x)
   -> ([%#span68] inv'9 y)  -> ([%#span69] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span70] inv'9 x)
   -> ([%#span71] inv'9 y)  -> ([%#span72] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span73] inv'9 x)
   -> ([%#span74] inv'9 y)  -> ([%#span75] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span76] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'9 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span77] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'6 (_x : Model'0.t_model)
  
  axiom inv'6 : forall x : Model'0.t_model . inv'6 x
  = (invariant'9 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'8 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span11] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span41] inv'4 self)
   -> ([%#span43] inv'5 (shallow_model'1 self))
  && ([%#span42] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'7 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span44] inv'5 (shallow_model'1 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'4 x = true
  
  predicate invariant'6 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span11] true
  
  predicate inv'3 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'3 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span41] inv'2 self)
   -> ([%#span43] inv'3 (shallow_model'0 self))
  && ([%#span42] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span44] inv'3 (shallow_model'0 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'2 x
  = true
  
  use Cdsat_Theory_Term_Type as Term'0
  
  predicate invariant'4 (self : (Term'0.t_term, Value'0.t_value)) =
    [%#span11] true
  
  predicate inv'1 (_x : (Term'0.t_term, Value'0.t_value))
  
  axiom inv'1 : forall x : (Term'0.t_term, Value'0.t_value) . inv'1 x = true
  
  use set.Fset
  
  predicate invariant'2 (self : Fset.fset (Term'0.t_term, Value'0.t_value)) =
    [%#span11] true
  
  predicate inv'0 (_x : Fset.fset (Term'0.t_term, Value'0.t_value))
  
  axiom inv'0 : forall x : Fset.fset (Term'0.t_term, Value'0.t_value) . inv'0 x = true
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span78] Fset.mem e self
  
  predicate ext_eq'0 (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (other : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span79] forall e : (Term'0.t_term, Value'0.t_value) . inv'1 e  -> contains'2 self e = contains'2 other e
  
  axiom ext_eq'0_spec : forall self : Fset.fset (Term'0.t_term, Value'0.t_value), other : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#sfset8] inv'0 self)
   -> ([%#sfset9] inv'0 other)  -> ([%#sfset10] ext_eq'0 self other  -> self = other)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span80] Fset.remove a self
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span81] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span82] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span84] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span85] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span86] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span87] Fset.add e self
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (a : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span80] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex)
   =
    [%#span78] Fset.mem e self
  
  function ix_to_abs'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 781 0 781 93] (t : Trail'0.t_trail) (s : Fset.fset (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom ix_to_abs'0_def : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ix_to_abs'0 t s
  = ([%#span88] if s = (Fset.empty  : Fset.fset (TrailIndex'0.t_trailindex)) then
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  else
    let a = Fset.pick s in insert'0 (ix_to_abs'0 t (remove'0 s a)) (index_logic'0 t a)
  )
  
  axiom ix_to_abs'0_spec : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ([%#strail6] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t s) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 s ix))
  && ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'1 s ix
   -> contains'2 (ix_to_abs'0 t s) (index_logic'0 t ix))
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span89] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span90] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span91] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span92] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'2_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'2 s e
  = ([%#span102] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'2 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'2 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'2_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span93] inv'8 s)
   -> ([%#span94] inv'9 e)
   -> ([%#span100] inv'8 (remove'2 s e))
  && ([%#span99] Seq.length (remove'2 s e) <= Seq.length s)
  && ([%#span98] contains'4 s e  -> Seq.length (remove'2 s e) < Seq.length s)
  && ([%#span97] forall t : TrailIndex'0.t_trailindex . inv'9 t  -> contains'4 (remove'2 s e) t  -> t <> e)
  && ([%#span96] forall t : TrailIndex'0.t_trailindex . inv'9 t  -> contains'4 (remove'2 s e) t  -> contains'4 s t)
  && ([%#span95] forall t : TrailIndex'0.t_trailindex . inv'9 t
   -> contains'4 s t  -> e <> t  -> contains'4 (remove'2 s e) t)
  
  use set.Fset
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span109] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'2 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'0 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span103] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span107] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span106] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'4 just ix /\ a = index_logic'0 self ix))
  && ([%#span105] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span104] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span110] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span111] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'3 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span112] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span115] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span114] level'0 self <= len'0 self)
  && ([%#span113] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span116] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span117] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span121] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span120] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span119] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span118] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span124] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span122] inv'6 self)
   -> ([%#span123] invariant'9 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span125] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span126] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span127] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'6 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span129] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'3_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span128] invariant_assign'0 self
   -> contains'3 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span130] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span131] sound'0 self)
   -> ([%#span132] contains'3 self kv)
   -> ([%#span133] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span134] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span135] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span136] invariant'9 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span137] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span138] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span141] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span139] is_bool'0 self)
   -> ([%#span140] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span142] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'3 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'3 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span143] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'2 j a  -> contains'3 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span146] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span144] invariant_nonneg'0 self)
   -> ([%#span145] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span147] invariant_nonneg'0 self)
   -> ([%#span152] set_level'0 self s <= level'0 self)
  && ([%#span151] set_level'0 self s >= 0)
  && ([%#span150] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span149] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'2 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span148] forall i : (Term'0.t_term, Value'0.t_value) . contains'2 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span154] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span155] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span156] invariant'1 self)
   -> ([%#span157] is_justified'0 self d)
   -> ([%#span158] sound'0 self)
   -> ([%#span161] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span160] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span159] forall m : Model'0.t_model . inv'6 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span162] (forall i : TrailIndex'0.t_trailindex . contains'4 (shallow_model'4 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'4 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span163] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span163] Seq.get (shallow_model'0 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span164] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'3 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span165] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span166] Seq.get (shallow_model'0 self) ix
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span167] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span168] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span169] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'1 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  constant t  : Trail'0.t_trail
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant s  : Fset.fset (TrailIndex'0.t_trailindex)
  
  function ix_to_abs_remove [#"/Users/xavier/Code/cdsat/src/trail.rs" 879 0 879 76] (t : Trail'0.t_trail) (x : TrailIndex'0.t_trailindex) (s : Fset.fset (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_ix_to_abs_remove : ([%#strail2] forall i : TrailIndex'0.t_trailindex . contains'1 s i  -> contains'0 t i)
   -> ([%#strail1] contains'0 t x)
   -> ([%#strail0] invariant'0 t)
   -> ([%#strail6] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t (remove'0 s x)) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 (remove'0 s x) ix))
  && ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'1 (remove'0 s x) ix
   -> contains'2 (ix_to_abs'0 t (remove'0 s x)) (index_logic'0 t ix))
   -> ([%#strail6] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t s) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 s ix))
  && ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'1 s ix
   -> contains'2 (ix_to_abs'0 t s) (index_logic'0 t ix))
   -> (([%#sfset9] inv'0 (remove'1 (ix_to_abs'0 t s) (index_logic'0 t x)))
  && ([%#sfset8] inv'0 (ix_to_abs'0 t (remove'0 s x))))
  /\ (([%#sfset10] ext_eq'0 (ix_to_abs'0 t (remove'0 s x)) (remove'1 (ix_to_abs'0 t s) (index_logic'0 t x))
   -> ix_to_abs'0 t (remove'0 s x) = remove'1 (ix_to_abs'0 t s) (index_logic'0 t x))
   -> ext_eq'0 (ix_to_abs'0 t (remove'0 s x)) (remove'1 (ix_to_abs'0 t s) (index_logic'0 t x))
  && (let _ = () in [%#strail3] ix_to_abs'0 t (remove'0 s x) = remove'1 (ix_to_abs'0 t s) (index_logic'0 t x)))
end
module Cdsat_Trail_IxToAbsInsert_Impl
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 888 11 888 24
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 889 11 889 24
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 890 0 890 58
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 891 10 891 79
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 887 10 887 17
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 779 0 779 79
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 780 0 780 102
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 778 10 778 17
  
  let%span sfset8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 105 18 105 22
  
  let%span sfset9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 105 24 105 29
  
  let%span sfset10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 104 4 104 40
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 146 14 146 59
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/trail.rs" 144 4 144 10
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/trail.rs" 140 15 140 48
  
  let%span span17 = "/Users/xavier/Code/cdsat/src/trail.rs" 141 14 141 44
  
  let%span span18 = "/Users/xavier/Code/cdsat/src/trail.rs" 138 4 138 10
  
  let%span span19 = "/Users/xavier/Code/cdsat/src/trail.rs" 134 15 134 45
  
  let%span span20 = "/Users/xavier/Code/cdsat/src/trail.rs" 135 14 135 47
  
  let%span span21 = "/Users/xavier/Code/cdsat/src/trail.rs" 132 4 132 10
  
  let%span span22 = "/Users/xavier/Code/cdsat/src/trail.rs" 127 15 127 32
  
  let%span span23 = "/Users/xavier/Code/cdsat/src/trail.rs" 128 15 128 32
  
  let%span span24 = "/Users/xavier/Code/cdsat/src/trail.rs" 129 14 129 31
  
  let%span span25 = "/Users/xavier/Code/cdsat/src/trail.rs" 125 4 125 10
  
  let%span span26 = "/Users/xavier/Code/cdsat/src/trail.rs" 122 14 122 45
  
  let%span span27 = "/Users/xavier/Code/cdsat/src/trail.rs" 120 4 120 10
  
  let%span span28 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  let%span span29 = "/Users/xavier/Code/cdsat/src/trail.rs" 117 14 117 64
  
  let%span span30 = "/Users/xavier/Code/cdsat/src/trail.rs" 115 4 115 10
  
  let%span span31 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span32 = "/Users/xavier/Code/cdsat/src/trail.rs" 112 14 112 61
  
  let%span span33 = "/Users/xavier/Code/cdsat/src/trail.rs" 110 4 110 10
  
  let%span span34 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span35 = "/Users/xavier/Code/cdsat/src/trail.rs" 107 14 107 61
  
  let%span span36 = "/Users/xavier/Code/cdsat/src/trail.rs" 105 4 105 10
  
  let%span span37 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span38 = "/Users/xavier/Code/cdsat/src/trail.rs" 102 14 102 64
  
  let%span span39 = "/Users/xavier/Code/cdsat/src/trail.rs" 100 4 100 10
  
  let%span span40 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span41 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span42 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span43 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span44 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span45 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 14 70 15
  
  let%span span46 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 70 23 70 24
  
  let%span span47 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 69 14 69 59
  
  let%span span48 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 64 15 64 48
  
  let%span span49 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 16 66 17
  
  let%span span50 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 66 25 66 26
  
  let%span span51 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 65 14 65 44
  
  let%span span52 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 59 15 59 45
  
  let%span span53 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 16 61 17
  
  let%span span54 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 61 25 61 26
  
  let%span span55 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 60 14 60 47
  
  let%span span56 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 53 15 53 32
  
  let%span span57 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 54 15 54 32
  
  let%span span58 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 13 56 14
  
  let%span span59 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 22 56 23
  
  let%span span60 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 56 31 56 32
  
  let%span span61 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 55 14 55 31
  
  let%span span62 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 50 12 50 13
  
  let%span span63 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 49 14 49 45
  
  let%span span64 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 18 46 19
  
  let%span span65 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 46 27 46 28
  
  let%span span66 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 45 14 45 64
  
  let%span span67 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 18 36 19
  
  let%span span68 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 36 27 36 28
  
  let%span span69 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 35 14 35 61
  
  let%span span70 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 18 26 19
  
  let%span span71 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 26 27 26 28
  
  let%span span72 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 25 14 25 61
  
  let%span span73 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 18 16 19
  
  let%span span74 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 16 27 16 28
  
  let%span span75 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 15 14 15 64
  
  let%span span76 = "/Users/xavier/Code/cdsat/src/theory.rs" 88 8 91 9
  
  let%span span77 = "/Users/xavier/Code/cdsat/src/theory.rs" 157 8 159 9
  
  let%span span78 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 16 8 16 26
  
  let%span span79 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 109 8 111 9
  
  let%span span80 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 31 8 31 26
  
  let%span span81 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span82 = "/Users/xavier/Code/cdsat/src/term.rs" 251 8 251 25
  
  let%span span83 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span84 = "/Users/xavier/Code/cdsat/src/term.rs" 171 8 171 25
  
  let%span span85 = "/Users/xavier/Code/cdsat/src/trail.rs" 725 8 725 61
  
  let%span span86 = "/Users/xavier/Code/cdsat/src/trail.rs" 645 8 647 9
  
  let%span span87 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/fset.rs" 53 8 53 26
  
  let%span span88 = "/Users/xavier/Code/cdsat/src/trail.rs" 776 0 776 8
  
  let%span span89 = "/Users/xavier/Code/cdsat/src/trail.rs" 291 12 291 92
  
  let%span span90 = "/Users/xavier/Code/cdsat/src/theory.rs" 17 8 25 9
  
  let%span span91 = "/Users/xavier/Code/cdsat/src/theory.rs" 31 8 54 9
  
  let%span span92 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/seq.rs" 129 8 129 78
  
  let%span span93 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 13 813 14
  
  let%span span94 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 24 813 25
  
  let%span span95 = "/Users/xavier/Code/cdsat/src/trail.rs" 808 0 808 73
  
  let%span span96 = "/Users/xavier/Code/cdsat/src/trail.rs" 809 0 809 63
  
  let%span span97 = "/Users/xavier/Code/cdsat/src/trail.rs" 810 0 810 55
  
  let%span span98 = "/Users/xavier/Code/cdsat/src/trail.rs" 811 0 811 52
  
  let%span span99 = "/Users/xavier/Code/cdsat/src/trail.rs" 812 10 812 33
  
  let%span span100 = "/Users/xavier/Code/cdsat/src/trail.rs" 813 33 813 39
  
  let%span span101 = "/Users/xavier/Code/cdsat/src/trail.rs" 807 10 807 17
  
  let%span span102 = "/Users/xavier/Code/cdsat/src/trail.rs" 806 0 806 8
  
  let%span span103 = "/Users/xavier/Code/cdsat/src/trail.rs" 313 4 313 82
  
  let%span span104 = "/Users/xavier/Code/cdsat/src/trail.rs" 314 14 314 40
  
  let%span span105 = "/Users/xavier/Code/cdsat/src/trail.rs" 315 4 315 115
  
  let%span span106 = "/Users/xavier/Code/cdsat/src/trail.rs" 316 4 316 115
  
  let%span span107 = "/Users/xavier/Code/cdsat/src/trail.rs" 317 4 317 101
  
  let%span span108 = "/Users/xavier/Code/cdsat/src/trail.rs" 312 14 312 24
  
  let%span span109 = "/Users/xavier/Code/cdsat/src/trail.rs" 310 4 310 12
  
  let%span span110 = "/Users/xavier/Code/cdsat/src/theory.rs" 122 8 126 9
  
  let%span span111 = "/Users/xavier/Code/cdsat/src/theory.rs" 346 8 349 9
  
  let%span span112 = "/Users/xavier/Code/cdsat/src/theory.rs" 610 14 610 25
  
  let%span span113 = "/Users/xavier/Code/cdsat/src/theory.rs" 597 14 597 25
  
  let%span span114 = "/Users/xavier/Code/cdsat/src/theory.rs" 598 14 598 34
  
  let%span span115 = "/Users/xavier/Code/cdsat/src/theory.rs" 601 8 605 9
  
  let%span span116 = "/Users/xavier/Code/cdsat/src/theory.rs" 337 8 340 9
  
  let%span span117 = "/Users/xavier/Code/cdsat/src/theory.rs" 132 8 136 9
  
  let%span span118 = "/Users/xavier/Code/cdsat/src/theory.rs" 465 14 468 5
  
  let%span span119 = "/Users/xavier/Code/cdsat/src/theory.rs" 469 4 469 111
  
  let%span span120 = "/Users/xavier/Code/cdsat/src/theory.rs" 470 4 470 104
  
  let%span span121 = "/Users/xavier/Code/cdsat/src/theory.rs" 472 8 481 9
  
  let%span span122 = "/Users/xavier/Code/cdsat/src/theory.rs" 167 18 167 22
  
  let%span span123 = "/Users/xavier/Code/cdsat/src/theory.rs" 166 4 166 62
  
  let%span span124 = "/Users/xavier/Code/cdsat/src/theory.rs" 168 8 188 9
  
  let%span span125 = "/Users/xavier/Code/cdsat/src/theory.rs" 194 8 194 31
  
  let%span span126 = "/Users/xavier/Code/cdsat/src/theory.rs" 200 8 200 71
  
  let%span span127 = "/Users/xavier/Code/cdsat/src/theory.rs" 142 8 147 9
  
  let%span span128 = "/Users/xavier/Code/cdsat/src/theory.rs" 417 4 417 87
  
  let%span span129 = "/Users/xavier/Code/cdsat/src/theory.rs" 419 8 422 9
  
  let%span span130 = "/Users/xavier/Code/cdsat/src/theory.rs" 262 8 265 9
  
  let%span span131 = "/Users/xavier/Code/cdsat/src/theory.rs" 619 15 619 27
  
  let%span span132 = "/Users/xavier/Code/cdsat/src/theory.rs" 620 15 620 32
  
  let%span span133 = "/Users/xavier/Code/cdsat/src/theory.rs" 621 4 621 90
  
  let%span span134 = "/Users/xavier/Code/cdsat/src/theory.rs" 514 8 517 9
  
  let%span span135 = "/Users/xavier/Code/cdsat/src/theory.rs" 524 8 527 9
  
  let%span span136 = "/Users/xavier/Code/cdsat/src/theory.rs" 206 8 206 84
  
  let%span span137 = "/Users/xavier/Code/cdsat/src/theory.rs" 504 8 507 9
  
  let%span span138 = "/Users/xavier/Code/cdsat/src/theory.rs" 82 8 82 36
  
  let%span span139 = "/Users/xavier/Code/cdsat/src/theory.rs" 96 15 96 29
  
  let%span span140 = "/Users/xavier/Code/cdsat/src/theory.rs" 97 14 97 30
  
  let%span span141 = "/Users/xavier/Code/cdsat/src/theory.rs" 99 8 102 9
  
  let%span span142 = "/Users/xavier/Code/cdsat/src/theory.rs" 374 8 382 9
  
  let%span span143 = "/Users/xavier/Code/cdsat/src/theory.rs" 355 8 368 9
  
  let%span span144 = "/Users/xavier/Code/cdsat/src/theory.rs" 406 15 406 38
  
  let%span span145 = "/Users/xavier/Code/cdsat/src/theory.rs" 407 14 407 51
  
  let%span span146 = "/Users/xavier/Code/cdsat/src/theory.rs" 409 8 412 9
  
  let%span span147 = "/Users/xavier/Code/cdsat/src/theory.rs" 281 15 281 38
  
  let%span span148 = "/Users/xavier/Code/cdsat/src/theory.rs" 282 4 282 74
  
  let%span span149 = "/Users/xavier/Code/cdsat/src/theory.rs" 283 4 283 94
  
  let%span span150 = "/Users/xavier/Code/cdsat/src/theory.rs" 284 4 284 48
  
  let%span span151 = "/Users/xavier/Code/cdsat/src/theory.rs" 285 14 285 25
  
  let%span span152 = "/Users/xavier/Code/cdsat/src/theory.rs" 286 14 286 36
  
  let%span span153 = "/Users/xavier/Code/cdsat/src/theory.rs" 280 14 280 21
  
  let%span span154 = "/Users/xavier/Code/cdsat/src/theory.rs" 321 8 331 9
  
  let%span span155 = "/Users/xavier/Code/cdsat/src/theory.rs" 388 8 392 38
  
  let%span span156 = "/Users/xavier/Code/cdsat/src/theory.rs" 486 15 486 31
  
  let%span span157 = "/Users/xavier/Code/cdsat/src/theory.rs" 487 15 487 35
  
  let%span span158 = "/Users/xavier/Code/cdsat/src/theory.rs" 488 15 488 27
  
  let%span span159 = "/Users/xavier/Code/cdsat/src/theory.rs" 489 4 489 54
  
  let%span span160 = "/Users/xavier/Code/cdsat/src/theory.rs" 490 4 490 58
  
  let%span span161 = "/Users/xavier/Code/cdsat/src/theory.rs" 491 4 491 61
  
  let%span span162 = "/Users/xavier/Code/cdsat/src/trail.rs" 268 8 272 9
  
  let%span span163 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  let%span span164 = "/Users/xavier/Code/cdsat/src/trail.rs" 546 4 546 12
  
  let%span span165 = "/Users/xavier/Code/cdsat/src/trail.rs" 254 8 263 9
  
  let%span span166 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span167 = "/Users/xavier/Code/cdsat/src/trail.rs" 179 4 179 12
  
  let%span span168 = "/Users/xavier/Code/cdsat/src/trail.rs" 279 12 283 13
  
  let%span span169 = "/Users/xavier/Code/cdsat/src/trail.rs" 238 8 248 9
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function eq_cmp'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym2'2 (_1 : usize) (_2 : usize) : ()
  
  function antisym1'2 (_1 : usize) (_2 : usize) : ()
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function trans'2 (_1 : usize) (_2 : usize) (_3 : usize) (_4 : Ordering'0.t_ordering) : ()
  
  function refl'2 (_1 : usize) : ()
  
  function cmp_gt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_ge_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_lt_log'2 (_1 : usize) (_2 : usize) : ()
  
  function cmp_le_log'2 (_1 : usize) (_2 : usize) : ()
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'12 (self : TrailIndex'0.t_trailindex) =
    [%#span11] true
  
  predicate inv'9 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'9 : forall x : TrailIndex'0.t_trailindex . inv'9 x = true
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span12] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span13] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function eq_cmp'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span15] ()
  
  axiom eq_cmp'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span14] (x = y)
  = (cmp_log'0 x y = Ordering'0.C_Equal)
  
  function antisym2'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span18] ()
  
  axiom antisym2'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span16] cmp_log'0 x y
  = Ordering'0.C_Greater)  -> ([%#span17] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span21] ()
  
  axiom antisym1'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span19] cmp_log'0 x y
  = Ordering'0.C_Less)  -> ([%#span20] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
   =
    [%#span25] ()
  
  axiom trans'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span22] cmp_log'0 x y
  = o)  -> ([%#span23] cmp_log'0 y z = o)  -> ([%#span24] cmp_log'0 x z = o)
  
  function refl'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20] (x : TrailIndex'0.t_trailindex) : () =
    [%#span27] ()
  
  axiom refl'1_spec : forall x : TrailIndex'0.t_trailindex . [%#span26] cmp_log'0 x x = Ordering'0.C_Equal
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span28] cmp_log'0 self o = Ordering'0.C_Greater
  
  function cmp_gt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span30] ()
  
  axiom cmp_gt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span29] gt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Greater)
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span31] cmp_log'0 self o <> Ordering'0.C_Less
  
  function cmp_ge_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span33] ()
  
  axiom cmp_ge_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span32] ge_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Less)
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span34] cmp_log'0 self o = Ordering'0.C_Less
  
  function cmp_lt_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span36] ()
  
  axiom cmp_lt_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span35] lt_log'0 x y
  = (cmp_log'0 x y = Ordering'0.C_Less)
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span37] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function cmp_le_log'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35] (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
    
   =
    [%#span39] ()
  
  axiom cmp_le_log'1_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . [%#span38] le_log'0 x y
  = (cmp_log'0 x y <> Ordering'0.C_Greater)
  
  use seq.Seq
  
  predicate invariant'11 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span11] true
  
  predicate inv'8 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'8 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'8 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  constant max'0 : usize = [%#span40] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'7 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'4 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'4_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span41] inv'7 self)
   -> ([%#span43] inv'8 (shallow_model'4 self))
  && ([%#span42] Seq.length (shallow_model'4 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'10 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span44] inv'8 (shallow_model'4 self)
  
  axiom inv'7 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'7 x = true
  
  function eq_cmp'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom eq_cmp'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span45] inv'9 x)
   -> ([%#span46] inv'9 y)  -> ([%#span47] (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  function antisym2'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym2'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span48] cmp_log'0 x y
  = Ordering'0.C_Greater)
   -> ([%#span49] inv'9 x)  -> ([%#span50] inv'9 y)  -> ([%#span51] cmp_log'0 y x = Ordering'0.C_Less)
  
  function antisym1'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom antisym1'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span52] cmp_log'0 x y
  = Ordering'0.C_Less)
   -> ([%#span53] inv'9 x)  -> ([%#span54] inv'9 y)  -> ([%#span55] cmp_log'0 y x = Ordering'0.C_Greater)
  
  function trans'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) (z : TrailIndex'0.t_trailindex) (o : Ordering'0.t_ordering) : ()
    
  
  axiom trans'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex, z : TrailIndex'0.t_trailindex, o : Ordering'0.t_ordering . ([%#span56] cmp_log'0 x y
  = o)
   -> ([%#span57] cmp_log'0 y z = o)
   -> ([%#span58] inv'9 x)  -> ([%#span59] inv'9 y)  -> ([%#span60] inv'9 z)  -> ([%#span61] cmp_log'0 x z = o)
  
  function refl'0 (x : TrailIndex'0.t_trailindex) : ()
  
  axiom refl'0_spec : forall x : TrailIndex'0.t_trailindex . ([%#span62] inv'9 x)
   -> ([%#span63] cmp_log'0 x x = Ordering'0.C_Equal)
  
  function cmp_gt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_gt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span64] inv'9 x)
   -> ([%#span65] inv'9 y)  -> ([%#span66] gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  function cmp_ge_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_ge_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span67] inv'9 x)
   -> ([%#span68] inv'9 y)  -> ([%#span69] ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  function cmp_lt_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_lt_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span70] inv'9 x)
   -> ([%#span71] inv'9 y)  -> ([%#span72] lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  function cmp_le_log'0 (x : TrailIndex'0.t_trailindex) (y : TrailIndex'0.t_trailindex) : ()
  
  axiom cmp_le_log'0_spec : forall x : TrailIndex'0.t_trailindex, y : TrailIndex'0.t_trailindex . ([%#span73] inv'9 x)
   -> ([%#span74] inv'9 y)  -> ([%#span75] le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  use Cdsat_Theory_Sort_Type as Sort'0
  
  use Cdsat_Theory_Value_Type as Value'0
  
  function sort'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 87 4 87 29] (self : Value'0.t_value) : Sort'0.t_sort =
    [%#span76] match self with
      | Value'0.C_Bool _ -> Sort'0.C_Boolean
      | Value'0.C_Rat _ -> Sort'0.C_Rational
      end
  
  use Cdsat_Theory_Var_Type as Cdsat_Theory_Var_Type
  
  use map.Map
  
  use Cdsat_Theory_Model_Type as Cdsat_Theory_Model_Type
  
  use Cdsat_Theory_Var_Type as Var'0
  
  use Cdsat_Theory_Model_Type as Model'0
  
  predicate invariant'9 [#"/Users/xavier/Code/cdsat/src/theory.rs" 156 4 156 30] (self : Model'0.t_model) =
    [%#span77] forall v : Value'0.t_value . forall k : Var'0.t_var . Map.get (Cdsat_Theory_Model_Type.model_0 self) k
    = v  -> Cdsat_Theory_Var_Type.var_1 k = sort'1 v
  
  predicate inv'6 (_x : Model'0.t_model)
  
  axiom inv'6 : forall x : Model'0.t_model . inv'6 x
  = (invariant'9 x
  /\ match x with
    | Model'0.C_Model a_0 -> true
    end)
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'8 (self : Seq.seq (Assignment'0.t_assignment)) =
    [%#span11] true
  
  predicate inv'5 (_x : Seq.seq (Assignment'0.t_assignment))
  
  axiom inv'5 : forall x : Seq.seq (Assignment'0.t_assignment) . inv'5 x = true
  
  use seq.Seq
  
  predicate inv'4 (_x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
  
  function shallow_model'1 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) : Seq.seq (Assignment'0.t_assignment)
    
  
  axiom shallow_model'1_spec : forall self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . ([%#span41] inv'4 self)
   -> ([%#span43] inv'5 (shallow_model'1 self))
  && ([%#span42] Seq.length (shallow_model'1 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'7 (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) =
    [%#span44] inv'5 (shallow_model'1 self)
  
  axiom inv'4 : forall x : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global) . inv'4 x = true
  
  predicate invariant'6 (self : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))) =
    [%#span11] true
  
  predicate inv'3 (_x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)))
  
  axiom inv'3 : forall x : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) . inv'3 x = true
  
  use seq.Seq
  
  predicate inv'2 (_x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) : Seq.seq (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global))
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . ([%#span41] inv'2 self)
   -> ([%#span43] inv'3 (shallow_model'0 self))
  && ([%#span42] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'5 (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global))
    
   =
    [%#span44] inv'3 (shallow_model'0 self)
  
  axiom inv'2 : forall x : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global) . inv'2 x
  = true
  
  use Cdsat_Theory_Term_Type as Term'0
  
  predicate invariant'4 (self : (Term'0.t_term, Value'0.t_value)) =
    [%#span11] true
  
  predicate inv'1 (_x : (Term'0.t_term, Value'0.t_value))
  
  axiom inv'1 : forall x : (Term'0.t_term, Value'0.t_value) . inv'1 x = true
  
  use set.Fset
  
  predicate invariant'2 (self : Fset.fset (Term'0.t_term, Value'0.t_value)) =
    [%#span11] true
  
  predicate inv'0 (_x : Fset.fset (Term'0.t_term, Value'0.t_value))
  
  axiom inv'0 : forall x : Fset.fset (Term'0.t_term, Value'0.t_value) . inv'0 x = true
  
  use set.Fset
  
  predicate contains'2 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span78] Fset.mem e self
  
  predicate ext_eq'0 (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (other : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span79] forall e : (Term'0.t_term, Value'0.t_value) . inv'1 e  -> contains'2 self e = contains'2 other e
  
  axiom ext_eq'0_spec : forall self : Fset.fset (Term'0.t_term, Value'0.t_value), other : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#sfset8] inv'0 self)
   -> ([%#sfset9] inv'0 other)  -> ([%#sfset10] ext_eq'0 self other  -> self = other)
  
  use Cdsat_Trail_Trail_Type as Trail'0
  
  use set.Fset
  
  use set.Fset
  
  function insert'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (e : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span80] Fset.add e self
  
  use prelude.prelude.Borrow
  
  use Cdsat_Term_Value_Type as Value'1
  
  use Cdsat_Term_Term_Type as Term'1
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'2 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span81] match self with
      | Value'1.C_Bool b -> Value'0.C_Bool b
      | Value'1.C_Rat br -> Value'0.C_Rat (deep_model'2 br)
      end
  
  function shallow_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 250 4 250 50] (self : Value'1.t_value) : Value'0.t_value
    
   =
    [%#span82] deep_model'1 self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'1.t_term) : Term'0.t_term
  
  function shallow_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 170 4 170 50] (self : Term'1.t_term) : Term'0.t_term
   =
    [%#span84] deep_model'0 self
  
  function term_value'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 724 4 724 61] (self : Assignment'0.t_assignment) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span85] (shallow_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self), shallow_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self))
  
  use seq.Seq
  
  use seq.Seq
  
  use Cdsat_Trail_Trail_Type as Cdsat_Trail_Trail_Type
  
  function index_logic'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 644 4 644 77] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span86] term_value'0 (Seq.get (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)))) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)))
  
  use set.Fset
  
  function remove'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (a : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span87] Fset.remove a self
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  use set.Fset
  
  predicate contains'1 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex)
   =
    [%#span78] Fset.mem e self
  
  function ix_to_abs'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 781 0 781 93] (t : Trail'0.t_trail) (s : Fset.fset (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom ix_to_abs'0_def : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ix_to_abs'0 t s
  = ([%#span88] if s = (Fset.empty  : Fset.fset (TrailIndex'0.t_trailindex)) then
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  else
    let a = Fset.pick s in insert'1 (ix_to_abs'0 t (remove'0 s a)) (index_logic'0 t a)
  )
  
  axiom ix_to_abs'0_spec : forall t : Trail'0.t_trail, s : Fset.fset (TrailIndex'0.t_trailindex) . ([%#strail6] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t s) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 s ix))
  && ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'1 s ix
   -> contains'2 (ix_to_abs'0 t s) (index_logic'0 t ix))
  
  use set.Fset
  
  function insert'0 [@inline:trivial] (self : Fset.fset (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Fset.fset (TrailIndex'0.t_trailindex)
    
   =
    [%#span80] Fset.add e self
  
  predicate contains'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 289 4 289 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex)
    
   =
    [%#span89] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)
    < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
    /\ UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix)
    < Seq.length (shallow_model'1 (Seq.get (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))))
  
  use Cdsat_Theory_Trail_Type as Trail'1
  
  function sort'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 16 4 16 29] (self : Term'0.t_term) : Sort'0.t_sort =
    [%#span90] match self with
      | Term'0.C_Variable v -> Cdsat_Theory_Var_Type.var_1 v
      | Term'0.C_Value v -> sort'1 v
      | Term'0.C_Plus _ _ -> Sort'0.C_Rational
      | Term'0.C_Eq _ _ -> Sort'0.C_Boolean
      | Term'0.C_Conj _ _ -> Sort'0.C_Boolean
      | Term'0.C_Neg _ -> Sort'0.C_Boolean
      | Term'0.C_Disj _ _ -> Sort'0.C_Boolean
      end
  
  function well_sorted'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 30 4 30 36] (self : Term'0.t_term) : bool =
    [%#span91] match self with
      | Term'0.C_Variable v -> true
      | Term'0.C_Value v -> true
      | Term'0.C_Plus l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Rational
      | Term'0.C_Eq l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r
      | Term'0.C_Conj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Disj l r -> well_sorted'0 l /\ well_sorted'0 r /\ sort'0 l = sort'0 r /\ sort'0 r = Sort'0.C_Boolean
      | Term'0.C_Neg t -> well_sorted'0 t /\ sort'0 t = Sort'0.C_Boolean
      end
  
  use seq.Seq
  
  use prelude.seq_ext.SeqExt
  
  use seq.Seq
  
  use seq.Seq
  
  predicate contains'4 (self : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) =
    [%#span92] exists i : int . 0 <= i /\ i < Seq.length self /\ Seq.get self i = e
  
  function remove'2 [#"/Users/xavier/Code/cdsat/src/trail.rs" 813 0 813 39] (s : Seq.seq (TrailIndex'0.t_trailindex)) (e : TrailIndex'0.t_trailindex) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom remove'2_def : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . remove'2 s e
  = ([%#span102] if s = (Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)) then
    Seq.empty  : Seq.seq (TrailIndex'0.t_trailindex)
  else
    if Seq.get s (Seq.length s - 1) = e then
      remove'2 (SeqExt.subsequence s 0 (Seq.length s - 1)) e
    else
      Seq.snoc (remove'2 (SeqExt.subsequence s 0 (Seq.length s - 1)) e) (Seq.get s (Seq.length s - 1))
    
  )
  
  axiom remove'2_spec : forall s : Seq.seq (TrailIndex'0.t_trailindex), e : TrailIndex'0.t_trailindex . ([%#span93] inv'8 s)
   -> ([%#span94] inv'9 e)
   -> ([%#span100] inv'8 (remove'2 s e))
  && ([%#span99] Seq.length (remove'2 s e) <= Seq.length s)
  && ([%#span98] contains'4 s e  -> Seq.length (remove'2 s e) < Seq.length s)
  && ([%#span97] forall t : TrailIndex'0.t_trailindex . inv'9 t  -> contains'4 (remove'2 s e) t  -> t <> e)
  && ([%#span96] forall t : TrailIndex'0.t_trailindex . inv'9 t  -> contains'4 (remove'2 s e) t  -> contains'4 s t)
  && ([%#span95] forall t : TrailIndex'0.t_trailindex . inv'9 t
   -> contains'4 s t  -> e <> t  -> contains'4 (remove'2 s e) t)
  
  use set.Fset
  
  function abstract_justification'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 318 4 321 44] (self : Trail'0.t_trail) (just : Seq.seq (TrailIndex'0.t_trailindex)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom abstract_justification'0_def : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . abstract_justification'0 self just
  = ([%#span109] if Seq.length just > 0 then
    let set = abstract_justification'0 self (remove'2 just (Seq.get just 0)) in let a = index_logic'0 self (Seq.get just 0) in insert'1 set a
  else
    Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)
  )
  
  axiom abstract_justification'0_spec : forall self : Trail'0.t_trail, just : Seq.seq (TrailIndex'0.t_trailindex) . ([%#span103] forall i : int . 0
  <= i
  /\ i < Seq.length just  -> contains'0 self (Seq.get just i))
   -> ([%#span107] forall i : int . 0 <= i /\ i < Seq.length just
   -> contains'2 (abstract_justification'0 self just) (index_logic'0 self (Seq.get just i)))
  && ([%#span106] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'4 just ix /\ a = index_logic'0 self ix))
  && ([%#span105] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (abstract_justification'0 self just) a
   -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix /\ a = index_logic'0 self ix))
  && ([%#span104] Fset.cardinal (abstract_justification'0 self just) <= Seq.length just)
  
  use prelude.prelude.Int
  
  use Cdsat_Theory_Assign_Type as Assign'0
  
  predicate invariant'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 121 4 121 34] (self : Assign'0.t_assign) =
    [%#span110] match self with
      | Assign'0.C_Decision t v -> sort'0 t = sort'1 v
      | Assign'0.C_Justified _ t v -> sort'0 t = sort'1 v /\ sort'0 t = Sort'0.C_Boolean
      | Assign'0.C_Input t v -> sort'0 t = sort'1 v
      end
  
  predicate invariant_assign'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 345 4 345 41] (self : Trail'1.t_trail) =
    [%#span111] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_assign'0 tl /\ invariant'3 a
      end
  
  function len'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 611 4 611 27] (self : Trail'1.t_trail) : int
  
  axiom len'0_spec : forall self : Trail'1.t_trail . [%#span112] len'0 self >= 0
  
  function level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 600 4 600 29] (self : Trail'1.t_trail) : int =
    [%#span115] match self with
      | Trail'1.C_Empty -> 0
      | Trail'1.C_Assign (Assign'0.C_Decision _ _) _ tl -> 1 + level'0 tl
      | Trail'1.C_Assign _ _ tl -> level'0 tl
      end
  
  axiom level'0_spec : forall self : Trail'1.t_trail . ([%#span114] level'0 self <= len'0 self)
  && ([%#span113] level'0 self >= 0)
  
  predicate invariant_nonneg'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 336 4 336 41] (self : Trail'1.t_trail) =
    [%#span116] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_nonneg'0 tl /\ l >= 0 /\ l <= level'0 self
      end
  
  function to_pair'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 131 4 131 41] (self : Assign'0.t_assign) : (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span117] match self with
      | Assign'0.C_Decision t val' -> (t, val')
      | Assign'0.C_Input t val' -> (t, val')
      | Assign'0.C_Justified _ t val' -> (t, val')
      end
  
  use Core_Option_Option_Type as Option'0
  
  function find'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 471 4 471 64] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Option'0.t_option (Assign'0.t_assign, int)
    
   =
    [%#span121] match self with
      | Trail'1.C_Empty -> Option'0.C_None
      | Trail'1.C_Assign a l tl -> if to_pair'0 a = d then Option'0.C_Some (a, l) else find'0 tl d
      end
  
  axiom find'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span120] invariant_assign'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)))
  && ([%#span119] invariant_nonneg'0 self
   -> (forall p : (Assign'0.t_assign, int) . find'0 self d = Option'0.C_Some p
   -> (let (_, a) = p in a) >= 0 /\ (let (_, a) = p in a) <= level'0 self))
  && ([%#span118] match find'0 self d with
    | Option'0.C_Some (a, l) -> to_pair'0 a = d
    | _ -> true
    end)
  
  function from_int'0 (_1 : int) : Real.real
  
  function interp'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 167 4 167 41] (self : Model'0.t_model) (t : Term'0.t_term) : Value'0.t_value
    
   =
    [%#span124] match t with
      | Term'0.C_Variable v -> Map.get (Cdsat_Theory_Model_Type.model_0 self) v
      | Term'0.C_Value v -> v
      | Term'0.C_Plus l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Rat r1, Value'0.C_Rat r2) -> Value'0.C_Rat r1
        | _ -> Value'0.C_Rat (from_int'0 (- 1))
        end
      | Term'0.C_Conj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 /\ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Disj l r -> match (interp'0 self l, interp'0 self r) with
        | (Value'0.C_Bool b1, Value'0.C_Bool b2) -> Value'0.C_Bool (b1 \/ b2)
        | _ -> Value'0.C_Bool false
        end
      | Term'0.C_Eq l r -> Value'0.C_Bool (interp'0 self l = interp'0 self r)
      | Term'0.C_Neg t -> match interp'0 self t with
        | Value'0.C_Bool b -> Value'0.C_Bool (not b)
        | _ -> Value'0.C_Bool false
        end
      end
  
  axiom interp'0_spec : forall self : Model'0.t_model, t : Term'0.t_term . ([%#span122] inv'6 self)
   -> ([%#span123] invariant'9 self  -> sort'1 (interp'0 self t) = sort'0 t)
  
  predicate satisfies'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 193 4 193 52] (self : Model'0.t_model) (v : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span125] interp'0 self (let (a, _) = v in a) = (let (_, a) = v in a)
  
  predicate satisfy_set'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 199 4 199 60] (self : Model'0.t_model) (v : Fset.fset (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span126] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 v a  -> satisfies'0 self a
  
  predicate justified_sound'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 141 4 141 40] (self : Assign'0.t_assign) =
    [%#span127] match self with
      | Assign'0.C_Justified just t val' -> forall m : Model'0.t_model . inv'6 m
       -> satisfy_set'0 m just  -> satisfies'0 m (t, val')
      | _ -> true
      end
  
  predicate contains'3 [#"/Users/xavier/Code/cdsat/src/theory.rs" 418 4 418 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span129] match find'0 self d with
      | Option'0.C_Some ix -> true
      | Option'0.C_None -> false
      end
  
  axiom contains'3_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . [%#span128] invariant_assign'0 self
   -> contains'3 self d = true  -> sort'0 (let (a, _) = d in a) = sort'1 (let (_, a) = d in a)
  
  predicate sound'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 261 4 261 30] (self : Trail'1.t_trail)
   =
    [%#span130] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a _ tl -> sound'0 tl /\ justified_sound'0 a
      end
  
  function find_justified'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 622 4 622 46] (self : Trail'1.t_trail) (kv : (Term'0.t_term, Value'0.t_value)) : ()
    
  
  axiom find_justified'0_spec : forall self : Trail'1.t_trail, kv : (Term'0.t_term, Value'0.t_value) . ([%#span131] sound'0 self)
   -> ([%#span132] contains'3 self kv)
   -> ([%#span133] forall l : int . forall a : Assign'0.t_assign . find'0 self kv = Option'0.C_Some (a, l)
   -> justified_sound'0 a)
  
  predicate is_decision'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 513 4 513 54] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span134] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Decision _ _, _) -> true
      | _ -> false
      end
  
  predicate is_input'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 523 4 523 51] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span135] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Input _ _, _) -> true
      | _ -> false
      end
  
  predicate entails'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 205 4 205 74] (self : Model'0.t_model) (j : Fset.fset (Term'0.t_term, Value'0.t_value)) (c : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span136] invariant'9 self  -> satisfy_set'0 self j  -> satisfies'0 self c
  
  predicate is_justified'0 [@inline:trivial] [#"/Users/xavier/Code/cdsat/src/theory.rs" 503 4 503 55] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value))
    
   =
    [%#span137] match find'0 self d with
      | Option'0.C_Some (Assign'0.C_Justified _ _ _, _) -> true
      | _ -> false
      end
  
  predicate is_bool'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 81 4 81 32] (self : Value'0.t_value) =
    [%#span138] sort'1 self = Sort'0.C_Boolean
  
  function negate'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 98 4 98 31] (self : Value'0.t_value) : Value'0.t_value =
    [%#span141] match self with
      | Value'0.C_Bool b -> Value'0.C_Bool (not b)
      | _ -> self
      end
  
  axiom negate'0_spec : forall self : Value'0.t_value . ([%#span139] is_bool'0 self)
   -> ([%#span140] is_bool'0 (negate'0 self))
  
  predicate trail_unique'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 373 4 373 37] (self : Trail'1.t_trail) =
    [%#span142] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> let ap = to_pair'0 a in not contains'3 tl ap
      /\ trail_unique'0 tl
      /\ (if is_bool'0 (let (_, a) = ap in a) then
        not contains'3 tl ((let (a, _) = ap in a), negate'0 (let (_, a) = ap in a))
      else
        true
      )
      end
  
  predicate invariant_contains'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 354 4 354 43] (self : Trail'1.t_trail) =
    [%#span143] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_contains'0 tl
      /\ match a with
        | Assign'0.C_Justified j _ _ -> forall a : (Term'0.t_term, Value'0.t_value) . contains'2 j a  -> contains'3 tl a
        | _ -> true
        end
      end
  
  use set.Fset
  
  function remove'1 [@inline:trivial] (self : Fset.fset (Term'0.t_term, Value'0.t_value)) (a : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
   =
    [%#span87] Fset.remove a self
  
  use set.Fset
  
  function level_of'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 408 4 408 50] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : int
    
   =
    [%#span146] match find'0 self d with
      | Option'0.C_Some (_, l) -> l
      | Option'0.C_None -> 0
      end
  
  axiom level_of'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span144] invariant_nonneg'0 self)
   -> ([%#span145] level_of'0 self d >= 0 /\ level_of'0 self d <= level'0 self)
  
  function set_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 287 4 287 57] (self : Trail'1.t_trail) (s : Fset.fset (Term'0.t_term, Value'0.t_value)) : int
    
  
  axiom set_level'0_spec : forall self : Trail'1.t_trail, s : Fset.fset (Term'0.t_term, Value'0.t_value) . ([%#span147] invariant_nonneg'0 self)
   -> ([%#span152] set_level'0 self s <= level'0 self)
  && ([%#span151] set_level'0 self s >= 0)
  && ([%#span150] s = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))  -> set_level'0 self s = 0)
  && ([%#span149] s <> (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value))
   -> (exists i : (Term'0.t_term, Value'0.t_value) . contains'2 s i /\ level_of'0 self i = set_level'0 self s))
  && ([%#span148] forall i : (Term'0.t_term, Value'0.t_value) . contains'2 s i
   -> level_of'0 self i <= set_level'0 self s)
  
  predicate invariant_level'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 320 4 320 40] (self : Trail'1.t_trail) =
    [%#span154] match self with
      | Trail'1.C_Empty -> true
      | Trail'1.C_Assign a l tl -> invariant_level'0 tl
      /\ match a with
        | Assign'0.C_Input _ _ -> l = 0
        | Assign'0.C_Decision _ _ -> level'0 tl + 1 = l
        | Assign'0.C_Justified j _ _ -> set_level'0 tl j = l
        end
      end
  
  predicate invariant'1 [#"/Users/xavier/Code/cdsat/src/theory.rs" 387 4 387 34] (self : Trail'1.t_trail) =
    [%#span155] invariant_level'0 self
    /\ invariant_contains'0 self /\ trail_unique'0 self /\ invariant_nonneg'0 self /\ invariant_assign'0 self
  
  function justification'0 [#"/Users/xavier/Code/cdsat/src/theory.rs" 492 4 492 71] (self : Trail'1.t_trail) (d : (Term'0.t_term, Value'0.t_value)) : Fset.fset (Term'0.t_term, Value'0.t_value)
    
  
  axiom justification'0_spec : forall self : Trail'1.t_trail, d : (Term'0.t_term, Value'0.t_value) . ([%#span156] invariant'1 self)
   -> ([%#span157] is_justified'0 self d)
   -> ([%#span158] sound'0 self)
   -> ([%#span161] is_decision'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span160] is_input'0 self d
   -> justification'0 self d = (Fset.empty  : Fset.fset (Term'0.t_term, Value'0.t_value)))
  && ([%#span159] forall m : Model'0.t_model . inv'6 m  -> entails'0 m (justification'0 self d) d)
  
  use prelude.prelude.Snapshot
  
  predicate justified_correct'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 267 4 267 78] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) (j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
    
   =
    [%#span162] (forall i : TrailIndex'0.t_trailindex . contains'4 (shallow_model'4 j) i
     -> lt_log'0 i ix /\ contains'0 self i)
    /\ is_justified'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ justification'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = abstract_justification'0 self (shallow_model'4 j)
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  function index_logic'3 [@inline:trivial] (self : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (ix : usize) : Assignment'0.t_assignment
    
   =
    [%#span163] Seq.get (shallow_model'1 self) (UIntSize.to_int ix)
  
  function index_logic'2 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : usize) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span163] Seq.get (shallow_model'0 self) (UIntSize.to_int ix)
  
  function reason'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 548 4 548 49] (self : Trail'0.t_trail) (ix : TrailIndex'0.t_trailindex) : Reason'0.t_reason
    
   =
    [%#span164] Cdsat_Trail_Assignment_Type.assignment_reason (index_logic'3 (index_logic'2 (Cdsat_Trail_Trail_Type.trail_assignments self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix)) (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix))
  
  predicate justified_is_justified'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 253 4 253 47] (self : Trail'0.t_trail) =
    [%#span165] forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (let reason = reason'0 self ix in (reason = Reason'0.C_Decision)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (reason = Reason'0.C_Input)
    = is_input'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    /\ (forall j : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . reason = Reason'0.C_Justified j
     -> justified_correct'0 self ix j))
  
  function index_logic'1 [@inline:trivial] (self : Vec'0.t_vec (Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)) (Global'0.t_global)) (ix : int) : Vec'0.t_vec (Assignment'0.t_assignment) (Global'0.t_global)
    
   =
    [%#span166] Seq.get (shallow_model'0 self) ix
  
  function level_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 180 4 180 33] (self : TrailIndex'0.t_trailindex) : int
   =
    [%#span167] UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 self)
  
  predicate abstract_relation'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 277 4 277 42] (self : Trail'0.t_trail) =
    [%#span168] (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix)
    = UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_0 ix))
    /\ (forall a : (Term'0.t_term, Value'0.t_value) . contains'3 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
     -> (exists ix : TrailIndex'0.t_trailindex . contains'0 self ix
    /\ level_log'0 ix = level_of'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) a
    /\ index_logic'0 self ix = a))
  
  predicate invariant'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 237 4 237 34] (self : Trail'0.t_trail) =
    [%#span169] abstract_relation'0 self
    /\ sound'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ invariant'1 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    /\ level'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self))
    = UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    /\ UIntSize.to_int (Cdsat_Trail_Trail_Type.trail_level self)
    = Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self)) - 1
    /\ (forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 (Cdsat_Trail_Trail_Type.trail_assignments self))
     -> Seq.length (shallow_model'1 (index_logic'1 (Cdsat_Trail_Trail_Type.trail_assignments self) i)) > 0)
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> (UIntSize.to_int (Cdsat_Trail_TrailIndex_Type.trailindex_1 ix) = 0)
    = is_decision'0 (Snapshot.inner (Cdsat_Trail_Trail_Type.trail_ghost self)) (index_logic'0 self ix))
    /\ (forall j : TrailIndex'0.t_trailindex . forall i : TrailIndex'0.t_trailindex . contains'0 self i
     -> contains'0 self j  -> i <> j  -> index_logic'0 self i <> index_logic'0 self j)
    /\ justified_is_justified'0 self
    /\ (forall ix : TrailIndex'0.t_trailindex . contains'0 self ix
     -> well_sorted'0 (let (a, _) = index_logic'0 self ix in a))
  
  constant t  : Trail'0.t_trail
  
  constant x  : TrailIndex'0.t_trailindex
  
  constant s  : Fset.fset (TrailIndex'0.t_trailindex)
  
  function ix_to_abs_insert [#"/Users/xavier/Code/cdsat/src/trail.rs" 892 0 892 76] (t : Trail'0.t_trail) (x : TrailIndex'0.t_trailindex) (s : Fset.fset (TrailIndex'0.t_trailindex)) : ()
    
  
  goal vc_ix_to_abs_insert : ([%#strail2] forall i : TrailIndex'0.t_trailindex . contains'1 s i  -> contains'0 t i)
   -> ([%#strail1] contains'0 t x)
   -> ([%#strail0] invariant'0 t)
   -> ([%#strail6] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t (insert'0 s x)) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 (insert'0 s x) ix))
  && ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'1 (insert'0 s x) ix
   -> contains'2 (ix_to_abs'0 t (insert'0 s x)) (index_logic'0 t ix))
   -> ([%#strail6] forall a : (Term'0.t_term, Value'0.t_value) . contains'2 (ix_to_abs'0 t s) a
   -> (exists ix : TrailIndex'0.t_trailindex . a = index_logic'0 t ix /\ contains'1 s ix))
  && ([%#strail5] forall ix : TrailIndex'0.t_trailindex . contains'1 s ix
   -> contains'2 (ix_to_abs'0 t s) (index_logic'0 t ix))
   -> (([%#sfset9] inv'0 (insert'1 (ix_to_abs'0 t s) (index_logic'0 t x)))
  && ([%#sfset8] inv'0 (ix_to_abs'0 t (insert'0 s x))))
  /\ (([%#sfset10] ext_eq'0 (ix_to_abs'0 t (insert'0 s x)) (insert'1 (ix_to_abs'0 t s) (index_logic'0 t x))
   -> ix_to_abs'0 t (insert'0 s x) = insert'1 (ix_to_abs'0 t s) (index_logic'0 t x))
   -> ext_eq'0 (ix_to_abs'0 t (insert'0 s x)) (insert'1 (ix_to_abs'0 t s) (index_logic'0 t x))
  && (let _ = () in let _ = () in [%#strail3] ix_to_abs'0 t (insert'0 s x)
  = insert'1 (ix_to_abs'0 t s) (index_logic'0 t x)))
end
module Cdsat_Trail_Impl14
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 16 16 16 25
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/num.rs" 22 16 22 35
  
  let%span span8 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 18 33 22
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 30 14 30 56
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 31 4 32 53
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 4 33 44
  
  let%span span14 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40
  
  let%span span15 = "/Users/xavier/Code/cdsat/src/term.rs" 237 8 240 9
  
  let%span span16 = "/Users/xavier/Code/cdsat/src/term.rs" 184 20 184 26
  
  let%span span17 = "/Users/xavier/Code/creusot/creusot-contracts-proc/src/lib.rs" 727 0 727 44
  
  let%span span18 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span1] true
  
  predicate inv'2 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span3] inv'1 self)
   -> ([%#span5] inv'2 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'1 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span6] inv'2 (shallow_model'0 self)
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'0 (self : Assignment'0.t_assignment) =
    [%#span1] true
  
  predicate inv'0 (_x : Assignment'0.t_assignment)
  
  axiom inv'0 : forall x : Assignment'0.t_assignment . inv'0 x = true
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  use Cdsat_Theory_Value_Type as Value'1
  
  use Cdsat_Term_Value_Type as Value'0
  
  use Cdsat_Theory_Term_Type as Term'1
  
  use Cdsat_Term_Term_Type as Term'0
  
  function deep_model'5 (self : usize) : int =
    [%#span7] UIntSize.to_int self
  
  use Cdsat_Trail_Assignment_Type as Cdsat_Trail_Assignment_Type
  
  function deep_model'8 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span8] self
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span9] Seq.get (shallow_model'0 self) ix
  
  function deep_model'7 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom deep_model'7_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span10] inv'1 self)
   -> ([%#span13] inv'2 (deep_model'7 self))
  && ([%#span12] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 self)
   -> Seq.get (deep_model'7 self) i = deep_model'8 (index_logic'0 self i))
  && ([%#span11] Seq.length (shallow_model'0 self) = Seq.length (deep_model'7 self))
  
  function deep_model'4 [#"/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40] (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel
    
   =
    [%#span14] match self with
      | Reason'0.C_Justified v0_1 -> ReasonDeepModel'0.C_Justified (deep_model'7 v0_1)
      | Reason'0.C_Decision -> ReasonDeepModel'0.C_Decision
      | Reason'0.C_Input -> ReasonDeepModel'0.C_Input
      end
  
  use prelude.prelude.Real
  
  use NumBigint_Bigint_BigInt_Type as BigInt'0
  
  use NumRational_Ratio_Type as Ratio'0
  
  function deep_model'6 (self : Ratio'0.t_ratio (BigInt'0.t_bigint)) : Real.real
  
  function deep_model'3 [#"/Users/xavier/Code/cdsat/src/term.rs" 236 4 236 44] (self : Value'0.t_value) : Value'1.t_value
    
   =
    [%#span15] match self with
      | Value'0.C_Bool b -> Value'1.C_Bool b
      | Value'0.C_Rat br -> Value'1.C_Rat (deep_model'6 br)
      end
  
  function deep_model'2 [#"/Users/xavier/Code/cdsat/src/term.rs" 183 4 183 44] (self : Term'0.t_term) : Term'1.t_term
  
  use Cdsat_Trail_AssignmentDeepModel_Type as AssignmentDeepModel'0
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 16 31 16 40] (self : Assignment'0.t_assignment) : AssignmentDeepModel'0.t_assignmentdeepmodel
    
   =
    [%#span17] AssignmentDeepModel'0.C_AssignmentDeepModel (deep_model'2 (Cdsat_Trail_Assignment_Type.assignment_term self)) (deep_model'3 (Cdsat_Trail_Assignment_Type.assignment_val self)) (deep_model'4 (Cdsat_Trail_Assignment_Type.assignment_reason self)) (deep_model'5 (Cdsat_Trail_Assignment_Type.assignment_level self))
  
  use prelude.prelude.Borrow
  
  function deep_model'0 (self : Assignment'0.t_assignment) : AssignmentDeepModel'0.t_assignmentdeepmodel =
    [%#span18] deep_model'1 self
  
  goal eq_refn : [%#strail0] forall self : Assignment'0.t_assignment . forall other : Assignment'0.t_assignment . inv'0 other
  /\ inv'0 self
   -> (forall result : bool . result = (deep_model'0 self = deep_model'0 other)
   -> result = (deep_model'0 self = deep_model'0 other))
end
module Cdsat_Trail_Impl18
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 16 48 25
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/.rustup/toolchains/nightly-2024-05-15-aarch64-apple-darwin/lib/rustlib/src/rust/library/core/src/num/uint_macros.rs" 49 8 49 27
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 21 19 25
  
  let%span span4 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 18 14 18 41
  
  let%span span5 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 19 4 19 36
  
  let%span span6 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 60 20 60 41
  
  let%span span7 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span8 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ops.rs" 20 8 20 31
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 18 33 22
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 30 14 30 56
  
  let%span span11 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 31 4 32 53
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/std/vec.rs" 33 4 33 44
  
  let%span span13 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  use seq.Seq
  
  predicate invariant'2 (self : Seq.seq (TrailIndex'0.t_trailindex)) =
    [%#span1] true
  
  predicate inv'2 (_x : Seq.seq (TrailIndex'0.t_trailindex))
  
  axiom inv'2 : forall x : Seq.seq (TrailIndex'0.t_trailindex) . inv'2 x = true
  
  use Alloc_Alloc_Global_Type as Global'0
  
  use Alloc_Vec_Vec_Type as Vec'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  constant max'0 : usize = [%#span2] (18446744073709551615 : usize)
  
  use seq.Seq
  
  predicate inv'1 (_x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global))
  
  function shallow_model'0 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom shallow_model'0_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span3] inv'1 self)
   -> ([%#span5] inv'2 (shallow_model'0 self))
  && ([%#span4] Seq.length (shallow_model'0 self) <= UIntSize.to_int (max'0 : usize))
  
  predicate invariant'1 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) =
    [%#span6] inv'2 (shallow_model'0 self)
  
  axiom inv'1 : forall x : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . inv'1 x = true
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  predicate invariant'0 (self : Reason'0.t_reason) =
    [%#span1] true
  
  predicate inv'0 (_x : Reason'0.t_reason)
  
  axiom inv'0 : forall x : Reason'0.t_reason . inv'0 x = true
  
  function deep_model'3 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span7] self
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) (ix : int) : TrailIndex'0.t_trailindex
    
   =
    [%#span8] Seq.get (shallow_model'0 self) ix
  
  function deep_model'2 (self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global)) : Seq.seq (TrailIndex'0.t_trailindex)
    
  
  axiom deep_model'2_spec : forall self : Vec'0.t_vec (TrailIndex'0.t_trailindex) (Global'0.t_global) . ([%#span9] inv'1 self)
   -> ([%#span12] inv'2 (deep_model'2 self))
  && ([%#span11] forall i : int . 0 <= i /\ i < Seq.length (shallow_model'0 self)
   -> Seq.get (deep_model'2 self) i = deep_model'3 (index_logic'0 self i))
  && ([%#span10] Seq.length (shallow_model'0 self) = Seq.length (deep_model'2 self))
  
  use Cdsat_Trail_ReasonDeepModel_Type as ReasonDeepModel'0
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 48 31 48 40] (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel
    
   =
    [%#span13] match self with
      | Reason'0.C_Justified v0_1 -> ReasonDeepModel'0.C_Justified (deep_model'2 v0_1)
      | Reason'0.C_Decision -> ReasonDeepModel'0.C_Decision
      | Reason'0.C_Input -> ReasonDeepModel'0.C_Input
      end
  
  use prelude.prelude.Borrow
  
  function deep_model'0 (self : Reason'0.t_reason) : ReasonDeepModel'0.t_reasondeepmodel =
    [%#span14] deep_model'1 self
  
  goal eq_refn : [%#strail0] forall self : Reason'0.t_reason . forall other : Reason'0.t_reason . inv'0 other
  /\ inv'0 self
   -> (forall result : bool . result = (deep_model'0 self = deep_model'0 other)
   -> result = (deep_model'0 self = deep_model'0 other))
end
module Cdsat_Trail_Impl22
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 16 66 25
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/model.rs" 81 8 81 28
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  function deep_model'1 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span2] self
  
  use prelude.prelude.Borrow
  
  function deep_model'0 (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex =
    [%#span3] deep_model'1 self
  
  goal eq_refn : [%#strail0] forall self : TrailIndex'0.t_trailindex . forall other : TrailIndex'0.t_trailindex . inv'0 other
  /\ inv'0 self
   -> (forall result : bool . result = (deep_model'0 self = deep_model'0 other)
   -> result = (deep_model'0 self = deep_model'0 other))
end
module Cdsat_Trail_Impl15
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 16 27 16 29
  
  goal assert_receiver_is_total_eq_refn : [%#strail0] true
end
module Cdsat_Trail_Impl19
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 27 48 29
  
  goal assert_receiver_is_total_eq_refn : [%#strail0] true
end
module Cdsat_Trail_Impl23
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 27 66 29
  
  goal assert_receiver_is_total_eq_refn : [%#strail0] true
end
module Cdsat_Trail_Impl16
  
end
module Cdsat_Trail_Impl20
  
end
module Cdsat_Trail_Impl7
  
end
module Cdsat_Trail_Impl21
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 9 66 14
  
  goal fmt_refn : [%#strail0] true
end
module Cdsat_Trail_Impl1
  
end
module Cdsat_Trail_Impl2
  
end
module Cdsat_Trail_Impl6
  
end
module Cdsat_Trail_Impl13
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 16 9 16 14
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  use Cdsat_Trail_Assignment_Type as Assignment'0
  
  predicate invariant'1 (self : Assignment'0.t_assignment) =
    [%#span1] true
  
  predicate inv'1 (_x : Assignment'0.t_assignment)
  
  axiom inv'1 : forall x : Assignment'0.t_assignment . inv'1 x = true
  
  predicate invariant'0 (self : Assignment'0.t_assignment) =
    [%#span1] true
  
  predicate inv'0 (_x : Assignment'0.t_assignment)
  
  axiom inv'0 : forall x : Assignment'0.t_assignment . inv'0 x = true
  
  use prelude.prelude.Borrow
  
  goal clone'_refn : [%#strail0] forall self : Assignment'0.t_assignment . inv'0 self
   -> (forall result : Assignment'0.t_assignment . result = self  -> inv'1 result /\ result = self)
end
module Cdsat_Trail_Impl17
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 48 9 48 14
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  use Cdsat_Trail_Reason_Type as Reason'0
  
  predicate invariant'1 (self : Reason'0.t_reason) =
    [%#span1] true
  
  predicate inv'1 (_x : Reason'0.t_reason)
  
  axiom inv'1 : forall x : Reason'0.t_reason . inv'1 x = true
  
  predicate invariant'0 (self : Reason'0.t_reason) =
    [%#span1] true
  
  predicate inv'0 (_x : Reason'0.t_reason)
  
  axiom inv'0 : forall x : Reason'0.t_reason . inv'0 x = true
  
  use prelude.prelude.Borrow
  
  goal clone'_refn : [%#strail0] forall self : Reason'0.t_reason . inv'0 self
   -> (forall result : Reason'0.t_reason . result = self  -> inv'1 result /\ result = self)
end
module Cdsat_Trail_Impl24
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 66 31 66 36
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'1 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'1 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'1 : forall x : TrailIndex'0.t_trailindex . inv'1 x = true
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use prelude.prelude.Borrow
  
  goal clone'_refn : [%#strail0] forall self : TrailIndex'0.t_trailindex . inv'0 self
   -> (forall result : TrailIndex'0.t_trailindex . result = self  -> inv'1 result /\ result = self)
end
module Cdsat_Trail_Impl0
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 30 4 30 74
  
  goal fmt_refn : [%#strail0] true
end
module Cdsat_Trail_Impl25
  
end
module Cdsat_Trail_Impl3
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 71 4 71 59
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span2] self
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span3] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span4] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  use Core_Option_Option_Type as Option'0
  
  use prelude.prelude.Borrow
  
  goal partial_cmp_refn : [%#strail0] forall self : TrailIndex'0.t_trailindex . forall other : TrailIndex'0.t_trailindex . inv'0 other
  /\ inv'0 self
   -> (forall result : Option'0.t_option (Ordering'0.t_ordering) . result = Option'0.C_Some (cmp_log'0 self other)
   -> result = Option'0.C_Some (cmp_log'0 (deep_model'0 self) (deep_model'0 other)))
end
module Cdsat_Trail_Impl4
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 78 4 78 43
  
  let%span span1 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span2 = "/Users/xavier/Code/cdsat/src/trail.rs" 168 8 168 12
  
  let%span span3 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span4 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span1] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  function deep_model'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 167 4 167 44] (self : TrailIndex'0.t_trailindex) : TrailIndex'0.t_trailindex
    
   =
    [%#span2] self
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span3] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span4] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  use prelude.prelude.Borrow
  
  goal cmp_refn : [%#strail0] forall self : TrailIndex'0.t_trailindex . forall other : TrailIndex'0.t_trailindex . inv'0 other
  /\ inv'0 self
   -> (forall result : Ordering'0.t_ordering . result = cmp_log'0 self other
   -> result = cmp_log'0 (deep_model'0 self) (deep_model'0 other))
end
module Cdsat_Trail_Impl5
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 136 4 136 33
  
  let%span strail1 = "/Users/xavier/Code/cdsat/src/trail.rs" 118 4 118 35
  
  let%span strail2 = "/Users/xavier/Code/cdsat/src/trail.rs" 130 4 130 52
  
  let%span strail3 = "/Users/xavier/Code/cdsat/src/trail.rs" 142 4 142 33
  
  let%span strail4 = "/Users/xavier/Code/cdsat/src/trail.rs" 103 4 103 35
  
  let%span strail5 = "/Users/xavier/Code/cdsat/src/trail.rs" 108 4 108 35
  
  let%span strail6 = "/Users/xavier/Code/cdsat/src/trail.rs" 147 4 147 31
  
  let%span strail7 = "/Users/xavier/Code/cdsat/src/trail.rs" 113 4 113 35
  
  let%span strail8 = "/Users/xavier/Code/cdsat/src/trail.rs" 123 4 123 20
  
  let%span span9 = "/Users/xavier/Code/creusot/creusot-contracts/src/invariant.rs" 8 8 8 12
  
  let%span span10 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 140 16 146 17
  
  let%span span11 = "/Users/xavier/Code/cdsat/src/trail.rs" 93 8 97 9
  
  let%span span12 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 31 20 31 53
  
  let%span span13 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 21 20 21 53
  
  let%span span14 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 11 20 11 56
  
  let%span span15 = "/Users/xavier/Code/creusot/creusot-contracts/src/logic/ord.rs" 41 20 41 56
  
  use Cdsat_Trail_TrailIndex_Type as TrailIndex'0
  
  predicate invariant'0 (self : TrailIndex'0.t_trailindex) =
    [%#span9] true
  
  predicate inv'0 (_x : TrailIndex'0.t_trailindex)
  
  axiom inv'0 : forall x : TrailIndex'0.t_trailindex . inv'0 x = true
  
  use Core_Cmp_Ordering_Type as Ordering'0
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use Cdsat_Trail_TrailIndex_Type as Cdsat_Trail_TrailIndex_Type
  
  function cmp_log'1 (self : usize) (o : usize) : Ordering'0.t_ordering =
    [%#span10] if self < o then Ordering'0.C_Less else if self = o then Ordering'0.C_Equal else Ordering'0.C_Greater
  
  function cmp_log'0 [#"/Users/xavier/Code/cdsat/src/trail.rs" 92 4 92 43] (self : TrailIndex'0.t_trailindex) (rhs : TrailIndex'0.t_trailindex) : Ordering'0.t_ordering
    
   =
    [%#span11] match cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_0 self) (Cdsat_Trail_TrailIndex_Type.trailindex_0 rhs) with
      | Ordering'0.C_Less -> Ordering'0.C_Less
      | Ordering'0.C_Greater -> Ordering'0.C_Greater
      | Ordering'0.C_Equal -> cmp_log'1 (Cdsat_Trail_TrailIndex_Type.trailindex_1 self) (Cdsat_Trail_TrailIndex_Type.trailindex_1 rhs)
      end
  
  function ge_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span12] cmp_log'0 self o <> Ordering'0.C_Less
  
  function lt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span13] cmp_log'0 self o = Ordering'0.C_Less
  
  function le_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span14] cmp_log'0 self o <> Ordering'0.C_Greater
  
  function gt_log'0 (self : TrailIndex'0.t_trailindex) (o : TrailIndex'0.t_trailindex) : bool =
    [%#span15] cmp_log'0 self o = Ordering'0.C_Greater
  
  goal antisym1_refn : [%#strail0] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x /\ cmp_log'0 x y = Ordering'0.C_Less
   -> cmp_log'0 x y = Ordering'0.C_Less
  /\ (forall result : () . cmp_log'0 y x = Ordering'0.C_Greater  -> cmp_log'0 y x = Ordering'0.C_Greater)
  
  goal cmp_gt_log_refn : [%#strail1] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x
   -> (forall result : () . gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater)
   -> gt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Greater))
  
  goal trans_refn : [%#strail2] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . forall z : TrailIndex'0.t_trailindex . forall o : Ordering'0.t_ordering . inv'0 z
  /\ inv'0 y /\ inv'0 x /\ cmp_log'0 y z = o /\ cmp_log'0 x y = o
   -> cmp_log'0 y z = o /\ cmp_log'0 x y = o /\ (forall result : () . cmp_log'0 x z = o  -> cmp_log'0 x z = o)
  
  goal antisym2_refn : [%#strail3] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x /\ cmp_log'0 x y = Ordering'0.C_Greater
   -> cmp_log'0 x y = Ordering'0.C_Greater
  /\ (forall result : () . cmp_log'0 y x = Ordering'0.C_Less  -> cmp_log'0 y x = Ordering'0.C_Less)
  
  goal cmp_le_log_refn : [%#strail4] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x
   -> (forall result : () . le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater)
   -> le_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Greater))
  
  goal cmp_lt_log_refn : [%#strail5] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x
   -> (forall result : () . lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less)
   -> lt_log'0 x y = (cmp_log'0 x y = Ordering'0.C_Less))
  
  goal eq_cmp_refn : [%#strail6] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x
   -> (forall result : () . (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal)
   -> (x = y) = (cmp_log'0 x y = Ordering'0.C_Equal))
  
  goal cmp_ge_log_refn : [%#strail7] forall x : TrailIndex'0.t_trailindex . forall y : TrailIndex'0.t_trailindex . inv'0 y
  /\ inv'0 x
   -> (forall result : () . ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less)
   -> ge_log'0 x y = (cmp_log'0 x y <> Ordering'0.C_Less))
  
  goal refl_refn : [%#strail8] forall x : TrailIndex'0.t_trailindex . inv'0 x
   -> (forall result : () . cmp_log'0 x x = Ordering'0.C_Equal  -> cmp_log'0 x x = Ordering'0.C_Equal)
end
module Cdsat_Trail_Impl26
  
end
module Cdsat_Trail_Impl11
  let%span strail0 = "/Users/xavier/Code/cdsat/src/trail.rs" 716 4 716 55
  
  goal index_refn : [%#strail0] true
end
